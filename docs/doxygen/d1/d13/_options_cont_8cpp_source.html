<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SUMO - Simulation of Urban MObility: OptionsCont.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="../../dir_75b82e7e4a5feb05200b9ad7adf06257.html">home</a>&nbsp;&raquo;&nbsp;<a class="el" href="../../dir_46b8f36974b309f038ffc35aa047a32b.html">boni</a>&nbsp;&raquo;&nbsp;<a class="el" href="../../dir_52e5be8ca53cec2b5437a8ba83e8e4f0.html">Desktop</a>&nbsp;&raquo;&nbsp;<a class="el" href="../../dir_7de3ce0f65e0314f747915173f89e60e.html">DanielTouched</a>&nbsp;&raquo;&nbsp;<a class="el" href="../../dir_a0096e276045b3ff0719c75e0b3c59bf.html">sumo-0.14.0</a>&nbsp;&raquo;&nbsp;<a class="el" href="../../dir_e9b8d709919855cd07b0394009af2578.html">src</a>&nbsp;&raquo;&nbsp;<a class="el" href="../../dir_1483c02c3ac093476d23f4486d5a6601.html">utils</a>&nbsp;&raquo;&nbsp;<a class="el" href="../../dir_6daf6b1b5f6bf62eeb24de09a56818df.html">options</a>
  </div>
</div>
<div class="contents">
<h1>OptionsCont.cpp</h1><a href="../../d1/d13/_options_cont_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************/</span>
<a name="l00010"></a>00010 <span class="comment">// A storage for options (typed value containers)</span>
<a name="l00011"></a>00011 <span class="comment">/****************************************************************************/</span>
<a name="l00012"></a>00012 <span class="comment">// SUMO, Simulation of Urban MObility; see http://sumo.sourceforge.net/</span>
<a name="l00013"></a>00013 <span class="comment">// Copyright (C) 2001-2012 DLR (http://www.dlr.de/) and contributors</span>
<a name="l00014"></a>00014 <span class="comment">/****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">//   This file is part of SUMO.</span>
<a name="l00017"></a>00017 <span class="comment">//   SUMO is free software: you can redistribute it and/or modify</span>
<a name="l00018"></a>00018 <span class="comment">//   it under the terms of the GNU General Public License as published by</span>
<a name="l00019"></a>00019 <span class="comment">//   the Free Software Foundation, either version 3 of the License, or</span>
<a name="l00020"></a>00020 <span class="comment">//   (at your option) any later version.</span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 <span class="comment">/****************************************************************************/</span>
<a name="l00023"></a>00023 <span class="comment">// ===========================================================================</span>
<a name="l00024"></a>00024 <span class="comment">// included modules</span>
<a name="l00025"></a>00025 <span class="comment">// ===========================================================================</span>
<a name="l00026"></a>00026 <span class="preprocessor">#ifdef _MSC_VER</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span><span class="preprocessor">#include &lt;<a class="code" href="../../d3/d99/windows__config_8h.html">windows_config.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#else</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span><span class="preprocessor">#include &lt;<a class="code" href="../../db/d16/config_8h.html">config.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#endif</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;exception&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &lt;cstdlib&gt;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &lt;cassert&gt;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &lt;ctime&gt;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &lt;iterator&gt;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &quot;<a class="code" href="../../da/d39/_option_8h.html">Option.h</a>&quot;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &quot;<a class="code" href="../../d3/d5c/_options_cont_8h.html">OptionsCont.h</a>&quot;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &lt;<a class="code" href="../../d7/db4/_util_exceptions_8h.html">utils/common/UtilExceptions.h</a>&gt;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &lt;<a class="code" href="../../d0/da2/_file_helpers_8h.html">utils/common/FileHelpers.h</a>&gt;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &lt;<a class="code" href="../../d4/df7/_msg_handler_8h.html">utils/common/MsgHandler.h</a>&gt;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &lt;<a class="code" href="../../da/d8e/_string_tokenizer_8h.html">utils/common/StringTokenizer.h</a>&gt;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &lt;<a class="code" href="../../de/dde/_string_utils_8h.html">utils/common/StringUtils.h</a>&gt;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &lt;<a class="code" href="../../d7/d16/_s_u_m_o_s_a_x_attributes_8h.html">utils/xml/SUMOSAXAttributes.h</a>&gt;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &lt;sstream&gt;</span>
<a name="l00051"></a>00051 
<a name="l00052"></a>00052 <span class="preprocessor">#ifdef CHECK_MEMORY_LEAKS</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span><span class="preprocessor">#include &lt;<a class="code" href="../../d7/d8d/debug__new_8h.html">foreign/nvwa/debug_new.h</a>&gt;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#endif // CHECK_MEMORY_LEAKS</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span>
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 <span class="comment">// ===========================================================================</span>
<a name="l00058"></a>00058 <span class="comment">// static member definitions</span>
<a name="l00059"></a>00059 <span class="comment">// ===========================================================================</span>
<a name="l00060"></a>00060 <a class="code" href="../../db/d31/class_options_cont.html" title="A storage for options typed value containers).">OptionsCont</a> <a class="code" href="../../db/d31/class_options_cont.html#ad2f9fc1eb099c1dbc8d0fd523dc5a2ed" title="The static options container used.">OptionsCont::myOptions</a>;
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 <span class="comment">// ===========================================================================</span>
<a name="l00064"></a>00064 <span class="comment">// method definitions</span>
<a name="l00065"></a>00065 <span class="comment">// ===========================================================================</span>
<a name="l00066"></a>00066 <a class="code" href="../../db/d31/class_options_cont.html" title="A storage for options typed value containers).">OptionsCont</a>&amp;
<a name="l00067"></a><a class="code" href="../../db/d31/class_options_cont.html#aeb57cb173789bce33943574837e6221c">00067</a> <a class="code" href="../../db/d31/class_options_cont.html#aeb57cb173789bce33943574837e6221c" title="Retrieves the options.">OptionsCont::getOptions</a>() {
<a name="l00068"></a>00068     <span class="keywordflow">return</span> <a class="code" href="../../db/d31/class_options_cont.html#ad2f9fc1eb099c1dbc8d0fd523dc5a2ed" title="The static options container used.">myOptions</a>;
<a name="l00069"></a>00069 }
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 
<a name="l00072"></a><a class="code" href="../../db/d31/class_options_cont.html#ab7b4d88dac6ef458faa5804b1fe05a56">00072</a> <a class="code" href="../../db/d31/class_options_cont.html#ab7b4d88dac6ef458faa5804b1fe05a56" title="Constructor.">OptionsCont::OptionsCont</a>()
<a name="l00073"></a>00073     : myAddresses(), myValues(), myDeprecatedSynonymes(), myHaveInformedAboutDeprecatedDivider(false) {
<a name="l00074"></a>00074     <a class="code" href="../../db/d31/class_options_cont.html#a6293c123d2a19b3e36fc4c4794b06bd4">myCopyrightNotices</a>.push_back(<span class="stringliteral">&quot;Copyright (C) 2001-2012 DLR and contributors; http://sumo.sourceforge.net&quot;</span>);
<a name="l00075"></a>00075 }
<a name="l00076"></a>00076 
<a name="l00077"></a>00077 
<a name="l00078"></a><a class="code" href="../../db/d31/class_options_cont.html#a099edb74b9f4e0dd21a37d4e4614accf">00078</a> <a class="code" href="../../db/d31/class_options_cont.html#a099edb74b9f4e0dd21a37d4e4614accf" title="Destructor.">OptionsCont::~OptionsCont</a>() {
<a name="l00079"></a>00079     <a class="code" href="../../db/d31/class_options_cont.html#a9a8d1ca3c2ddec8e68b4a1ca179164ad" title="Removes all information from the container.">clear</a>();
<a name="l00080"></a>00080 }
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 <span class="keywordtype">void</span>
<a name="l00084"></a><a class="code" href="../../db/d31/class_options_cont.html#a1c515372d964fbbdeb170d0f9f0efc45">00084</a> <a class="code" href="../../db/d31/class_options_cont.html#a1c515372d964fbbdeb170d0f9f0efc45" title="Adds an option under the given name.">OptionsCont::doRegister</a>(<span class="keyword">const</span> std::string&amp; name, <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* v) {
<a name="l00085"></a>00085     assert(v != 0);
<a name="l00086"></a>00086     ItemAddressContType::iterator i = find(<a class="code" href="../../db/d31/class_options_cont.html#a7c200b88792bff8ac08f912db1065282">myAddresses</a>.begin(), <a class="code" href="../../db/d31/class_options_cont.html#a7c200b88792bff8ac08f912db1065282">myAddresses</a>.end(), v);
<a name="l00087"></a>00087     <span class="keywordflow">if</span> (i == <a class="code" href="../../db/d31/class_options_cont.html#a7c200b88792bff8ac08f912db1065282">myAddresses</a>.end()) {
<a name="l00088"></a>00088         <a class="code" href="../../db/d31/class_options_cont.html#a7c200b88792bff8ac08f912db1065282">myAddresses</a>.push_back(v);
<a name="l00089"></a>00089     }
<a name="l00090"></a>00090     <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.find(name) != <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.end()) {
<a name="l00091"></a>00091         <span class="keywordflow">throw</span> <a class="code" href="../../da/d18/class_process_error.html">ProcessError</a>(name + <span class="stringliteral">&quot; is an already used option name.&quot;</span>);
<a name="l00092"></a>00092     }
<a name="l00093"></a>00093     <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>[name] = v;
<a name="l00094"></a>00094 }
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 
<a name="l00097"></a>00097 <span class="keywordtype">void</span>
<a name="l00098"></a><a class="code" href="../../db/d31/class_options_cont.html#a2a5d83b458cd328abb850de38679d0fb">00098</a> <a class="code" href="../../db/d31/class_options_cont.html#a1c515372d964fbbdeb170d0f9f0efc45" title="Adds an option under the given name.">OptionsCont::doRegister</a>(<span class="keyword">const</span> std::string&amp; name1, <span class="keywordtype">char</span> abbr, <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* v) {
<a name="l00099"></a>00099     <a class="code" href="../../db/d31/class_options_cont.html#a1c515372d964fbbdeb170d0f9f0efc45" title="Adds an option under the given name.">doRegister</a>(name1, v);
<a name="l00100"></a>00100     <a class="code" href="../../db/d31/class_options_cont.html#a1c515372d964fbbdeb170d0f9f0efc45" title="Adds an option under the given name.">doRegister</a>(<a class="code" href="../../db/d31/class_options_cont.html#acd7eb185ba9347d9b21d603b693a1ef9" title="Converts an abbreviation into a name.">convertChar</a>(abbr), v);
<a name="l00101"></a>00101 }
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 
<a name="l00104"></a>00104 <span class="keywordtype">void</span>
<a name="l00105"></a><a class="code" href="../../db/d31/class_options_cont.html#a7dbff27eb1f63d1a2e42e527c5caff97">00105</a> <a class="code" href="../../db/d31/class_options_cont.html#a7dbff27eb1f63d1a2e42e527c5caff97" title="Adds a synonyme for an options name (any order).">OptionsCont::addSynonyme</a>(<span class="keyword">const</span> std::string&amp; name1, <span class="keyword">const</span> std::string&amp; name2, <span class="keywordtype">bool</span> isDeprecated) {
<a name="l00106"></a>00106     KnownContType::iterator i1 = <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.find(name1);
<a name="l00107"></a>00107     KnownContType::iterator i2 = <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.find(name2);
<a name="l00108"></a>00108     <span class="keywordflow">if</span> (i1 == <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.end() &amp;&amp; i2 == <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.end()) {
<a name="l00109"></a>00109         <span class="keywordflow">throw</span> <a class="code" href="../../da/d18/class_process_error.html">ProcessError</a>(<span class="stringliteral">&quot;Neither the option &#39;&quot;</span> + name1 + <span class="stringliteral">&quot;&#39; nor the option &#39;&quot;</span> + name2 + <span class="stringliteral">&quot;&#39; is known yet&quot;</span>);
<a name="l00110"></a>00110     }
<a name="l00111"></a>00111     <span class="keywordflow">if</span> (i1 != <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.end() &amp;&amp; i2 != <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.end()) {
<a name="l00112"></a>00112         <span class="keywordflow">if</span> ((*i1).second == (*i2).second) {
<a name="l00113"></a>00113             <span class="keywordflow">return</span>;
<a name="l00114"></a>00114         }
<a name="l00115"></a>00115         <span class="keywordflow">throw</span> <a class="code" href="../../da/d18/class_process_error.html">ProcessError</a>(<span class="stringliteral">&quot;Both options &#39;&quot;</span> + name1 + <span class="stringliteral">&quot;&#39; and &#39;&quot;</span> + name2 + <span class="stringliteral">&quot;&#39; do exist and differ.&quot;</span>);
<a name="l00116"></a>00116     }
<a name="l00117"></a>00117     <span class="keywordflow">if</span> (i1 == <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.end() &amp;&amp; i2 != <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.end()) {
<a name="l00118"></a>00118         <a class="code" href="../../db/d31/class_options_cont.html#a1c515372d964fbbdeb170d0f9f0efc45" title="Adds an option under the given name.">doRegister</a>(name1, (*i2).second);
<a name="l00119"></a>00119         <span class="keywordflow">if</span> (isDeprecated) {
<a name="l00120"></a>00120             <a class="code" href="../../db/d31/class_options_cont.html#acc638df481802e564eb6877cb1deefe5" title="A map from deprecated options to a bool indicating whether we warned about deprecation...">myDeprecatedSynonymes</a>[name1] = <span class="keyword">false</span>;
<a name="l00121"></a>00121         }
<a name="l00122"></a>00122     }
<a name="l00123"></a>00123     <span class="keywordflow">if</span> (i1 != <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.end() &amp;&amp; i2 == <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.end()) {
<a name="l00124"></a>00124         <a class="code" href="../../db/d31/class_options_cont.html#a1c515372d964fbbdeb170d0f9f0efc45" title="Adds an option under the given name.">doRegister</a>(name2, (*i1).second);
<a name="l00125"></a>00125         <span class="keywordflow">if</span> (isDeprecated) {
<a name="l00126"></a>00126             <a class="code" href="../../db/d31/class_options_cont.html#acc638df481802e564eb6877cb1deefe5" title="A map from deprecated options to a bool indicating whether we warned about deprecation...">myDeprecatedSynonymes</a>[name2] = <span class="keyword">false</span>;
<a name="l00127"></a>00127         }
<a name="l00128"></a>00128     }
<a name="l00129"></a>00129 }
<a name="l00130"></a>00130 
<a name="l00131"></a>00131 
<a name="l00132"></a>00132 <span class="keywordtype">bool</span>
<a name="l00133"></a><a class="code" href="../../db/d31/class_options_cont.html#adcc78690a74f38e25ab15cb4cabcf8c6">00133</a> <a class="code" href="../../db/d31/class_options_cont.html#adcc78690a74f38e25ab15cb4cabcf8c6" title="Returns the information whether the named option is known.">OptionsCont::exists</a>(<span class="keyword">const</span> std::string&amp; name)<span class="keyword"> const </span>{
<a name="l00134"></a>00134     <span class="keywordflow">return</span> <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.count(name) &gt; 0;
<a name="l00135"></a>00135 }
<a name="l00136"></a>00136 
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 <span class="keywordtype">bool</span>
<a name="l00139"></a><a class="code" href="../../db/d31/class_options_cont.html#a08a62e1f4fcf9acaefc97efce45609fc">00139</a> <a class="code" href="../../db/d31/class_options_cont.html#a08a62e1f4fcf9acaefc97efce45609fc" title="Returns the information whether the named option is set.">OptionsCont::isSet</a>(<span class="keyword">const</span> std::string&amp; name, <span class="keywordtype">bool</span> failOnNonExistant)<span class="keyword"> const </span>{
<a name="l00140"></a>00140     KnownContType::const_iterator i = <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.find(name);
<a name="l00141"></a>00141     <span class="keywordflow">if</span> (i == <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.end()) {
<a name="l00142"></a>00142         <span class="keywordflow">if</span> (failOnNonExistant) {
<a name="l00143"></a>00143             <span class="keywordflow">throw</span> <a class="code" href="../../da/d18/class_process_error.html">ProcessError</a>(<span class="stringliteral">&quot;Internal request for unknown option &#39;&quot;</span> + name + <span class="stringliteral">&quot;&#39;!&quot;</span>);
<a name="l00144"></a>00144         } <span class="keywordflow">else</span> {
<a name="l00145"></a>00145             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00146"></a>00146         }
<a name="l00147"></a>00147     }
<a name="l00148"></a>00148     <span class="keywordflow">return</span> (*i).second-&gt;isSet();
<a name="l00149"></a>00149 }
<a name="l00150"></a>00150 
<a name="l00151"></a>00151 
<a name="l00152"></a>00152 <span class="keywordtype">bool</span>
<a name="l00153"></a><a class="code" href="../../db/d31/class_options_cont.html#a39337a353e99fe9dd966fb792f796e31">00153</a> <a class="code" href="../../db/d31/class_options_cont.html#a39337a353e99fe9dd966fb792f796e31" title="Returns the information whether the named option has still the default value.">OptionsCont::isDefault</a>(<span class="keyword">const</span> std::string&amp; name)<span class="keyword"> const </span>{
<a name="l00154"></a>00154     KnownContType::const_iterator i = <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.find(name);
<a name="l00155"></a>00155     <span class="keywordflow">if</span> (i == <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.end()) {
<a name="l00156"></a>00156         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00157"></a>00157     }
<a name="l00158"></a>00158     <span class="keywordflow">return</span> (*i).second-&gt;isDefault();
<a name="l00159"></a>00159 }
<a name="l00160"></a>00160 
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>*
<a name="l00163"></a><a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b">00163</a> <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">OptionsCont::getSecure</a>(<span class="keyword">const</span> std::string&amp; name)<span class="keyword"> const </span>{
<a name="l00164"></a>00164     KnownContType::const_iterator k = <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.find(name);
<a name="l00165"></a>00165     <span class="keywordflow">if</span> (k == <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.end()) {
<a name="l00166"></a>00166         <span class="keywordflow">throw</span> <a class="code" href="../../da/d18/class_process_error.html">ProcessError</a>(<span class="stringliteral">&quot;No option with the name &#39;&quot;</span> + name + <span class="stringliteral">&quot;&#39; exists.&quot;</span>);
<a name="l00167"></a>00167     }
<a name="l00168"></a>00168     std::map&lt;std::string, bool&gt;::iterator s = <a class="code" href="../../db/d31/class_options_cont.html#acc638df481802e564eb6877cb1deefe5" title="A map from deprecated options to a bool indicating whether we warned about deprecation...">myDeprecatedSynonymes</a>.find(name);
<a name="l00169"></a>00169     <span class="keywordflow">if</span> (s != <a class="code" href="../../db/d31/class_options_cont.html#acc638df481802e564eb6877cb1deefe5" title="A map from deprecated options to a bool indicating whether we warned about deprecation...">myDeprecatedSynonymes</a>.end() &amp;&amp; !s-&gt;second) {
<a name="l00170"></a>00170         std::string defaultName;
<a name="l00171"></a>00171         <span class="keywordflow">for</span> (std::map&lt;std::string, std::vector&lt;std::string&gt; &gt;::const_iterator i = <a class="code" href="../../db/d31/class_options_cont.html#a24a222ec24346d20d27e5a74b78b69a0" title="A map from subtopic to option.">mySubTopicEntries</a>.begin(); i != <a class="code" href="../../db/d31/class_options_cont.html#a24a222ec24346d20d27e5a74b78b69a0" title="A map from subtopic to option.">mySubTopicEntries</a>.end(); ++i) {
<a name="l00172"></a>00172             <span class="keywordflow">for</span> (std::vector&lt;std::string&gt;::const_iterator j = i-&gt;second.begin(); j != i-&gt;second.end(); ++j) {
<a name="l00173"></a>00173                 KnownContType::const_iterator l = <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.find(*j);
<a name="l00174"></a>00174                 <span class="keywordflow">if</span> (l != <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.end() &amp;&amp; l-&gt;second == k-&gt;second) {
<a name="l00175"></a>00175                     defaultName = *j;
<a name="l00176"></a>00176                     <span class="keywordflow">break</span>;
<a name="l00177"></a>00177                 }
<a name="l00178"></a>00178             }
<a name="l00179"></a>00179             <span class="keywordflow">if</span> (defaultName != <span class="stringliteral">&quot;&quot;</span>) {
<a name="l00180"></a>00180                 <span class="keywordflow">break</span>;
<a name="l00181"></a>00181             }
<a name="l00182"></a>00182         }
<a name="l00183"></a>00183         <a class="code" href="../../d4/df7/_msg_handler_8h.html#a6875e463bd2d24f027eba135e7a5fdfa">WRITE_WARNING</a>(<span class="stringliteral">&quot;Please note that &#39;&quot;</span> + name + <span class="stringliteral">&quot;&#39; is deprecated.\n Use &#39;&quot;</span> + defaultName + <span class="stringliteral">&quot;&#39; instead.&quot;</span>);
<a name="l00184"></a>00184         s-&gt;second = <span class="keyword">true</span>;
<a name="l00185"></a>00185     }
<a name="l00186"></a>00186     <span class="keywordflow">return</span> k-&gt;second;
<a name="l00187"></a>00187 }
<a name="l00188"></a>00188 
<a name="l00189"></a>00189 
<a name="l00190"></a>00190 std::string
<a name="l00191"></a><a class="code" href="../../db/d31/class_options_cont.html#a52d3421a5d26c2f95b99485de9daa50a">00191</a> <a class="code" href="../../db/d31/class_options_cont.html#a52d3421a5d26c2f95b99485de9daa50a" title="Returns the string-value of the named option (only for Option_String).">OptionsCont::getString</a>(<span class="keyword">const</span> std::string&amp; name)<span class="keyword"> const </span>{
<a name="l00192"></a>00192     <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(name);
<a name="l00193"></a>00193     <span class="keywordflow">return</span> o-&gt;<a class="code" href="../../d4/d33/class_option.html#ab5dbc7454b0e9096feaa52c047532dd5" title="Returns the stored string value.">getString</a>();
<a name="l00194"></a>00194 }
<a name="l00195"></a>00195 
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a>
<a name="l00198"></a><a class="code" href="../../db/d31/class_options_cont.html#ad94844bde0bafb87b800b8f147b7ed16">00198</a> <a class="code" href="../../db/d31/class_options_cont.html#ad94844bde0bafb87b800b8f147b7ed16" title="Returns the SUMOReal-value of the named option (only for Option_Float).">OptionsCont::getFloat</a>(<span class="keyword">const</span> std::string&amp; name)<span class="keyword"> const </span>{
<a name="l00199"></a>00199     <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(name);
<a name="l00200"></a>00200     <span class="keywordflow">return</span> o-&gt;<a class="code" href="../../d4/d33/class_option.html#a0120165baebd78ea9305558799f11666" title="Returns the stored SUMOReal value.">getFloat</a>();
<a name="l00201"></a>00201 }
<a name="l00202"></a>00202 
<a name="l00203"></a>00203 
<a name="l00204"></a>00204 <span class="keywordtype">int</span>
<a name="l00205"></a><a class="code" href="../../db/d31/class_options_cont.html#ae244c2df910bcb4cb4d38ee784ee47f9">00205</a> <a class="code" href="../../db/d31/class_options_cont.html#ae244c2df910bcb4cb4d38ee784ee47f9" title="Returns the int-value of the named option (only for Option_Integer).">OptionsCont::getInt</a>(<span class="keyword">const</span> std::string&amp; name)<span class="keyword"> const </span>{
<a name="l00206"></a>00206     <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(name);
<a name="l00207"></a>00207     <span class="keywordflow">return</span> o-&gt;<a class="code" href="../../d4/d33/class_option.html#abdddba15880305a9a61b2e1bb268621f" title="Returns the stored integer value.">getInt</a>();
<a name="l00208"></a>00208 }
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 
<a name="l00211"></a>00211 <span class="keywordtype">bool</span>
<a name="l00212"></a><a class="code" href="../../db/d31/class_options_cont.html#a69874e7145a196b169c3c56eb58d3d57">00212</a> <a class="code" href="../../db/d31/class_options_cont.html#a69874e7145a196b169c3c56eb58d3d57" title="Returns the boolean-value of the named option (only for Option_Bool).">OptionsCont::getBool</a>(<span class="keyword">const</span> std::string&amp; name)<span class="keyword"> const </span>{
<a name="l00213"></a>00213     <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(name);
<a name="l00214"></a>00214     <span class="keywordflow">return</span> o-&gt;<a class="code" href="../../d4/d33/class_option.html#aff38d30b13aa6d1a6e13e59902fa799f" title="Returns the stored boolean value.">getBool</a>();
<a name="l00215"></a>00215 }
<a name="l00216"></a>00216 
<a name="l00217"></a>00217 
<a name="l00218"></a>00218 <span class="keyword">const</span> <a class="code" href="../../d0/d40/_vector_helper_8h.html#abd48a835af82541ae5704c3ed427fb41" title="Definition of a vector of unsigned ints.">IntVector</a>&amp;
<a name="l00219"></a><a class="code" href="../../db/d31/class_options_cont.html#afcd0af601b154edba2e47cfc6c54999f">00219</a> <a class="code" href="../../db/d31/class_options_cont.html#afcd0af601b154edba2e47cfc6c54999f" title="Returns the list of integer-value of the named option (only for Option_IntVector)...">OptionsCont::getIntVector</a>(<span class="keyword">const</span> std::string&amp; name)<span class="keyword"> const </span>{
<a name="l00220"></a>00220     <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(name);
<a name="l00221"></a>00221     <span class="keywordflow">return</span> o-&gt;<a class="code" href="../../d4/d33/class_option.html#a8923f9866508ca06ffa321669d63b104" title="Returns the stored integer vector.">getIntVector</a>();
<a name="l00222"></a>00222 }
<a name="l00223"></a>00223 
<a name="l00224"></a>00224 
<a name="l00225"></a>00225 <span class="keywordtype">bool</span>
<a name="l00226"></a><a class="code" href="../../db/d31/class_options_cont.html#a2cb75b55695f44b3b1ff0fc24c9cf487">00226</a> <a class="code" href="../../db/d31/class_options_cont.html#a2cb75b55695f44b3b1ff0fc24c9cf487" title="Sets the given value for the named option.">OptionsCont::set</a>(<span class="keyword">const</span> std::string&amp; name, <span class="keyword">const</span> std::string&amp; value) {
<a name="l00227"></a>00227     <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(name);
<a name="l00228"></a>00228    <span class="comment">/* std::cout &lt;&lt; &quot;Get Option description: &quot; &lt;&lt; o-&gt;getDescription() &lt;&lt; &quot;\n&quot;;</span>
<a name="l00229"></a>00229 <span class="comment">    std::cout &lt;&lt; &quot;Get Option string: &quot; &lt;&lt; o-&gt;getString() &lt;&lt; &quot;\n&quot;;*/</span>
<a name="l00230"></a>00230    <span class="comment">/* std::cout &lt;&lt; &quot;Get the simulation file: &quot;&lt;&lt;getString(&quot;extra-file&quot;).c_str()&lt;&lt; &quot;\n&quot;;*/</span>
<a name="l00231"></a>00231     <span class="keywordflow">if</span> (!o-&gt;<a class="code" href="../../d4/d33/class_option.html#a6cdfb2a9fa78e4196513dba4f33609dd" title="Returns the information whether the option may be set a further time.">isWriteable</a>()) {
<a name="l00232"></a>00232         <a class="code" href="../../db/d31/class_options_cont.html#a345fe5cb657f8fecf2b0518341989186" title="Reports an error that the option has already been set.">reportDoubleSetting</a>(name);
<a name="l00233"></a>00233         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00234"></a>00234     }
<a name="l00235"></a>00235     <span class="keywordflow">try</span> {
<a name="l00236"></a>00236         <span class="keywordflow">if</span> (!o-&gt;<a class="code" href="../../d4/d33/class_option.html#a39b9470d9940f0d0132cd095f3b7d549" title="Stores the given value (used for non-bool options).">set</a>(value)) {
<a name="l00237"></a>00237             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00238"></a>00238         }
<a name="l00239"></a>00239     } <span class="keywordflow">catch</span> (<a class="code" href="../../da/d18/class_process_error.html">ProcessError</a>&amp; e) {
<a name="l00240"></a>00240         <a class="code" href="../../d4/df7/_msg_handler_8h.html#a55c513aa2d151eee464020081d6688c2">WRITE_ERROR</a>(<span class="stringliteral">&quot;While processing option &#39;&quot;</span> + name + <span class="stringliteral">&quot;&#39;:\n &quot;</span> + e.what());
<a name="l00241"></a>00241         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00242"></a>00242     }
<a name="l00243"></a>00243     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00244"></a>00244 }
<a name="l00245"></a>00245 
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 std::vector&lt;std::string&gt;
<a name="l00248"></a><a class="code" href="../../db/d31/class_options_cont.html#ada48013762e1d6c37cff7d2c0191782f">00248</a> <a class="code" href="../../db/d31/class_options_cont.html#ada48013762e1d6c37cff7d2c0191782f" title="Returns the synonymes of an option name.">OptionsCont::getSynonymes</a>(<span class="keyword">const</span> std::string&amp; name)<span class="keyword"> const </span>{
<a name="l00249"></a>00249     <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(name);
<a name="l00250"></a>00250     std::vector&lt;std::string&gt; v(0);
<a name="l00251"></a>00251     <span class="keywordflow">for</span> (KnownContType::const_iterator i = <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.begin(); i != <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.end(); i++) {
<a name="l00252"></a>00252         <span class="keywordflow">if</span> ((*i).second == o &amp;&amp; name != (*i).first) {
<a name="l00253"></a>00253             v.push_back((*i).first);
<a name="l00254"></a>00254         }
<a name="l00255"></a>00255     }
<a name="l00256"></a>00256     <span class="keywordflow">return</span> v;
<a name="l00257"></a>00257 }
<a name="l00258"></a>00258 
<a name="l00259"></a>00259 
<a name="l00260"></a>00260 std::ostream&amp;
<a name="l00261"></a><a class="code" href="../../d1/d13/_options_cont_8cpp.html#afcb8b25cae26314901aaf3cdf7fa5b77">00261</a> <a class="code" href="../../da/d3b/_mersenne_twister_8h.html#a059061d50a1e54ee3067d4e1dbdd7c64">operator&lt;&lt;</a>(std::ostream&amp; os, <span class="keyword">const</span> <a class="code" href="../../db/d31/class_options_cont.html" title="A storage for options typed value containers).">OptionsCont</a>&amp; oc) {
<a name="l00262"></a>00262     std::vector&lt;std::string&gt; done;
<a name="l00263"></a>00263     os &lt;&lt; <span class="stringliteral">&quot;Options set:&quot;</span> &lt;&lt; std::endl;
<a name="l00264"></a>00264     <span class="keywordflow">for</span> (OptionsCont::KnownContType::const_iterator i = oc.<a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.begin();
<a name="l00265"></a>00265             i != oc.<a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.end(); i++) {
<a name="l00266"></a>00266         std::vector&lt;std::string&gt;::iterator j = find(done.begin(), done.end(), (*i).first);
<a name="l00267"></a>00267         <span class="keywordflow">if</span> (j == done.end()) {
<a name="l00268"></a>00268             std::vector&lt;std::string&gt; synonymes = oc.<a class="code" href="../../db/d31/class_options_cont.html#ada48013762e1d6c37cff7d2c0191782f" title="Returns the synonymes of an option name.">getSynonymes</a>((*i).first);
<a name="l00269"></a>00269             <span class="keywordflow">if</span> (synonymes.size() != 0) {
<a name="l00270"></a>00270                 os &lt;&lt; (*i).first &lt;&lt; <span class="stringliteral">&quot; (&quot;</span>;
<a name="l00271"></a>00271                 <span class="keywordflow">for</span> (j = synonymes.begin(); j != synonymes.end(); j++) {
<a name="l00272"></a>00272                     <span class="keywordflow">if</span> (j != synonymes.begin()) {
<a name="l00273"></a>00273                         os &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l00274"></a>00274                     }
<a name="l00275"></a>00275                     os &lt;&lt; (*j);
<a name="l00276"></a>00276                 }
<a name="l00277"></a>00277                 os &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l00278"></a>00278             } <span class="keywordflow">else</span> {
<a name="l00279"></a>00279                 os &lt;&lt; (*i).first;
<a name="l00280"></a>00280             }
<a name="l00281"></a>00281             <span class="keywordflow">if</span> ((*i).second-&gt;isSet()) {
<a name="l00282"></a>00282                 os &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; (*i).second-&gt;getValueString() &lt;&lt; std::endl;
<a name="l00283"></a>00283             } <span class="keywordflow">else</span> {
<a name="l00284"></a>00284                 os &lt;&lt; <span class="stringliteral">&quot;: &lt;INVALID&gt;&quot;</span> &lt;&lt; std::endl;
<a name="l00285"></a>00285             }
<a name="l00286"></a>00286             done.push_back((*i).first);
<a name="l00287"></a>00287             copy(synonymes.begin(), synonymes.end(), back_inserter(done));
<a name="l00288"></a>00288         }
<a name="l00289"></a>00289     }
<a name="l00290"></a>00290     <span class="keywordflow">return</span> os;
<a name="l00291"></a>00291 }
<a name="l00292"></a>00292 
<a name="l00293"></a>00293 
<a name="l00294"></a>00294 <span class="keywordtype">void</span>
<a name="l00295"></a><a class="code" href="../../db/d31/class_options_cont.html#af54140768eb32103e4061762ffff5e11">00295</a> <a class="code" href="../../db/d31/class_options_cont.html#af54140768eb32103e4061762ffff5e11" title="Modifies file name options according to the configuration path.">OptionsCont::relocateFiles</a>(<span class="keyword">const</span> std::string&amp; configuration)<span class="keyword"> const </span>{
<a name="l00296"></a>00296     <span class="keywordflow">for</span> (ItemAddressContType::const_iterator i = <a class="code" href="../../db/d31/class_options_cont.html#a7c200b88792bff8ac08f912db1065282">myAddresses</a>.begin(); i != <a class="code" href="../../db/d31/class_options_cont.html#a7c200b88792bff8ac08f912db1065282">myAddresses</a>.end(); i++) {
<a name="l00297"></a>00297         <span class="keywordflow">if</span> ((*i)-&gt;isFileName() &amp;&amp; (*i)-&gt;isSet()) {
<a name="l00298"></a>00298             <a class="code" href="../../db/dc0/class_string_tokenizer.html">StringTokenizer</a> st((*i)-&gt;getString(), <span class="stringliteral">&quot;;, &quot;</span>, <span class="keyword">true</span>);
<a name="l00299"></a>00299             std::string conv;
<a name="l00300"></a>00300             <span class="keywordflow">while</span> (st.hasNext()) {
<a name="l00301"></a>00301                 <span class="keywordflow">if</span> (conv.length() != 0) {
<a name="l00302"></a>00302                     conv += <span class="charliteral">&#39;,&#39;</span>;
<a name="l00303"></a>00303                 }
<a name="l00304"></a>00304                 std::string tmp = st.next();
<a name="l00305"></a>00305                 <span class="keywordflow">if</span> (!<a class="code" href="../../de/d41/class_file_helpers.html#a1b3591f4c125abefd4c81db4a3a07f7e" title="Returns the information whether the given path is absolute.">FileHelpers::isAbsolute</a>(tmp)) {
<a name="l00306"></a>00306                     tmp = <a class="code" href="../../de/d41/class_file_helpers.html#a27633bed372359a20f930f08fe3eaf9d" title="Returns the second path as a relative path to the first file.">FileHelpers::getConfigurationRelative</a>(configuration, tmp);
<a name="l00307"></a>00307                 }
<a name="l00308"></a>00308                 conv += tmp;
<a name="l00309"></a>00309             }
<a name="l00310"></a>00310             (*i)-&gt;set(conv);
<a name="l00311"></a>00311         }
<a name="l00312"></a>00312     }
<a name="l00313"></a>00313 }
<a name="l00314"></a>00314 
<a name="l00315"></a>00315 
<a name="l00316"></a>00316 <span class="keywordtype">bool</span>
<a name="l00317"></a><a class="code" href="../../db/d31/class_options_cont.html#a0017782b90eb8137482855fbc1fd3695">00317</a> <a class="code" href="../../db/d31/class_options_cont.html#a0017782b90eb8137482855fbc1fd3695" title="Checks whether the named option is usable as a file list (with at least a single...">OptionsCont::isUsableFileList</a>(<span class="keyword">const</span> std::string&amp; name)<span class="keyword"> const </span>{
<a name="l00318"></a>00318     <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(name);
<a name="l00319"></a>00319     <span class="comment">// check whether the option is set</span>
<a name="l00320"></a>00320     <span class="comment">//  return false i not</span>
<a name="l00321"></a>00321     <span class="keywordflow">if</span> (!o-&gt;<a class="code" href="../../d4/d33/class_option.html#a8f0057d2ed9abd7edb796b59c4cf967e" title="returns the information whether this options holds a valid value">isSet</a>()) {
<a name="l00322"></a>00322         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00323"></a>00323     }
<a name="l00324"></a>00324     <span class="comment">// check whether the list of files is valid</span>
<a name="l00325"></a>00325     <span class="keywordtype">bool</span> ok = <span class="keyword">true</span>;
<a name="l00326"></a>00326     std::vector&lt;std::string&gt; files = <a class="code" href="../../db/d31/class_options_cont.html#a6713cebc23d2e3a88f8a00942e4fee32" title="Returns the list of string-vector-value of the named option (only for Option_String)...">getStringVector</a>(name);
<a name="l00327"></a>00327     <span class="keywordflow">if</span> (files.size() == 0) {
<a name="l00328"></a>00328         <a class="code" href="../../d4/df7/_msg_handler_8h.html#a55c513aa2d151eee464020081d6688c2">WRITE_ERROR</a>(<span class="stringliteral">&quot;The file list for &#39;&quot;</span> + name + <span class="stringliteral">&quot;&#39; is empty.&quot;</span>);
<a name="l00329"></a>00329         ok = <span class="keyword">false</span>;
<a name="l00330"></a>00330     }
<a name="l00331"></a>00331     <span class="keywordflow">for</span> (std::vector&lt;std::string&gt;::const_iterator fileIt = files.begin(); fileIt != files.end(); ++fileIt) {
<a name="l00332"></a>00332         <span class="keywordflow">if</span> (!<a class="code" href="../../de/d41/class_file_helpers.html#a7f457b757712c42c00f1917f98579e98" title="Checks whether the given file exists.">FileHelpers::exists</a>(*fileIt)) {
<a name="l00333"></a>00333             <span class="keywordflow">if</span> (*fileIt != <span class="stringliteral">&quot;&quot;</span>) {
<a name="l00334"></a>00334                 <a class="code" href="../../d4/df7/_msg_handler_8h.html#a55c513aa2d151eee464020081d6688c2">WRITE_ERROR</a>(<span class="stringliteral">&quot;File &#39;&quot;</span> + *fileIt + <span class="stringliteral">&quot;&#39; does not exist.&quot;</span>);
<a name="l00335"></a>00335                 ok = <span class="keyword">false</span>;
<a name="l00336"></a>00336             } <span class="keywordflow">else</span> {
<a name="l00337"></a>00337                 <a class="code" href="../../d4/df7/_msg_handler_8h.html#a6875e463bd2d24f027eba135e7a5fdfa">WRITE_WARNING</a>(<span class="stringliteral">&quot;Empty file name given; ignoring.&quot;</span>);
<a name="l00338"></a>00338             }
<a name="l00339"></a>00339         }
<a name="l00340"></a>00340     }
<a name="l00341"></a>00341     <span class="keywordflow">return</span> ok;
<a name="l00342"></a>00342 }
<a name="l00343"></a>00343 
<a name="l00344"></a>00344 
<a name="l00345"></a>00345 <span class="keywordtype">bool</span>
<a name="l00346"></a><a class="code" href="../../db/d31/class_options_cont.html#afa1d145f2835776904189f32c44e768a">00346</a> <a class="code" href="../../db/d31/class_options_cont.html#afa1d145f2835776904189f32c44e768a" title="Checks whether an option is set, which has options with a prefix depending on it...">OptionsCont::checkDependingSuboptions</a>(<span class="keyword">const</span> std::string&amp; name, <span class="keyword">const</span> std::string&amp; prefix)<span class="keyword"> const </span>{
<a name="l00347"></a>00347     <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(name);
<a name="l00348"></a>00348     <span class="keywordflow">if</span> (o-&gt;<a class="code" href="../../d4/d33/class_option.html#a8f0057d2ed9abd7edb796b59c4cf967e" title="returns the information whether this options holds a valid value">isSet</a>()) {
<a name="l00349"></a>00349         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00350"></a>00350     }
<a name="l00351"></a>00351     <span class="keywordtype">bool</span> ok = <span class="keyword">true</span>;
<a name="l00352"></a>00352     std::vector&lt;std::string&gt; seenSynonymes;
<a name="l00353"></a>00353     <span class="keywordflow">for</span> (KnownContType::const_iterator i = <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.begin(); i != <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.end(); i++) {
<a name="l00354"></a>00354         <span class="keywordflow">if</span> (std::find(seenSynonymes.begin(), seenSynonymes.end(), (*i).first) != seenSynonymes.end()) {
<a name="l00355"></a>00355             <span class="keywordflow">continue</span>;
<a name="l00356"></a>00356         }
<a name="l00357"></a>00357         <span class="keywordflow">if</span> ((*i).second-&gt;isSet() &amp;&amp; !(*i).second-&gt;isDefault() &amp;&amp; (*i).first.find(prefix) == 0) {
<a name="l00358"></a>00358             <a class="code" href="../../d4/df7/_msg_handler_8h.html#a55c513aa2d151eee464020081d6688c2">WRITE_ERROR</a>(<span class="stringliteral">&quot;Option &#39;&quot;</span> + (*i).first + <span class="stringliteral">&quot;&#39; needs option &#39;&quot;</span> + name + <span class="stringliteral">&quot;&#39;.&quot;</span>);
<a name="l00359"></a>00359             std::vector&lt;std::string&gt; synonymes = <a class="code" href="../../db/d31/class_options_cont.html#ada48013762e1d6c37cff7d2c0191782f" title="Returns the synonymes of an option name.">getSynonymes</a>((*i).first);
<a name="l00360"></a>00360             std::copy(synonymes.begin(), synonymes.end(), std::back_inserter(seenSynonymes));
<a name="l00361"></a>00361             ok = <span class="keyword">false</span>;
<a name="l00362"></a>00362         }
<a name="l00363"></a>00363     }
<a name="l00364"></a>00364     <span class="keywordflow">return</span> ok;
<a name="l00365"></a>00365 }
<a name="l00366"></a>00366 
<a name="l00367"></a>00367 
<a name="l00368"></a>00368 <span class="keywordtype">void</span>
<a name="l00369"></a><a class="code" href="../../db/d31/class_options_cont.html#a345fe5cb657f8fecf2b0518341989186">00369</a> <a class="code" href="../../db/d31/class_options_cont.html#a345fe5cb657f8fecf2b0518341989186" title="Reports an error that the option has already been set.">OptionsCont::reportDoubleSetting</a>(<span class="keyword">const</span> std::string&amp; arg)<span class="keyword"> const </span>{
<a name="l00370"></a>00370     std::vector&lt;std::string&gt; synonymes = <a class="code" href="../../db/d31/class_options_cont.html#ada48013762e1d6c37cff7d2c0191782f" title="Returns the synonymes of an option name.">getSynonymes</a>(arg);
<a name="l00371"></a>00371     std::ostringstream s;
<a name="l00372"></a>00372     s &lt;&lt; <span class="stringliteral">&quot;A value for the option &#39;&quot;</span> + arg + <span class="stringliteral">&quot;&#39; was already set.\n Possible synonymes: &quot;</span>;
<a name="l00373"></a>00373     <span class="keywordflow">for</span> (std::vector&lt;std::string&gt;::iterator i = synonymes.begin(); i != synonymes.end();) {
<a name="l00374"></a>00374         s &lt;&lt; (*i);
<a name="l00375"></a>00375         i++;
<a name="l00376"></a>00376         <span class="keywordflow">if</span> (i != synonymes.end()) {
<a name="l00377"></a>00377             s &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l00378"></a>00378         }
<a name="l00379"></a>00379     }
<a name="l00380"></a>00380     <a class="code" href="../../d4/df7/_msg_handler_8h.html#a55c513aa2d151eee464020081d6688c2">WRITE_ERROR</a>(s.str());
<a name="l00381"></a>00381 }
<a name="l00382"></a>00382 
<a name="l00383"></a>00383 
<a name="l00384"></a>00384 std::string
<a name="l00385"></a><a class="code" href="../../db/d31/class_options_cont.html#acd7eb185ba9347d9b21d603b693a1ef9">00385</a> <a class="code" href="../../db/d31/class_options_cont.html#acd7eb185ba9347d9b21d603b693a1ef9" title="Converts an abbreviation into a name.">OptionsCont::convertChar</a>(<span class="keywordtype">char</span> abbr)<span class="keyword"> const </span>{
<a name="l00386"></a>00386     <span class="keywordtype">char</span> buf[2];
<a name="l00387"></a>00387     buf[0] = abbr;
<a name="l00388"></a>00388     buf[1] = 0;
<a name="l00389"></a>00389     std::string s(buf);
<a name="l00390"></a>00390     <span class="keywordflow">return</span> s;
<a name="l00391"></a>00391 }
<a name="l00392"></a>00392 
<a name="l00393"></a>00393 
<a name="l00394"></a>00394 <span class="keywordtype">bool</span>
<a name="l00395"></a><a class="code" href="../../db/d31/class_options_cont.html#ab49c9c16c480ad7ecf3aefb5b6b9bce7">00395</a> <a class="code" href="../../db/d31/class_options_cont.html#ab49c9c16c480ad7ecf3aefb5b6b9bce7" title="Returns the information whether the option is a boolean option.">OptionsCont::isBool</a>(<span class="keyword">const</span> std::string&amp; name)<span class="keyword"> const </span>{
<a name="l00396"></a>00396     <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(name);
<a name="l00397"></a>00397     <span class="keywordflow">return</span> o-&gt;<a class="code" href="../../d4/d33/class_option.html#ac83bf8829a5335abf2ab7c6d7c43e912" title="Returns the information whether the option is a bool option.">isBool</a>();
<a name="l00398"></a>00398 }
<a name="l00399"></a>00399 
<a name="l00400"></a>00400 
<a name="l00401"></a>00401 <span class="keywordtype">void</span>
<a name="l00402"></a><a class="code" href="../../db/d31/class_options_cont.html#ae311b3f85b51bcdbf492e92a58235f45">00402</a> <a class="code" href="../../db/d31/class_options_cont.html#ae311b3f85b51bcdbf492e92a58235f45" title="Resets all options to be writeable.">OptionsCont::resetWritable</a>() {
<a name="l00403"></a>00403     <span class="keywordflow">for</span> (ItemAddressContType::iterator i = <a class="code" href="../../db/d31/class_options_cont.html#a7c200b88792bff8ac08f912db1065282">myAddresses</a>.begin(); i != <a class="code" href="../../db/d31/class_options_cont.html#a7c200b88792bff8ac08f912db1065282">myAddresses</a>.end(); i++) {
<a name="l00404"></a>00404         (*i)-&gt;resetWritable();
<a name="l00405"></a>00405     }
<a name="l00406"></a>00406 }
<a name="l00407"></a>00407 
<a name="l00408"></a>00408 
<a name="l00409"></a>00409 <span class="keywordtype">bool</span>
<a name="l00410"></a><a class="code" href="../../db/d31/class_options_cont.html#a2468d278e950940ad448f7ce2c85f158">00410</a> <a class="code" href="../../db/d31/class_options_cont.html#a2468d278e950940ad448f7ce2c85f158" title="Returns the information whether the named option may be set.">OptionsCont::isWriteable</a>(<span class="keyword">const</span> std::string&amp; name) {
<a name="l00411"></a>00411     <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(name);
<a name="l00412"></a>00412     <span class="keywordflow">return</span> o-&gt;<a class="code" href="../../d4/d33/class_option.html#a6cdfb2a9fa78e4196513dba4f33609dd" title="Returns the information whether the option may be set a further time.">isWriteable</a>();
<a name="l00413"></a>00413 }
<a name="l00414"></a>00414 
<a name="l00415"></a>00415 
<a name="l00416"></a>00416 <span class="keywordtype">void</span>
<a name="l00417"></a><a class="code" href="../../db/d31/class_options_cont.html#a9a8d1ca3c2ddec8e68b4a1ca179164ad">00417</a> <a class="code" href="../../db/d31/class_options_cont.html#a9a8d1ca3c2ddec8e68b4a1ca179164ad" title="Removes all information from the container.">OptionsCont::clear</a>() {
<a name="l00418"></a>00418     ItemAddressContType::iterator i;
<a name="l00419"></a>00419     <span class="keywordflow">for</span> (i = <a class="code" href="../../db/d31/class_options_cont.html#a7c200b88792bff8ac08f912db1065282">myAddresses</a>.begin(); i != <a class="code" href="../../db/d31/class_options_cont.html#a7c200b88792bff8ac08f912db1065282">myAddresses</a>.end(); i++) {
<a name="l00420"></a>00420         <span class="keyword">delete</span>(*i);
<a name="l00421"></a>00421     }
<a name="l00422"></a>00422     <a class="code" href="../../db/d31/class_options_cont.html#a7c200b88792bff8ac08f912db1065282">myAddresses</a>.clear();
<a name="l00423"></a>00423     <a class="code" href="../../db/d31/class_options_cont.html#a8a3357cabc49e23abe142266b9939410">myValues</a>.clear();
<a name="l00424"></a>00424     <a class="code" href="../../db/d31/class_options_cont.html#a71f15f4b1d9f9e14080417b684515d16">mySubTopics</a>.clear();
<a name="l00425"></a>00425     <a class="code" href="../../db/d31/class_options_cont.html#a24a222ec24346d20d27e5a74b78b69a0" title="A map from subtopic to option.">mySubTopicEntries</a>.clear();
<a name="l00426"></a>00426 }
<a name="l00427"></a>00427 
<a name="l00428"></a>00428 
<a name="l00429"></a>00429 <span class="keywordtype">void</span>
<a name="l00430"></a><a class="code" href="../../db/d31/class_options_cont.html#a0c1e3191e380cbc63dd1f6abdf02faf0">00430</a> <a class="code" href="../../db/d31/class_options_cont.html#a0c1e3191e380cbc63dd1f6abdf02faf0" title="Adds a description for an option.">OptionsCont::addDescription</a>(<span class="keyword">const</span> std::string&amp; name,
<a name="l00431"></a>00431                             <span class="keyword">const</span> std::string&amp; subtopic,
<a name="l00432"></a>00432                             <span class="keyword">const</span> std::string&amp; description) {
<a name="l00433"></a>00433     <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(name);
<a name="l00434"></a>00434     assert(o != 0);
<a name="l00435"></a>00435     assert(find(<a class="code" href="../../db/d31/class_options_cont.html#a71f15f4b1d9f9e14080417b684515d16">mySubTopics</a>.begin(), <a class="code" href="../../db/d31/class_options_cont.html#a71f15f4b1d9f9e14080417b684515d16">mySubTopics</a>.end(), subtopic) != <a class="code" href="../../db/d31/class_options_cont.html#a71f15f4b1d9f9e14080417b684515d16">mySubTopics</a>.end());
<a name="l00436"></a>00436     o-&gt;<a class="code" href="../../d4/d33/class_option.html#a823247d7470771e816f38f9592f450b9" title="Sets the description of what this option does.">setDescription</a>(description);
<a name="l00437"></a>00437     <a class="code" href="../../db/d31/class_options_cont.html#a24a222ec24346d20d27e5a74b78b69a0" title="A map from subtopic to option.">mySubTopicEntries</a>[subtopic].push_back(name);
<a name="l00438"></a>00438 }
<a name="l00439"></a>00439 
<a name="l00440"></a>00440 
<a name="l00441"></a>00441 <span class="keywordtype">void</span>
<a name="l00442"></a><a class="code" href="../../db/d31/class_options_cont.html#a407488353ad78606d8950469f61f6c06">00442</a> <a class="code" href="../../db/d31/class_options_cont.html#a407488353ad78606d8950469f61f6c06" title="Sets the application name.">OptionsCont::setApplicationName</a>(<span class="keyword">const</span> std::string&amp; appName,
<a name="l00443"></a>00443                                 <span class="keyword">const</span> std::string&amp; fullName) {
<a name="l00444"></a>00444     <a class="code" href="../../db/d31/class_options_cont.html#ae1c37fa14c1676774ae97c9015ee2b15" title="some information on the application">myAppName</a> = appName;
<a name="l00445"></a>00445     <a class="code" href="../../db/d31/class_options_cont.html#aebdfc868c996869606ba4743c13f8722">myFullName</a> = fullName;
<a name="l00446"></a>00446 }
<a name="l00447"></a>00447 
<a name="l00448"></a>00448 
<a name="l00449"></a>00449 <span class="keywordtype">void</span>
<a name="l00450"></a><a class="code" href="../../db/d31/class_options_cont.html#a9ce9b7c3f74517d29a7c458b794a1f5d">00450</a> <a class="code" href="../../db/d31/class_options_cont.html#a9ce9b7c3f74517d29a7c458b794a1f5d" title="Sets the application description.">OptionsCont::setApplicationDescription</a>(<span class="keyword">const</span> std::string&amp; appDesc) {
<a name="l00451"></a>00451     <a class="code" href="../../db/d31/class_options_cont.html#ac11cdfaa55c1cb6a4fe0804725cb2c72">myAppDescription</a> = appDesc;
<a name="l00452"></a>00452 }
<a name="l00453"></a>00453 
<a name="l00454"></a>00454 
<a name="l00455"></a>00455 <span class="keywordtype">void</span>
<a name="l00456"></a><a class="code" href="../../db/d31/class_options_cont.html#a7e30162baec512445fc6ba42f932c707">00456</a> <a class="code" href="../../db/d31/class_options_cont.html#a7e30162baec512445fc6ba42f932c707" title="Add a call example.">OptionsCont::addCallExample</a>(<span class="keyword">const</span> std::string&amp; example) {
<a name="l00457"></a>00457     <a class="code" href="../../db/d31/class_options_cont.html#af0478a4a4068b86fbdedd83a24ab5037" title="lists of call examples, option subtopics and copyright notices">myCallExamples</a>.push_back(example);
<a name="l00458"></a>00458 }
<a name="l00459"></a>00459 
<a name="l00460"></a>00460 
<a name="l00461"></a>00461 <span class="keywordtype">void</span>
<a name="l00462"></a><a class="code" href="../../db/d31/class_options_cont.html#a08363e26e7aaa945235432addcdba7e4">00462</a> <a class="code" href="../../db/d31/class_options_cont.html#a08363e26e7aaa945235432addcdba7e4" title="Sets an additional message to be printed at the begin of the help screen.">OptionsCont::setAdditionalHelpMessage</a>(<span class="keyword">const</span> std::string&amp; add) {
<a name="l00463"></a>00463     <a class="code" href="../../db/d31/class_options_cont.html#a5ee7dbcf48504faf950433c170e4531d">myAdditionalMessage</a> = add;
<a name="l00464"></a>00464 }
<a name="l00465"></a>00465 
<a name="l00466"></a>00466 
<a name="l00467"></a>00467 <span class="keywordtype">void</span>
<a name="l00468"></a><a class="code" href="../../db/d31/class_options_cont.html#a90a36f53262a6258216e9fc2d96a6d39">00468</a> <a class="code" href="../../db/d31/class_options_cont.html#a90a36f53262a6258216e9fc2d96a6d39" title="Adds a copyright notice to the help output.">OptionsCont::addCopyrightNotice</a>(<span class="keyword">const</span> std::string&amp; copyrightLine) {
<a name="l00469"></a>00469     <a class="code" href="../../db/d31/class_options_cont.html#a6293c123d2a19b3e36fc4c4794b06bd4">myCopyrightNotices</a>.push_back(copyrightLine);
<a name="l00470"></a>00470 }
<a name="l00471"></a>00471 
<a name="l00472"></a>00472 
<a name="l00473"></a>00473 <span class="keywordtype">void</span>
<a name="l00474"></a><a class="code" href="../../db/d31/class_options_cont.html#aa8adcff930728d9fedfb9d64cb859751">00474</a> <a class="code" href="../../db/d31/class_options_cont.html#aa8adcff930728d9fedfb9d64cb859751" title="Removes all copyright information.">OptionsCont::clearCopyrightNotices</a>() {
<a name="l00475"></a>00475     <a class="code" href="../../db/d31/class_options_cont.html#a6293c123d2a19b3e36fc4c4794b06bd4">myCopyrightNotices</a>.clear();
<a name="l00476"></a>00476 }
<a name="l00477"></a>00477 
<a name="l00478"></a>00478 
<a name="l00479"></a>00479 <span class="keywordtype">void</span>
<a name="l00480"></a><a class="code" href="../../db/d31/class_options_cont.html#aac2eb2ba5b0c969462d5b15e4107c908">00480</a> <a class="code" href="../../db/d31/class_options_cont.html#aac2eb2ba5b0c969462d5b15e4107c908" title="Adds an option subtopic.">OptionsCont::addOptionSubTopic</a>(<span class="keyword">const</span> std::string&amp; topic) {
<a name="l00481"></a>00481     <a class="code" href="../../db/d31/class_options_cont.html#a71f15f4b1d9f9e14080417b684515d16">mySubTopics</a>.push_back(topic);
<a name="l00482"></a>00482     <a class="code" href="../../db/d31/class_options_cont.html#a24a222ec24346d20d27e5a74b78b69a0" title="A map from subtopic to option.">mySubTopicEntries</a>[topic] = std::vector&lt;std::string&gt;();
<a name="l00483"></a>00483 }
<a name="l00484"></a>00484 
<a name="l00485"></a>00485 
<a name="l00486"></a>00486 <span class="keywordtype">void</span>
<a name="l00487"></a><a class="code" href="../../db/d31/class_options_cont.html#a336895651b7337b5073301b123e4214b">00487</a> <a class="code" href="../../db/d31/class_options_cont.html#a336895651b7337b5073301b123e4214b" title="Writes the given string &amp;#39;formatted&amp;#39;.">OptionsCont::splitLines</a>(std::ostream&amp; os, std::string what,
<a name="l00488"></a>00488                         <span class="keywordtype">size_t</span> offset, <span class="keywordtype">size_t</span> nextOffset) {
<a name="l00489"></a>00489     <span class="keywordflow">while</span> (what.length() &gt; 0) {
<a name="l00490"></a>00490         <span class="keywordflow">if</span> (what.length() &gt; 79 - offset) {
<a name="l00491"></a>00491             <span class="keywordtype">size_t</span> splitPos = what.rfind(<span class="charliteral">&#39;;&#39;</span>, 79 - offset);
<a name="l00492"></a>00492             <span class="keywordflow">if</span> (splitPos == std::string::npos) {
<a name="l00493"></a>00493                 splitPos = what.rfind(<span class="charliteral">&#39; &#39;</span>, 79 - offset);
<a name="l00494"></a>00494             } <span class="keywordflow">else</span> {
<a name="l00495"></a>00495                 splitPos++;
<a name="l00496"></a>00496             }
<a name="l00497"></a>00497             <span class="keywordflow">if</span> (splitPos != std::string::npos) {
<a name="l00498"></a>00498                 os &lt;&lt; what.substr(0, splitPos) &lt;&lt; std::endl;
<a name="l00499"></a>00499                 what = what.substr(splitPos);
<a name="l00500"></a>00500                 <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> r = 0; r &lt; nextOffset + 1; ++r) {
<a name="l00501"></a>00501                     os &lt;&lt; <span class="charliteral">&#39; &#39;</span>;
<a name="l00502"></a>00502                 }
<a name="l00503"></a>00503             } <span class="keywordflow">else</span> {
<a name="l00504"></a>00504                 os &lt;&lt; what;
<a name="l00505"></a>00505                 what = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00506"></a>00506             }
<a name="l00507"></a>00507             offset = nextOffset;
<a name="l00508"></a>00508         } <span class="keywordflow">else</span> {
<a name="l00509"></a>00509             os &lt;&lt; what;
<a name="l00510"></a>00510             what = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00511"></a>00511         }
<a name="l00512"></a>00512     }
<a name="l00513"></a>00513     os &lt;&lt; std::endl;
<a name="l00514"></a>00514 }
<a name="l00515"></a>00515 
<a name="l00516"></a>00516 
<a name="l00517"></a>00517 <span class="keywordtype">bool</span>
<a name="l00518"></a><a class="code" href="../../db/d31/class_options_cont.html#af64e215cb88ccd525a8ec0d612887821">00518</a> <a class="code" href="../../db/d31/class_options_cont.html#af64e215cb88ccd525a8ec0d612887821" title="Checks for help and configuration output, returns whether we should exit.">OptionsCont::processMetaOptions</a>(<span class="keywordtype">bool</span> missingOptions) {
<a name="l00519"></a>00519     <span class="keywordflow">if</span> (missingOptions) {
<a name="l00520"></a>00520         <span class="comment">// no options are given</span>
<a name="l00521"></a>00521         std::cout &lt;&lt; <a class="code" href="../../db/d31/class_options_cont.html#aebdfc868c996869606ba4743c13f8722">myFullName</a> &lt;&lt; std::endl;
<a name="l00522"></a>00522         <span class="keywordflow">for</span> (std::vector&lt;std::string&gt;::const_iterator it =
<a name="l00523"></a>00523                     <a class="code" href="../../db/d31/class_options_cont.html#a6293c123d2a19b3e36fc4c4794b06bd4">myCopyrightNotices</a>.begin(); it != <a class="code" href="../../db/d31/class_options_cont.html#a6293c123d2a19b3e36fc4c4794b06bd4">myCopyrightNotices</a>.end(); ++it) {
<a name="l00524"></a>00524             std::cout &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; *it &lt;&lt; std::endl;
<a name="l00525"></a>00525         }
<a name="l00526"></a>00526         std::cout &lt;&lt; <span class="stringliteral">&quot; License GPLv3+: GNU GPL Version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\n&quot;</span>;
<a name="l00527"></a>00527         std::cout &lt;&lt; <span class="stringliteral">&quot; Use --help to get the list of options.&quot;</span> &lt;&lt; std::endl;
<a name="l00528"></a>00528         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00529"></a>00529     }
<a name="l00530"></a>00530 
<a name="l00531"></a>00531     <span class="comment">// check whether the help shall be printed</span>
<a name="l00532"></a>00532     <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#a69874e7145a196b169c3c56eb58d3d57" title="Returns the boolean-value of the named option (only for Option_Bool).">getBool</a>(<span class="stringliteral">&quot;help&quot;</span>)) {
<a name="l00533"></a>00533         std::cout &lt;&lt; <a class="code" href="../../db/d31/class_options_cont.html#aebdfc868c996869606ba4743c13f8722">myFullName</a> &lt;&lt; std::endl;
<a name="l00534"></a>00534         <span class="keywordflow">for</span> (std::vector&lt;std::string&gt;::const_iterator it =
<a name="l00535"></a>00535                     <a class="code" href="../../db/d31/class_options_cont.html#a6293c123d2a19b3e36fc4c4794b06bd4">myCopyrightNotices</a>.begin(); it != <a class="code" href="../../db/d31/class_options_cont.html#a6293c123d2a19b3e36fc4c4794b06bd4">myCopyrightNotices</a>.end(); ++it) {
<a name="l00536"></a>00536             std::cout &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; *it &lt;&lt; std::endl;
<a name="l00537"></a>00537         }
<a name="l00538"></a>00538         <a class="code" href="../../db/d31/class_options_cont.html#ab7d221897fa945f0acf642975cdd21a2" title="Prints the help.">printHelp</a>(std::cout);
<a name="l00539"></a>00539         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00540"></a>00540     }
<a name="l00541"></a>00541     <span class="comment">// check whether the help shall be printed</span>
<a name="l00542"></a>00542     <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#a69874e7145a196b169c3c56eb58d3d57" title="Returns the boolean-value of the named option (only for Option_Bool).">getBool</a>(<span class="stringliteral">&quot;version&quot;</span>)) {
<a name="l00543"></a>00543         std::cout &lt;&lt; <a class="code" href="../../db/d31/class_options_cont.html#aebdfc868c996869606ba4743c13f8722">myFullName</a> &lt;&lt; std::endl;
<a name="l00544"></a>00544         <span class="keywordflow">for</span> (std::vector&lt;std::string&gt;::const_iterator it =
<a name="l00545"></a>00545                     <a class="code" href="../../db/d31/class_options_cont.html#a6293c123d2a19b3e36fc4c4794b06bd4">myCopyrightNotices</a>.begin(); it != <a class="code" href="../../db/d31/class_options_cont.html#a6293c123d2a19b3e36fc4c4794b06bd4">myCopyrightNotices</a>.end(); ++it) {
<a name="l00546"></a>00546             std::cout &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; *it &lt;&lt; std::endl;
<a name="l00547"></a>00547         }
<a name="l00548"></a>00548         std::cout &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span> &lt;&lt; <a class="code" href="../../db/d31/class_options_cont.html#aebdfc868c996869606ba4743c13f8722">myFullName</a> &lt;&lt; <span class="stringliteral">&quot; is part of SUMO.\n&quot;</span>;
<a name="l00549"></a>00549         std::cout &lt;&lt; <span class="stringliteral">&quot;SUMO is free software: you can redistribute it and/or modify\n&quot;</span>;
<a name="l00550"></a>00550         std::cout &lt;&lt; <span class="stringliteral">&quot;it under the terms of the GNU General Public License as published by\n&quot;</span>;
<a name="l00551"></a>00551         std::cout &lt;&lt; <span class="stringliteral">&quot;the Free Software Foundation, either version 3 of the License, or\n&quot;</span>;
<a name="l00552"></a>00552         std::cout &lt;&lt; <span class="stringliteral">&quot;(at your option) any later version.\n\n&quot;</span>;
<a name="l00553"></a>00553         std::cout &lt;&lt; <span class="stringliteral">&quot;This program is distributed in the hope that it will be useful,\n&quot;</span>;
<a name="l00554"></a>00554         std::cout &lt;&lt; <span class="stringliteral">&quot;but WITHOUT ANY WARRANTY; without even the implied warranty of\n&quot;</span>;
<a name="l00555"></a>00555         std::cout &lt;&lt; <span class="stringliteral">&quot;MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n&quot;</span>;
<a name="l00556"></a>00556         std::cout &lt;&lt; <span class="stringliteral">&quot;GNU General Public License for more details.\n\n&quot;</span>;
<a name="l00557"></a>00557         std::cout &lt;&lt; <span class="stringliteral">&quot;You should have received a copy of the GNU General Public License\n&quot;</span>;
<a name="l00558"></a>00558         std::cout &lt;&lt; <span class="stringliteral">&quot;along with this program. If not, see http://www.gnu.org/licenses/gpl.html&quot;</span> &lt;&lt; std::endl;
<a name="l00559"></a>00559         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00560"></a>00560     }
<a name="l00561"></a>00561     <span class="comment">// check whether the settings shall be printed</span>
<a name="l00562"></a>00562     <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#adcc78690a74f38e25ab15cb4cabcf8c6" title="Returns the information whether the named option is known.">exists</a>(<span class="stringliteral">&quot;print-options&quot;</span>) &amp;&amp; <a class="code" href="../../db/d31/class_options_cont.html#a69874e7145a196b169c3c56eb58d3d57" title="Returns the boolean-value of the named option (only for Option_Bool).">getBool</a>(<span class="stringliteral">&quot;print-options&quot;</span>)) {
<a name="l00563"></a>00563         std::cout &lt;&lt; (*this);
<a name="l00564"></a>00564     }
<a name="l00565"></a>00565     <span class="comment">// check whether something has to be done with options</span>
<a name="l00566"></a>00566     <span class="comment">// whether the current options shall be saved</span>
<a name="l00567"></a>00567     <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#a08a62e1f4fcf9acaefc97efce45609fc" title="Returns the information whether the named option is set.">isSet</a>(<span class="stringliteral">&quot;save-configuration&quot;</span>, <span class="keyword">false</span>)) { <span class="comment">// sumo-gui does not register these</span>
<a name="l00568"></a>00568         <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#a52d3421a5d26c2f95b99485de9daa50a" title="Returns the string-value of the named option (only for Option_String).">getString</a>(<span class="stringliteral">&quot;save-configuration&quot;</span>) == <span class="stringliteral">&quot;-&quot;</span> || <a class="code" href="../../db/d31/class_options_cont.html#a52d3421a5d26c2f95b99485de9daa50a" title="Returns the string-value of the named option (only for Option_String).">getString</a>(<span class="stringliteral">&quot;save-configuration&quot;</span>) == <span class="stringliteral">&quot;stdout&quot;</span>) {
<a name="l00569"></a>00569             <a class="code" href="../../db/d31/class_options_cont.html#a314a7958f2e9f6ebb1c82e09f1cbc003" title="Writes the configuration.">writeConfiguration</a>(std::cout, <span class="keyword">true</span>, <span class="keyword">false</span>, <a class="code" href="../../db/d31/class_options_cont.html#a69874e7145a196b169c3c56eb58d3d57" title="Returns the boolean-value of the named option (only for Option_Bool).">getBool</a>(<span class="stringliteral">&quot;save-commented&quot;</span>));
<a name="l00570"></a>00570             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00571"></a>00571         }
<a name="l00572"></a>00572         std::ofstream out(<a class="code" href="../../db/d31/class_options_cont.html#a52d3421a5d26c2f95b99485de9daa50a" title="Returns the string-value of the named option (only for Option_String).">getString</a>(<span class="stringliteral">&quot;save-configuration&quot;</span>).c_str());
<a name="l00573"></a>00573         <span class="keywordflow">if</span> (!out.good()) {
<a name="l00574"></a>00574             <span class="keywordflow">throw</span> <a class="code" href="../../da/d18/class_process_error.html">ProcessError</a>(<span class="stringliteral">&quot;Could not save configuration to &#39;&quot;</span> + <a class="code" href="../../db/d31/class_options_cont.html#a52d3421a5d26c2f95b99485de9daa50a" title="Returns the string-value of the named option (only for Option_String).">getString</a>(<span class="stringliteral">&quot;save-configuration&quot;</span>) + <span class="stringliteral">&quot;&#39;&quot;</span>);
<a name="l00575"></a>00575         } <span class="keywordflow">else</span> {
<a name="l00576"></a>00576             <a class="code" href="../../db/d31/class_options_cont.html#a314a7958f2e9f6ebb1c82e09f1cbc003" title="Writes the configuration.">writeConfiguration</a>(out, <span class="keyword">true</span>, <span class="keyword">false</span>, <a class="code" href="../../db/d31/class_options_cont.html#a69874e7145a196b169c3c56eb58d3d57" title="Returns the boolean-value of the named option (only for Option_Bool).">getBool</a>(<span class="stringliteral">&quot;save-commented&quot;</span>));
<a name="l00577"></a>00577             <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#a69874e7145a196b169c3c56eb58d3d57" title="Returns the boolean-value of the named option (only for Option_Bool).">getBool</a>(<span class="stringliteral">&quot;verbose&quot;</span>)) {
<a name="l00578"></a>00578                 <a class="code" href="../../d4/df7/_msg_handler_8h.html#a4ff0c29263eba441db6e23204912ff7f">WRITE_MESSAGE</a>(<span class="stringliteral">&quot;Written configuration to &#39;&quot;</span> + <a class="code" href="../../db/d31/class_options_cont.html#a52d3421a5d26c2f95b99485de9daa50a" title="Returns the string-value of the named option (only for Option_String).">getString</a>(<span class="stringliteral">&quot;save-configuration&quot;</span>) + <span class="stringliteral">&quot;&#39;&quot;</span>);
<a name="l00579"></a>00579             }
<a name="l00580"></a>00580             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00581"></a>00581         }
<a name="l00582"></a>00582     }
<a name="l00583"></a>00583     <span class="comment">// whether the template shall be saved</span>
<a name="l00584"></a>00584     <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#a08a62e1f4fcf9acaefc97efce45609fc" title="Returns the information whether the named option is set.">isSet</a>(<span class="stringliteral">&quot;save-template&quot;</span>, <span class="keyword">false</span>)) { <span class="comment">// sumo-gui does not register these</span>
<a name="l00585"></a>00585         <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#a52d3421a5d26c2f95b99485de9daa50a" title="Returns the string-value of the named option (only for Option_String).">getString</a>(<span class="stringliteral">&quot;save-template&quot;</span>) == <span class="stringliteral">&quot;-&quot;</span> || <a class="code" href="../../db/d31/class_options_cont.html#a52d3421a5d26c2f95b99485de9daa50a" title="Returns the string-value of the named option (only for Option_String).">getString</a>(<span class="stringliteral">&quot;save-template&quot;</span>) == <span class="stringliteral">&quot;stdout&quot;</span>) {
<a name="l00586"></a>00586             <a class="code" href="../../db/d31/class_options_cont.html#a314a7958f2e9f6ebb1c82e09f1cbc003" title="Writes the configuration.">writeConfiguration</a>(std::cout, <span class="keyword">false</span>, <span class="keyword">true</span>, <a class="code" href="../../db/d31/class_options_cont.html#a69874e7145a196b169c3c56eb58d3d57" title="Returns the boolean-value of the named option (only for Option_Bool).">getBool</a>(<span class="stringliteral">&quot;save-commented&quot;</span>));
<a name="l00587"></a>00587             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00588"></a>00588         }
<a name="l00589"></a>00589         std::ofstream out(<a class="code" href="../../db/d31/class_options_cont.html#a52d3421a5d26c2f95b99485de9daa50a" title="Returns the string-value of the named option (only for Option_String).">getString</a>(<span class="stringliteral">&quot;save-template&quot;</span>).c_str());
<a name="l00590"></a>00590         <span class="keywordflow">if</span> (!out.good()) {
<a name="l00591"></a>00591             <span class="keywordflow">throw</span> <a class="code" href="../../da/d18/class_process_error.html">ProcessError</a>(<span class="stringliteral">&quot;Could not save template to &#39;&quot;</span> + <a class="code" href="../../db/d31/class_options_cont.html#a52d3421a5d26c2f95b99485de9daa50a" title="Returns the string-value of the named option (only for Option_String).">getString</a>(<span class="stringliteral">&quot;save-template&quot;</span>) + <span class="stringliteral">&quot;&#39;&quot;</span>);
<a name="l00592"></a>00592         } <span class="keywordflow">else</span> {
<a name="l00593"></a>00593             <a class="code" href="../../db/d31/class_options_cont.html#a314a7958f2e9f6ebb1c82e09f1cbc003" title="Writes the configuration.">writeConfiguration</a>(out, <span class="keyword">false</span>, <span class="keyword">true</span>, <a class="code" href="../../db/d31/class_options_cont.html#a69874e7145a196b169c3c56eb58d3d57" title="Returns the boolean-value of the named option (only for Option_Bool).">getBool</a>(<span class="stringliteral">&quot;save-commented&quot;</span>));
<a name="l00594"></a>00594             <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#a69874e7145a196b169c3c56eb58d3d57" title="Returns the boolean-value of the named option (only for Option_Bool).">getBool</a>(<span class="stringliteral">&quot;verbose&quot;</span>)) {
<a name="l00595"></a>00595                 <a class="code" href="../../d4/df7/_msg_handler_8h.html#a4ff0c29263eba441db6e23204912ff7f">WRITE_MESSAGE</a>(<span class="stringliteral">&quot;Written template to &#39;&quot;</span> + <a class="code" href="../../db/d31/class_options_cont.html#a52d3421a5d26c2f95b99485de9daa50a" title="Returns the string-value of the named option (only for Option_String).">getString</a>(<span class="stringliteral">&quot;save-template&quot;</span>) + <span class="stringliteral">&quot;&#39;&quot;</span>);
<a name="l00596"></a>00596             }
<a name="l00597"></a>00597             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00598"></a>00598         }
<a name="l00599"></a>00599     }
<a name="l00600"></a>00600     <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#a08a62e1f4fcf9acaefc97efce45609fc" title="Returns the information whether the named option is set.">isSet</a>(<span class="stringliteral">&quot;save-schema&quot;</span>, <span class="keyword">false</span>)) { <span class="comment">// sumo-gui does not register these</span>
<a name="l00601"></a>00601         <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#a52d3421a5d26c2f95b99485de9daa50a" title="Returns the string-value of the named option (only for Option_String).">getString</a>(<span class="stringliteral">&quot;save-schema&quot;</span>) == <span class="stringliteral">&quot;-&quot;</span> || <a class="code" href="../../db/d31/class_options_cont.html#a52d3421a5d26c2f95b99485de9daa50a" title="Returns the string-value of the named option (only for Option_String).">getString</a>(<span class="stringliteral">&quot;save-schema&quot;</span>) == <span class="stringliteral">&quot;stdout&quot;</span>) {
<a name="l00602"></a>00602             <a class="code" href="../../db/d31/class_options_cont.html#a02bd8c4ff8731933339a38d362006120" title="Writes the xml schema for the configuration.">writeSchema</a>(std::cout, <a class="code" href="../../db/d31/class_options_cont.html#a69874e7145a196b169c3c56eb58d3d57" title="Returns the boolean-value of the named option (only for Option_Bool).">getBool</a>(<span class="stringliteral">&quot;save-commented&quot;</span>));
<a name="l00603"></a>00603             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00604"></a>00604         }
<a name="l00605"></a>00605         std::ofstream out(<a class="code" href="../../db/d31/class_options_cont.html#a52d3421a5d26c2f95b99485de9daa50a" title="Returns the string-value of the named option (only for Option_String).">getString</a>(<span class="stringliteral">&quot;save-schema&quot;</span>).c_str());
<a name="l00606"></a>00606         <span class="keywordflow">if</span> (!out.good()) {
<a name="l00607"></a>00607             <span class="keywordflow">throw</span> <a class="code" href="../../da/d18/class_process_error.html">ProcessError</a>(<span class="stringliteral">&quot;Could not save schema to &#39;&quot;</span> + <a class="code" href="../../db/d31/class_options_cont.html#a52d3421a5d26c2f95b99485de9daa50a" title="Returns the string-value of the named option (only for Option_String).">getString</a>(<span class="stringliteral">&quot;save-schema&quot;</span>) + <span class="stringliteral">&quot;&#39;&quot;</span>);
<a name="l00608"></a>00608         } <span class="keywordflow">else</span> {
<a name="l00609"></a>00609             <a class="code" href="../../db/d31/class_options_cont.html#a02bd8c4ff8731933339a38d362006120" title="Writes the xml schema for the configuration.">writeSchema</a>(out, <a class="code" href="../../db/d31/class_options_cont.html#a69874e7145a196b169c3c56eb58d3d57" title="Returns the boolean-value of the named option (only for Option_Bool).">getBool</a>(<span class="stringliteral">&quot;save-commented&quot;</span>));
<a name="l00610"></a>00610             <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#a69874e7145a196b169c3c56eb58d3d57" title="Returns the boolean-value of the named option (only for Option_Bool).">getBool</a>(<span class="stringliteral">&quot;verbose&quot;</span>)) {
<a name="l00611"></a>00611                 <a class="code" href="../../d4/df7/_msg_handler_8h.html#a4ff0c29263eba441db6e23204912ff7f">WRITE_MESSAGE</a>(<span class="stringliteral">&quot;Written schema to &#39;&quot;</span> + <a class="code" href="../../db/d31/class_options_cont.html#a52d3421a5d26c2f95b99485de9daa50a" title="Returns the string-value of the named option (only for Option_String).">getString</a>(<span class="stringliteral">&quot;save-schema&quot;</span>) + <span class="stringliteral">&quot;&#39;&quot;</span>);
<a name="l00612"></a>00612             }
<a name="l00613"></a>00613             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00614"></a>00614         }
<a name="l00615"></a>00615     }
<a name="l00616"></a>00616     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00617"></a>00617 }
<a name="l00618"></a>00618 
<a name="l00619"></a>00619 <span class="keywordtype">void</span>
<a name="l00620"></a><a class="code" href="../../db/d31/class_options_cont.html#ab7d221897fa945f0acf642975cdd21a2">00620</a> <a class="code" href="../../db/d31/class_options_cont.html#ab7d221897fa945f0acf642975cdd21a2" title="Prints the help.">OptionsCont::printHelp</a>(std::ostream&amp; os) {
<a name="l00621"></a>00621     std::vector&lt;std::string&gt;::const_iterator i, j;
<a name="l00622"></a>00622 <span class="comment">//#define WIKI_OUTPUT 1</span>
<a name="l00623"></a>00623 <span class="preprocessor">#ifdef WIKI_OUTPUT</span>
<a name="l00624"></a>00624 <span class="preprocessor"></span>    <span class="keywordflow">for</span> (i = <a class="code" href="../../db/d31/class_options_cont.html#a71f15f4b1d9f9e14080417b684515d16">mySubTopics</a>.begin(); i != <a class="code" href="../../db/d31/class_options_cont.html#a71f15f4b1d9f9e14080417b684515d16">mySubTopics</a>.end(); ++i) {
<a name="l00625"></a>00625         os &lt;&lt; <span class="stringliteral">&quot;===&quot;</span> &lt;&lt; (*i) &lt;&lt; <span class="stringliteral">&quot;===\n&quot;</span>;
<a name="l00626"></a>00626         os &lt;&lt; <span class="stringliteral">&quot;{| cellspacing=\&quot;0\&quot; border=\&quot;1\&quot; width=\&quot;90%\&quot; align=\&quot;center\&quot;\n&quot;</span>;
<a name="l00627"></a>00627         os &lt;&lt; <span class="stringliteral">&quot;|-\n&quot;</span>;
<a name="l00628"></a>00628         os &lt;&lt; <span class="stringliteral">&quot;! style=\&quot;background:#ddffdd;\&quot; valign=\&quot;top\&quot; | Option\n&quot;</span>;
<a name="l00629"></a>00629         os &lt;&lt; <span class="stringliteral">&quot;! style=\&quot;background:#ddffdd;\&quot; valign=\&quot;top\&quot; | Default Value\n&quot;</span>;
<a name="l00630"></a>00630         os &lt;&lt; <span class="stringliteral">&quot;! style=\&quot;background:#ddffdd;\&quot; valign=\&quot;top\&quot; | Description\n&quot;</span>;
<a name="l00631"></a>00631         <span class="keyword">const</span> std::vector&lt;std::string&gt; &amp;entries = <a class="code" href="../../db/d31/class_options_cont.html#a24a222ec24346d20d27e5a74b78b69a0" title="A map from subtopic to option.">mySubTopicEntries</a>[*i];
<a name="l00632"></a>00632         <span class="keywordflow">for</span> (j = entries.begin(); j != entries.end(); ++j) {
<a name="l00633"></a>00633             <span class="comment">// start length computation</span>
<a name="l00634"></a>00634             <span class="keywordtype">size_t</span> csize = (*j).length() + 2;
<a name="l00635"></a>00635             <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(*j);
<a name="l00636"></a>00636             os &lt;&lt; <span class="stringliteral">&quot;|-\n&quot;</span>;
<a name="l00637"></a>00637             os &lt;&lt; <span class="stringliteral">&quot;| valign=\&quot;top\&quot; | &quot;</span>;
<a name="l00638"></a>00638             <span class="comment">// write abbreviation if given</span>
<a name="l00639"></a>00639             std::vector&lt;std::string&gt; synonymes = <a class="code" href="../../db/d31/class_options_cont.html#ada48013762e1d6c37cff7d2c0191782f" title="Returns the synonymes of an option name.">getSynonymes</a>(*j);
<a name="l00640"></a>00640             std::vector&lt;std::string&gt;::iterator a = find_if(synonymes.begin(), synonymes.end(), <a class="code" href="../../da/d3a/class_options_cont_1_1abbreviation__finder.html" title="A class to find abbreviated option names (length=1).">abbreviation_finder</a>());
<a name="l00641"></a>00641             std::string outputType = o-&gt;<a class="code" href="../../d4/d33/class_option.html#a970d8afa784ced67046220653f607cfe" title="Returns the mml-type name of this option.">getTypeName</a>();
<a name="l00642"></a>00642             <span class="keywordflow">if</span> (a != synonymes.end()) {
<a name="l00643"></a>00643                 os &lt;&lt; <span class="stringliteral">&quot;{{Option|-&quot;</span> &lt;&lt; (*a) &lt;&lt; <span class="stringliteral">&quot; {{DT_&quot;</span> &lt;&lt; outputType &lt;&lt; <span class="stringliteral">&quot;}}}}&lt;br/&gt;&quot;</span>;
<a name="l00644"></a>00644             }
<a name="l00645"></a>00645             <span class="comment">// write the name</span>
<a name="l00646"></a>00646             os &lt;&lt; <span class="stringliteral">&quot;{{Option|--&quot;</span> &lt;&lt; *j &lt;&lt; <span class="stringliteral">&quot; {{DT_&quot;</span> &lt;&lt; outputType &lt;&lt; <span class="stringliteral">&quot;}}}}\n&quot;</span>;
<a name="l00647"></a>00647             std::string defaultValue = o-&gt;<a class="code" href="../../d4/d33/class_option.html#a8f0057d2ed9abd7edb796b59c4cf967e" title="returns the information whether this options holds a valid value">isSet</a>() ? o-&gt;<a class="code" href="../../d4/d33/class_option.html#afd7f24fff096e9042d430e38b41030e8" title="Returns the string-representation of the value.">getValueString</a>() : <span class="stringliteral">&quot;&quot;</span>;
<a name="l00648"></a>00648             os &lt;&lt; <span class="stringliteral">&quot;| valign=\&quot;top\&quot; | &quot;</span> &lt;&lt; defaultValue &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00649"></a>00649             os &lt;&lt; <span class="stringliteral">&quot;| valign=\&quot;top\&quot; | &quot;</span> &lt;&lt; o-&gt;<a class="code" href="../../d4/d33/class_option.html#a29c0f27d2434c71eb925ce86c15bc9b2" title="Returns the description of what this option does.">getDescription</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00650"></a>00650         }
<a name="l00651"></a>00651         os &lt;&lt; <span class="stringliteral">&quot;|-\n&quot;</span>;
<a name="l00652"></a>00652         os &lt;&lt; <span class="stringliteral">&quot;|}\n\n&quot;</span>;
<a name="l00653"></a>00653     }
<a name="l00654"></a>00654     <span class="keywordflow">return</span>;
<a name="l00655"></a>00655 <span class="preprocessor">#endif</span>
<a name="l00656"></a>00656 <span class="preprocessor"></span>    <span class="comment">// print application description</span>
<a name="l00657"></a>00657     os &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; std::endl;
<a name="l00658"></a>00658     <a class="code" href="../../db/d31/class_options_cont.html#a336895651b7337b5073301b123e4214b" title="Writes the given string &amp;#39;formatted&amp;#39;.">splitLines</a>(os, <a class="code" href="../../db/d31/class_options_cont.html#ac11cdfaa55c1cb6a4fe0804725cb2c72">myAppDescription</a>, 0, 0);
<a name="l00659"></a>00659     os &lt;&lt; std::endl;
<a name="l00660"></a>00660     <span class="comment">// print usage BNF</span>
<a name="l00661"></a>00661     os &lt;&lt; <span class="stringliteral">&quot;Usage: &quot;</span> &lt;&lt; <a class="code" href="../../db/d31/class_options_cont.html#ae1c37fa14c1676774ae97c9015ee2b15" title="some information on the application">myAppName</a> &lt;&lt; <span class="stringliteral">&quot; [OPTION]*&quot;</span> &lt;&lt; std::endl;
<a name="l00662"></a>00662     os &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; std::endl;
<a name="l00663"></a>00663     <span class="comment">// print usage examples</span>
<a name="l00664"></a>00664     <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#af0478a4a4068b86fbdedd83a24ab5037" title="lists of call examples, option subtopics and copyright notices">myCallExamples</a>.size() &gt; 1) {
<a name="l00665"></a>00665         os &lt;&lt; <span class="stringliteral">&quot; Examples:&quot;</span> &lt;&lt; std::endl;
<a name="l00666"></a>00666     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#af0478a4a4068b86fbdedd83a24ab5037" title="lists of call examples, option subtopics and copyright notices">myCallExamples</a>.size() != 0) {
<a name="l00667"></a>00667         os &lt;&lt; <span class="stringliteral">&quot; Example:&quot;</span> &lt;&lt; std::endl;
<a name="l00668"></a>00668     }
<a name="l00669"></a>00669     <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#af0478a4a4068b86fbdedd83a24ab5037" title="lists of call examples, option subtopics and copyright notices">myCallExamples</a>.size() != 0) {
<a name="l00670"></a>00670         <span class="keywordflow">for</span> (i = <a class="code" href="../../db/d31/class_options_cont.html#af0478a4a4068b86fbdedd83a24ab5037" title="lists of call examples, option subtopics and copyright notices">myCallExamples</a>.begin(); i != <a class="code" href="../../db/d31/class_options_cont.html#af0478a4a4068b86fbdedd83a24ab5037" title="lists of call examples, option subtopics and copyright notices">myCallExamples</a>.end(); ++i) {
<a name="l00671"></a>00671             os &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; <a class="code" href="../../db/d31/class_options_cont.html#ae1c37fa14c1676774ae97c9015ee2b15" title="some information on the application">myAppName</a> &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; (*i) &lt;&lt; std::endl;
<a name="l00672"></a>00672         }
<a name="l00673"></a>00673     }
<a name="l00674"></a>00674     os &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; std::endl;
<a name="l00675"></a>00675     <span class="comment">// print additional text if any</span>
<a name="l00676"></a>00676     <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#a5ee7dbcf48504faf950433c170e4531d">myAdditionalMessage</a>.length() &gt; 0) {
<a name="l00677"></a>00677         os &lt;&lt; <a class="code" href="../../db/d31/class_options_cont.html#a5ee7dbcf48504faf950433c170e4531d">myAdditionalMessage</a> &lt;&lt; std::endl &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; std::endl;
<a name="l00678"></a>00678     }
<a name="l00679"></a>00679     <span class="comment">// print the options</span>
<a name="l00680"></a>00680     <span class="comment">// check their sizes first</span>
<a name="l00681"></a>00681     <span class="comment">//  we want to know how large the largest not-too-large-entry will be</span>
<a name="l00682"></a>00682     <span class="keywordtype">size_t</span> tooLarge = 40;
<a name="l00683"></a>00683     <span class="keywordtype">size_t</span> maxSize = 0;
<a name="l00684"></a>00684     <span class="keywordflow">for</span> (i = <a class="code" href="../../db/d31/class_options_cont.html#a71f15f4b1d9f9e14080417b684515d16">mySubTopics</a>.begin(); i != <a class="code" href="../../db/d31/class_options_cont.html#a71f15f4b1d9f9e14080417b684515d16">mySubTopics</a>.end(); ++i) {
<a name="l00685"></a>00685         <span class="keyword">const</span> std::vector&lt;std::string&gt; &amp;entries = <a class="code" href="../../db/d31/class_options_cont.html#a24a222ec24346d20d27e5a74b78b69a0" title="A map from subtopic to option.">mySubTopicEntries</a>[*i];
<a name="l00686"></a>00686         <span class="keywordflow">for</span> (j = entries.begin(); j != entries.end(); ++j) {
<a name="l00687"></a>00687             <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(*j);
<a name="l00688"></a>00688             <span class="comment">// name, two leading spaces and &quot;--&quot;</span>
<a name="l00689"></a>00689             <span class="keywordtype">size_t</span> csize = (*j).length() + 2 + 4;
<a name="l00690"></a>00690             <span class="comment">// abbreviation length (&quot;-X, &quot;-&gt;4chars) if any</span>
<a name="l00691"></a>00691             std::vector&lt;std::string&gt; synonymes = <a class="code" href="../../db/d31/class_options_cont.html#ada48013762e1d6c37cff7d2c0191782f" title="Returns the synonymes of an option name.">getSynonymes</a>(*j);
<a name="l00692"></a>00692             <span class="keywordflow">if</span> (find_if(synonymes.begin(), synonymes.end(), <a class="code" href="../../da/d3a/class_options_cont_1_1abbreviation__finder.html" title="A class to find abbreviated option names (length=1).">abbreviation_finder</a>()) != synonymes.end()) {
<a name="l00693"></a>00693                 csize += 4;
<a name="l00694"></a>00694             }
<a name="l00695"></a>00695             <span class="comment">// the type name</span>
<a name="l00696"></a>00696             <span class="keywordflow">if</span> (!o-&gt;<a class="code" href="../../d4/d33/class_option.html#ac83bf8829a5335abf2ab7c6d7c43e912" title="Returns the information whether the option is a bool option.">isBool</a>()) {
<a name="l00697"></a>00697                 csize += 1 + o-&gt;<a class="code" href="../../d4/d33/class_option.html#a970d8afa784ced67046220653f607cfe" title="Returns the mml-type name of this option.">getTypeName</a>().length();
<a name="l00698"></a>00698             }
<a name="l00699"></a>00699             <span class="comment">// divider</span>
<a name="l00700"></a>00700             csize += 2;
<a name="l00701"></a>00701             <span class="keywordflow">if</span> (csize &lt; tooLarge &amp;&amp; maxSize &lt; csize) {
<a name="l00702"></a>00702                 maxSize = csize;
<a name="l00703"></a>00703             }
<a name="l00704"></a>00704         }
<a name="l00705"></a>00705     }
<a name="l00706"></a>00706 
<a name="l00707"></a>00707     <span class="keywordflow">for</span> (i = <a class="code" href="../../db/d31/class_options_cont.html#a71f15f4b1d9f9e14080417b684515d16">mySubTopics</a>.begin(); i != <a class="code" href="../../db/d31/class_options_cont.html#a71f15f4b1d9f9e14080417b684515d16">mySubTopics</a>.end(); ++i) {
<a name="l00708"></a>00708         os &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; *i &lt;&lt; <span class="stringliteral">&quot; Options:&quot;</span> &lt;&lt; std::endl;
<a name="l00709"></a>00709         <span class="keyword">const</span> std::vector&lt;std::string&gt; &amp;entries = <a class="code" href="../../db/d31/class_options_cont.html#a24a222ec24346d20d27e5a74b78b69a0" title="A map from subtopic to option.">mySubTopicEntries</a>[*i];
<a name="l00710"></a>00710         <span class="keywordflow">for</span> (j = entries.begin(); j != entries.end(); ++j) {
<a name="l00711"></a>00711             <span class="comment">// start length computation</span>
<a name="l00712"></a>00712             <span class="keywordtype">size_t</span> csize = (*j).length() + 2;
<a name="l00713"></a>00713             <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(*j);
<a name="l00714"></a>00714             os &lt;&lt; <span class="stringliteral">&quot;  &quot;</span>;
<a name="l00715"></a>00715             <span class="comment">// write abbreviation if given</span>
<a name="l00716"></a>00716             std::vector&lt;std::string&gt; synonymes = <a class="code" href="../../db/d31/class_options_cont.html#ada48013762e1d6c37cff7d2c0191782f" title="Returns the synonymes of an option name.">getSynonymes</a>(*j);
<a name="l00717"></a>00717             std::vector&lt;std::string&gt;::iterator a = find_if(synonymes.begin(), synonymes.end(), <a class="code" href="../../da/d3a/class_options_cont_1_1abbreviation__finder.html" title="A class to find abbreviated option names (length=1).">abbreviation_finder</a>());
<a name="l00718"></a>00718             <span class="keywordflow">if</span> (a != synonymes.end()) {
<a name="l00719"></a>00719                 os &lt;&lt; <span class="charliteral">&#39;-&#39;</span> &lt;&lt; (*a) &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l00720"></a>00720                 csize += 4;
<a name="l00721"></a>00721             }
<a name="l00722"></a>00722             <span class="comment">// write leading &#39;-&#39;/&quot;--&quot;</span>
<a name="l00723"></a>00723             os &lt;&lt; <span class="stringliteral">&quot;--&quot;</span>;
<a name="l00724"></a>00724             csize += 2;
<a name="l00725"></a>00725             <span class="comment">// write the name</span>
<a name="l00726"></a>00726             os &lt;&lt; *j;
<a name="l00727"></a>00727             <span class="comment">// write the type if not a bool option</span>
<a name="l00728"></a>00728             <span class="keywordflow">if</span> (!o-&gt;<a class="code" href="../../d4/d33/class_option.html#ac83bf8829a5335abf2ab7c6d7c43e912" title="Returns the information whether the option is a bool option.">isBool</a>()) {
<a name="l00729"></a>00729                 os &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; o-&gt;<a class="code" href="../../d4/d33/class_option.html#a970d8afa784ced67046220653f607cfe" title="Returns the mml-type name of this option.">getTypeName</a>();
<a name="l00730"></a>00730                 csize += 1 + o-&gt;<a class="code" href="../../d4/d33/class_option.html#a970d8afa784ced67046220653f607cfe" title="Returns the mml-type name of this option.">getTypeName</a>().length();
<a name="l00731"></a>00731             }
<a name="l00732"></a>00732             csize += 2;
<a name="l00733"></a>00733             <span class="comment">// write the description formatting it</span>
<a name="l00734"></a>00734             os &lt;&lt; <span class="stringliteral">&quot;  &quot;</span>;
<a name="l00735"></a>00735             <span class="keywordtype">size_t</span> r;
<a name="l00736"></a>00736             <span class="keywordflow">for</span> (r = maxSize; r &gt; csize; --r) {
<a name="l00737"></a>00737                 os &lt;&lt; <span class="charliteral">&#39; &#39;</span>;
<a name="l00738"></a>00738             }
<a name="l00739"></a>00739             std::string desc = o-&gt;<a class="code" href="../../d4/d33/class_option.html#a29c0f27d2434c71eb925ce86c15bc9b2" title="Returns the description of what this option does.">getDescription</a>();
<a name="l00740"></a>00740             <span class="keywordtype">size_t</span> offset = csize &gt; tooLarge ? csize : maxSize;
<a name="l00741"></a>00741             <a class="code" href="../../db/d31/class_options_cont.html#a336895651b7337b5073301b123e4214b" title="Writes the given string &amp;#39;formatted&amp;#39;.">splitLines</a>(os, desc, offset, maxSize);
<a name="l00742"></a>00742         }
<a name="l00743"></a>00743         os &lt;&lt; std::endl;
<a name="l00744"></a>00744     }
<a name="l00745"></a>00745 }
<a name="l00746"></a>00746 
<a name="l00747"></a>00747 
<a name="l00748"></a>00748 <span class="keywordtype">void</span>
<a name="l00749"></a><a class="code" href="../../db/d31/class_options_cont.html#a314a7958f2e9f6ebb1c82e09f1cbc003">00749</a> <a class="code" href="../../db/d31/class_options_cont.html#a314a7958f2e9f6ebb1c82e09f1cbc003" title="Writes the configuration.">OptionsCont::writeConfiguration</a>(std::ostream&amp; os, <span class="keywordtype">bool</span> filled,
<a name="l00750"></a>00750                                 <span class="keywordtype">bool</span> complete, <span class="keywordtype">bool</span> addComments) {
<a name="l00751"></a>00751     <span class="comment">// to the best of our knowledge files are written in latin-1 on windows and linux</span>
<a name="l00752"></a>00752     os &lt;&lt; <span class="stringliteral">&quot;&lt;?xml version=\&quot;1.0\&quot;&quot;</span> &lt;&lt; <a class="code" href="../../db/ddf/class_s_u_m_o_s_a_x_attributes.html#aae2951dbbeb7cc0e661b20394f53e484" title="The encoding of parsed strings.">SUMOSAXAttributes::ENCODING</a> &lt;&lt; <span class="stringliteral">&quot;?&gt;\n\n&quot;</span>;
<a name="l00753"></a>00753     os &lt;&lt; <span class="stringliteral">&quot;&lt;configuration xmlns:xsi=\&quot;http://www.w3.org/2001/XMLSchema-instance\&quot; xsi:noNamespaceSchemaLocation=\&quot;http://sumo.sf.net/xsd/&quot;</span> &lt;&lt; <a class="code" href="../../db/d31/class_options_cont.html#ae1c37fa14c1676774ae97c9015ee2b15" title="some information on the application">myAppName</a> &lt;&lt; <span class="stringliteral">&quot;Configuration.xsd\&quot;&gt;&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;
<a name="l00754"></a>00754     <span class="keywordflow">for</span> (std::vector&lt;std::string&gt;::const_iterator i = <a class="code" href="../../db/d31/class_options_cont.html#a71f15f4b1d9f9e14080417b684515d16">mySubTopics</a>.begin(); i != <a class="code" href="../../db/d31/class_options_cont.html#a71f15f4b1d9f9e14080417b684515d16">mySubTopics</a>.end(); ++i) {
<a name="l00755"></a>00755         std::string subtopic = *i;
<a name="l00756"></a>00756         <span class="keywordflow">if</span> (subtopic == <span class="stringliteral">&quot;Configuration&quot;</span>) {
<a name="l00757"></a>00757             <span class="keywordflow">continue</span>;
<a name="l00758"></a>00758         }
<a name="l00759"></a>00759         std::replace(subtopic.begin(), subtopic.end(), <span class="charliteral">&#39; &#39;</span>, <span class="charliteral">&#39;_&#39;</span>);
<a name="l00760"></a>00760         std::transform(subtopic.begin(), subtopic.end(), subtopic.begin(), tolower);
<a name="l00761"></a>00761         <span class="keyword">const</span> std::vector&lt;std::string&gt; &amp;entries = <a class="code" href="../../db/d31/class_options_cont.html#a24a222ec24346d20d27e5a74b78b69a0" title="A map from subtopic to option.">mySubTopicEntries</a>[*i];
<a name="l00762"></a>00762         <span class="keywordtype">bool</span> hadOne = <span class="keyword">false</span>;
<a name="l00763"></a>00763         <span class="keywordflow">for</span> (std::vector&lt;std::string&gt;::const_iterator j = entries.begin(); j != entries.end(); ++j) {
<a name="l00764"></a>00764             <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(*j);
<a name="l00765"></a>00765             <span class="keywordtype">bool</span> write = complete || (filled &amp;&amp; !o-&gt;<a class="code" href="../../d4/d33/class_option.html#ac7241c7794c90dc3dffef93542963161" title="Returns the information whether the option holds the default value.">isDefault</a>());
<a name="l00766"></a>00766             <span class="keywordflow">if</span> (!write) {
<a name="l00767"></a>00767                 <span class="keywordflow">continue</span>;
<a name="l00768"></a>00768             }
<a name="l00769"></a>00769             <span class="keywordflow">if</span> (!hadOne) {
<a name="l00770"></a>00770                 os &lt;&lt; <span class="stringliteral">&quot;    &lt;&quot;</span> &lt;&lt; subtopic &lt;&lt; <span class="stringliteral">&quot;&gt;&quot;</span> &lt;&lt; std::endl;
<a name="l00771"></a>00771             }
<a name="l00772"></a>00772             <span class="comment">// add the comment if wished</span>
<a name="l00773"></a>00773             <span class="keywordflow">if</span> (addComments) {
<a name="l00774"></a>00774                 os &lt;&lt; <span class="stringliteral">&quot;        &lt;!-- &quot;</span> &lt;&lt; o-&gt;<a class="code" href="../../d4/d33/class_option.html#a29c0f27d2434c71eb925ce86c15bc9b2" title="Returns the description of what this option does.">getDescription</a>() &lt;&lt; <span class="stringliteral">&quot; --&gt;&quot;</span> &lt;&lt; std::endl;
<a name="l00775"></a>00775             }
<a name="l00776"></a>00776             <span class="comment">// write the option and the value (if given)</span>
<a name="l00777"></a>00777             os &lt;&lt; <span class="stringliteral">&quot;        &lt;&quot;</span> &lt;&lt; *j &lt;&lt; <span class="stringliteral">&quot; value=\&quot;&quot;</span>;
<a name="l00778"></a>00778             <span class="keywordflow">if</span> (o-&gt;<a class="code" href="../../d4/d33/class_option.html#a8f0057d2ed9abd7edb796b59c4cf967e" title="returns the information whether this options holds a valid value">isSet</a>()) {
<a name="l00779"></a>00779                 os &lt;&lt; o-&gt;<a class="code" href="../../d4/d33/class_option.html#afd7f24fff096e9042d430e38b41030e8" title="Returns the string-representation of the value.">getValueString</a>();
<a name="l00780"></a>00780             }
<a name="l00781"></a>00781             <span class="keywordflow">if</span> (complete) {
<a name="l00782"></a>00782                 std::vector&lt;std::string&gt; synonymes = <a class="code" href="../../db/d31/class_options_cont.html#ada48013762e1d6c37cff7d2c0191782f" title="Returns the synonymes of an option name.">getSynonymes</a>(*j);
<a name="l00783"></a>00783                 <span class="keywordflow">if</span> (!synonymes.empty()) {
<a name="l00784"></a>00784                     os &lt;&lt; <span class="stringliteral">&quot;\&quot; synonymes=\&quot;&quot;</span>;
<a name="l00785"></a>00785                     <span class="keywordflow">for</span> (std::vector&lt;std::string&gt;::const_iterator s = synonymes.begin(); s != synonymes.end(); ++s) {
<a name="l00786"></a>00786                         <span class="keywordflow">if</span> (s != synonymes.begin()) {
<a name="l00787"></a>00787                             os &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l00788"></a>00788                         }
<a name="l00789"></a>00789                         os &lt;&lt; (*s);
<a name="l00790"></a>00790                     }
<a name="l00791"></a>00791                 }
<a name="l00792"></a>00792                 os &lt;&lt; <span class="stringliteral">&quot;\&quot; type=\&quot;&quot;</span> &lt;&lt; o-&gt;<a class="code" href="../../d4/d33/class_option.html#a970d8afa784ced67046220653f607cfe" title="Returns the mml-type name of this option.">getTypeName</a>();
<a name="l00793"></a>00793                 <span class="keywordflow">if</span> (!addComments) {
<a name="l00794"></a>00794                     os &lt;&lt; <span class="stringliteral">&quot;\&quot; help=\&quot;&quot;</span> &lt;&lt; o-&gt;<a class="code" href="../../d4/d33/class_option.html#a29c0f27d2434c71eb925ce86c15bc9b2" title="Returns the description of what this option does.">getDescription</a>();
<a name="l00795"></a>00795                 }
<a name="l00796"></a>00796             }
<a name="l00797"></a>00797             os &lt;&lt; <span class="stringliteral">&quot;\&quot;/&gt;&quot;</span> &lt;&lt; std::endl;
<a name="l00798"></a>00798             <span class="comment">// append an endline if a comment was printed</span>
<a name="l00799"></a>00799             <span class="keywordflow">if</span> (addComments) {
<a name="l00800"></a>00800                 os &lt;&lt; std::endl;
<a name="l00801"></a>00801             }
<a name="l00802"></a>00802             hadOne = <span class="keyword">true</span>;
<a name="l00803"></a>00803         }
<a name="l00804"></a>00804         <span class="keywordflow">if</span> (hadOne) {
<a name="l00805"></a>00805             os &lt;&lt; <span class="stringliteral">&quot;    &lt;/&quot;</span> &lt;&lt; subtopic &lt;&lt; <span class="stringliteral">&quot;&gt;&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;
<a name="l00806"></a>00806         }
<a name="l00807"></a>00807     }
<a name="l00808"></a>00808     os &lt;&lt; <span class="stringliteral">&quot;&lt;/configuration&gt;&quot;</span> &lt;&lt; std::endl;
<a name="l00809"></a>00809 }
<a name="l00810"></a>00810 
<a name="l00811"></a>00811 
<a name="l00812"></a>00812 <span class="keywordtype">void</span>
<a name="l00813"></a><a class="code" href="../../db/d31/class_options_cont.html#a02bd8c4ff8731933339a38d362006120">00813</a> <a class="code" href="../../db/d31/class_options_cont.html#a02bd8c4ff8731933339a38d362006120" title="Writes the xml schema for the configuration.">OptionsCont::writeSchema</a>(std::ostream&amp; os, <span class="keywordtype">bool</span> addComments) {
<a name="l00814"></a>00814     os &lt;&lt; <span class="stringliteral">&quot;&lt;?xml version=\&quot;1.0\&quot;&quot;</span> &lt;&lt; <a class="code" href="../../db/ddf/class_s_u_m_o_s_a_x_attributes.html#aae2951dbbeb7cc0e661b20394f53e484" title="The encoding of parsed strings.">SUMOSAXAttributes::ENCODING</a> &lt;&lt; <span class="stringliteral">&quot;?&gt;\n\n&quot;</span>;
<a name="l00815"></a>00815     os &lt;&lt; <span class="stringliteral">&quot;&lt;xsd:schema elementFormDefault=\&quot;qualified\&quot; xmlns:xsd=\&quot;http://www.w3.org/2001/XMLSchema\&quot;&gt;\n\n&quot;</span>;
<a name="l00816"></a>00816     os &lt;&lt; <span class="stringliteral">&quot;    &lt;xsd:element name=\&quot;configuration\&quot; type=\&quot;configurationType\&quot;/&gt;\n\n&quot;</span>;
<a name="l00817"></a>00817     os &lt;&lt; <span class="stringliteral">&quot;    &lt;xsd:complexType name=\&quot;configurationType\&quot;&gt;\n&quot;</span>;
<a name="l00818"></a>00818     os &lt;&lt; <span class="stringliteral">&quot;        &lt;xsd:sequence&gt;\n&quot;</span>;
<a name="l00819"></a>00819     <span class="keywordflow">for</span> (std::vector&lt;std::string&gt;::const_iterator i = <a class="code" href="../../db/d31/class_options_cont.html#a71f15f4b1d9f9e14080417b684515d16">mySubTopics</a>.begin(); i != <a class="code" href="../../db/d31/class_options_cont.html#a71f15f4b1d9f9e14080417b684515d16">mySubTopics</a>.end(); ++i) {
<a name="l00820"></a>00820         std::string subtopic = *i;
<a name="l00821"></a>00821         <span class="keywordflow">if</span> (subtopic == <span class="stringliteral">&quot;Configuration&quot;</span>) {
<a name="l00822"></a>00822             <span class="keywordflow">continue</span>;
<a name="l00823"></a>00823         }
<a name="l00824"></a>00824         std::replace(subtopic.begin(), subtopic.end(), <span class="charliteral">&#39; &#39;</span>, <span class="charliteral">&#39;_&#39;</span>);
<a name="l00825"></a>00825         std::transform(subtopic.begin(), subtopic.end(), subtopic.begin(), tolower);
<a name="l00826"></a>00826         os &lt;&lt; <span class="stringliteral">&quot;            &lt;xsd:element name=\&quot;&quot;</span> &lt;&lt; subtopic &lt;&lt; <span class="stringliteral">&quot;\&quot; type=\&quot;&quot;</span> &lt;&lt; subtopic &lt;&lt; <span class="stringliteral">&quot;Type\&quot; minOccurs=\&quot;0\&quot; maxOccurs=\&quot;1\&quot;/&gt;\n&quot;</span>;
<a name="l00827"></a>00827     }
<a name="l00828"></a>00828     os &lt;&lt; <span class="stringliteral">&quot;        &lt;/xsd:sequence&gt;\n&quot;</span>;
<a name="l00829"></a>00829     os &lt;&lt; <span class="stringliteral">&quot;    &lt;/xsd:complexType&gt;\n\n&quot;</span>;
<a name="l00830"></a>00830     <span class="keywordflow">for</span> (std::vector&lt;std::string&gt;::const_iterator i = <a class="code" href="../../db/d31/class_options_cont.html#a71f15f4b1d9f9e14080417b684515d16">mySubTopics</a>.begin(); i != <a class="code" href="../../db/d31/class_options_cont.html#a71f15f4b1d9f9e14080417b684515d16">mySubTopics</a>.end(); ++i) {
<a name="l00831"></a>00831         std::string subtopic = *i;
<a name="l00832"></a>00832         <span class="keywordflow">if</span> (subtopic == <span class="stringliteral">&quot;Configuration&quot;</span>) {
<a name="l00833"></a>00833             <span class="keywordflow">continue</span>;
<a name="l00834"></a>00834         }
<a name="l00835"></a>00835         std::replace(subtopic.begin(), subtopic.end(), <span class="charliteral">&#39; &#39;</span>, <span class="charliteral">&#39;_&#39;</span>);
<a name="l00836"></a>00836         std::transform(subtopic.begin(), subtopic.end(), subtopic.begin(), tolower);
<a name="l00837"></a>00837         os &lt;&lt; <span class="stringliteral">&quot;    &lt;xsd:complexType name=\&quot;&quot;</span> &lt;&lt; subtopic &lt;&lt; <span class="stringliteral">&quot;Type\&quot;&gt;\n&quot;</span>;
<a name="l00838"></a>00838         os &lt;&lt; <span class="stringliteral">&quot;        &lt;xsd:sequence&gt;\n&quot;</span>;
<a name="l00839"></a>00839         <span class="keyword">const</span> std::vector&lt;std::string&gt; &amp;entries = <a class="code" href="../../db/d31/class_options_cont.html#a24a222ec24346d20d27e5a74b78b69a0" title="A map from subtopic to option.">mySubTopicEntries</a>[*i];
<a name="l00840"></a>00840         <span class="keywordflow">for</span> (std::vector&lt;std::string&gt;::const_iterator j = entries.begin(); j != entries.end(); ++j) {
<a name="l00841"></a>00841             os &lt;&lt; <span class="stringliteral">&quot;            &lt;xsd:element name=\&quot;&quot;</span> &lt;&lt; *j &lt;&lt; <span class="stringliteral">&quot;\&quot; type=\&quot;&quot;</span> &lt;&lt; *j &lt;&lt; <span class="stringliteral">&quot;Type\&quot; minOccurs=\&quot;0\&quot; maxOccurs=\&quot;1\&quot;/&gt;\n&quot;</span>;
<a name="l00842"></a>00842         }
<a name="l00843"></a>00843         os &lt;&lt; <span class="stringliteral">&quot;        &lt;/xsd:sequence&gt;\n&quot;</span>;
<a name="l00844"></a>00844         os &lt;&lt; <span class="stringliteral">&quot;    &lt;/xsd:complexType&gt;\n\n&quot;</span>;
<a name="l00845"></a>00845         <span class="keywordflow">for</span> (std::vector&lt;std::string&gt;::const_iterator j = entries.begin(); j != entries.end(); ++j) {
<a name="l00846"></a>00846             <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(*j);
<a name="l00847"></a>00847             std::string type = o-&gt;<a class="code" href="../../d4/d33/class_option.html#a970d8afa784ced67046220653f607cfe" title="Returns the mml-type name of this option.">getTypeName</a>();
<a name="l00848"></a>00848             std::transform(type.begin(), type.end(), type.begin(), tolower);
<a name="l00849"></a>00849             <span class="keywordflow">if</span> (type == <span class="stringliteral">&quot;bool&quot;</span>) {
<a name="l00850"></a>00850                 type = <span class="stringliteral">&quot;boolean&quot;</span>;
<a name="l00851"></a>00851             } <span class="keywordflow">else</span> {
<a name="l00852"></a>00852                 <span class="keywordflow">if</span> (type != <span class="stringliteral">&quot;int&quot;</span> &amp;&amp; type != <span class="stringliteral">&quot;float&quot;</span>) {
<a name="l00853"></a>00853                     type = <span class="stringliteral">&quot;string&quot;</span>;
<a name="l00854"></a>00854                 }
<a name="l00855"></a>00855             }
<a name="l00856"></a>00856             os &lt;&lt; <span class="stringliteral">&quot;    &lt;xsd:complexType name=\&quot;&quot;</span> &lt;&lt; *j &lt;&lt; <span class="stringliteral">&quot;Type\&quot;&gt;\n&quot;</span>;
<a name="l00857"></a>00857             <span class="keywordflow">if</span> (addComments) {
<a name="l00858"></a>00858                 os &lt;&lt; <span class="stringliteral">&quot;        &lt;!-- &quot;</span> &lt;&lt; o-&gt;<a class="code" href="../../d4/d33/class_option.html#a29c0f27d2434c71eb925ce86c15bc9b2" title="Returns the description of what this option does.">getDescription</a>() &lt;&lt; <span class="stringliteral">&quot; --&gt;\n&quot;</span>;
<a name="l00859"></a>00859             }
<a name="l00860"></a>00860             os &lt;&lt; <span class="stringliteral">&quot;        &lt;xsd:attribute name=\&quot;value\&quot; type=\&quot;xsd:&quot;</span> &lt;&lt; type &lt;&lt; <span class="stringliteral">&quot;\&quot; use=\&quot;required\&quot;/&gt;\n&quot;</span>;
<a name="l00861"></a>00861             os &lt;&lt; <span class="stringliteral">&quot;        &lt;xsd:attribute name=\&quot;synonymes\&quot; type=\&quot;xsd:string\&quot; use=\&quot;optional\&quot;/&gt;\n&quot;</span>;
<a name="l00862"></a>00862             os &lt;&lt; <span class="stringliteral">&quot;        &lt;xsd:attribute name=\&quot;type\&quot; type=\&quot;xsd:string\&quot; use=\&quot;optional\&quot;/&gt;\n&quot;</span>;
<a name="l00863"></a>00863             os &lt;&lt; <span class="stringliteral">&quot;        &lt;xsd:attribute name=\&quot;help\&quot; type=\&quot;xsd:string\&quot; use=\&quot;optional\&quot;/&gt;\n&quot;</span>;
<a name="l00864"></a>00864             os &lt;&lt; <span class="stringliteral">&quot;    &lt;/xsd:complexType&gt;\n\n&quot;</span>;
<a name="l00865"></a>00865         }
<a name="l00866"></a>00866     }
<a name="l00867"></a>00867     os &lt;&lt; <span class="stringliteral">&quot;&lt;/xsd:schema&gt;\n&quot;</span>;
<a name="l00868"></a>00868 }
<a name="l00869"></a>00869 
<a name="l00870"></a>00870 
<a name="l00871"></a>00871 <span class="keywordtype">void</span>
<a name="l00872"></a><a class="code" href="../../db/d31/class_options_cont.html#abf9f611fa4f9307857c4f6750e23e557">00872</a> <a class="code" href="../../db/d31/class_options_cont.html#abf9f611fa4f9307857c4f6750e23e557" title="Writes a standard XML header, optionally including the configuration.">OptionsCont::writeXMLHeader</a>(std::ostream&amp; os, <span class="keyword">const</span> std::string xmlParams) {
<a name="l00873"></a>00873     time_t rawtime;
<a name="l00874"></a>00874     <span class="keywordtype">char</span> buffer [80];
<a name="l00875"></a>00875 
<a name="l00876"></a>00876     os &lt;&lt; <span class="stringliteral">&quot;&lt;?xml version=\&quot;1.0\&quot;&quot;</span> &lt;&lt; xmlParams &lt;&lt; <span class="stringliteral">&quot;?&gt;\n\n&quot;</span>;
<a name="l00877"></a>00877     time(&amp;rawtime);
<a name="l00878"></a>00878     strftime(buffer, 80, <span class="stringliteral">&quot;&lt;!-- generated on %c by &quot;</span>, localtime(&amp;rawtime));
<a name="l00879"></a>00879     os &lt;&lt; buffer &lt;&lt; <a class="code" href="../../db/d31/class_options_cont.html#aebdfc868c996869606ba4743c13f8722">myFullName</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00880"></a>00880     <a class="code" href="../../db/d31/class_options_cont.html#a314a7958f2e9f6ebb1c82e09f1cbc003" title="Writes the configuration.">writeConfiguration</a>(os, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">false</span>);
<a name="l00881"></a>00881     os &lt;&lt; <span class="stringliteral">&quot;--&gt;\n\n&quot;</span>;
<a name="l00882"></a>00882 }
<a name="l00883"></a>00883 
<a name="l00884"></a>00884 
<a name="l00885"></a>00885 std::vector&lt;std::string&gt;
<a name="l00886"></a><a class="code" href="../../db/d31/class_options_cont.html#a6713cebc23d2e3a88f8a00942e4fee32">00886</a> <a class="code" href="../../db/d31/class_options_cont.html#a6713cebc23d2e3a88f8a00942e4fee32" title="Returns the list of string-vector-value of the named option (only for Option_String)...">OptionsCont::getStringVector</a>(<span class="keyword">const</span> std::string&amp; name)<span class="keyword"> const </span>{
<a name="l00887"></a>00887     <a class="code" href="../../d4/d33/class_option.html" title="A class representing a single program option.">Option</a>* o = <a class="code" href="../../db/d31/class_options_cont.html#ab7269e2261c67f705f3f0f364656d32b" title="Returns the named option.">getSecure</a>(name);
<a name="l00888"></a>00888     std::string def = o-&gt;<a class="code" href="../../d4/d33/class_option.html#ab5dbc7454b0e9096feaa52c047532dd5" title="Returns the stored string value.">getString</a>();
<a name="l00889"></a>00889     <span class="keywordflow">if</span> (def.find(<span class="charliteral">&#39;;&#39;</span>) != std::string::npos &amp;&amp; !<a class="code" href="../../db/d31/class_options_cont.html#a704f270624c54cc0ef7fd40e2bfe714b" title="Information whether a warning a deprecated divider.">myHaveInformedAboutDeprecatedDivider</a>) {
<a name="l00890"></a>00890         <a class="code" href="../../d4/df7/_msg_handler_8h.html#a6875e463bd2d24f027eba135e7a5fdfa">WRITE_WARNING</a>(<span class="stringliteral">&quot;Please note that using &#39;;&#39; as list separator is deprecated.\n From 1.0 onwards, only &#39;,&#39; will be accepted.&quot;</span>);
<a name="l00891"></a>00891         <a class="code" href="../../db/d31/class_options_cont.html#a704f270624c54cc0ef7fd40e2bfe714b" title="Information whether a warning a deprecated divider.">myHaveInformedAboutDeprecatedDivider</a> = <span class="keyword">true</span>;
<a name="l00892"></a>00892     }
<a name="l00893"></a>00893     <a class="code" href="../../db/dc0/class_string_tokenizer.html">StringTokenizer</a> st(def, <span class="stringliteral">&quot;;,&quot;</span>, <span class="keyword">true</span>);
<a name="l00894"></a>00894     std::vector&lt;std::string&gt; ret = st.<a class="code" href="../../db/dc0/class_string_tokenizer.html#a72d662534abea7f6cf23011477f23c05">getVector</a>();
<a name="l00895"></a>00895     <span class="keywordflow">for</span> (std::vector&lt;std::string&gt;::iterator i = ret.begin(); i != ret.end(); ++i) {
<a name="l00896"></a>00896         (*i) = <a class="code" href="../../d3/d93/class_string_utils.html#a3262592c2a4ead46b92a6dad318a455c" title="Removes trailing and leading whitechars.">StringUtils::prune</a>(*i);
<a name="l00897"></a>00897     }
<a name="l00898"></a>00898     <span class="keywordflow">return</span> ret;
<a name="l00899"></a>00899 }
<a name="l00900"></a>00900 
<a name="l00901"></a>00901 
<a name="l00902"></a>00902 <span class="keywordtype">bool</span>
<a name="l00903"></a><a class="code" href="../../db/d31/class_options_cont.html#a7e67fa5bc45bfc339520775679823ca8">00903</a> <a class="code" href="../../db/d31/class_options_cont.html#a7e67fa5bc45bfc339520775679823ca8" title="Returns the named option is a list of string values containing the specified item...">OptionsCont::isInStringVector</a>(<span class="keyword">const</span> std::string&amp; optionName,
<a name="l00904"></a>00904                               <span class="keyword">const</span> std::string&amp; itemName) {
<a name="l00905"></a>00905     <span class="keywordflow">if</span> (<a class="code" href="../../db/d31/class_options_cont.html#a08a62e1f4fcf9acaefc97efce45609fc" title="Returns the information whether the named option is set.">isSet</a>(optionName)) {
<a name="l00906"></a>00906         std::vector&lt;std::string&gt; values = <a class="code" href="../../db/d31/class_options_cont.html#a6713cebc23d2e3a88f8a00942e4fee32" title="Returns the list of string-vector-value of the named option (only for Option_String)...">getStringVector</a>(optionName);
<a name="l00907"></a>00907         <span class="keywordflow">return</span> find(values.begin(), values.end(), itemName) != values.end();
<a name="l00908"></a>00908     }
<a name="l00909"></a>00909     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00910"></a>00910 }
<a name="l00911"></a>00911 
<a name="l00912"></a>00912 
<a name="l00913"></a>00913 <span class="comment">/****************************************************************************/</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Tue Jul 17 12:16:09 2012 for SUMO - Simulation of Urban MObility by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
