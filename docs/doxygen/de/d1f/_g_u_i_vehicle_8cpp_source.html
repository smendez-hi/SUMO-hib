<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SUMO - Simulation of Urban MObility: GUIVehicle.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="../../dir_75b82e7e4a5feb05200b9ad7adf06257.html">home</a>&nbsp;&raquo;&nbsp;<a class="el" href="../../dir_46b8f36974b309f038ffc35aa047a32b.html">boni</a>&nbsp;&raquo;&nbsp;<a class="el" href="../../dir_52e5be8ca53cec2b5437a8ba83e8e4f0.html">Desktop</a>&nbsp;&raquo;&nbsp;<a class="el" href="../../dir_7de3ce0f65e0314f747915173f89e60e.html">DanielTouched</a>&nbsp;&raquo;&nbsp;<a class="el" href="../../dir_a0096e276045b3ff0719c75e0b3c59bf.html">sumo-0.14.0</a>&nbsp;&raquo;&nbsp;<a class="el" href="../../dir_e9b8d709919855cd07b0394009af2578.html">src</a>&nbsp;&raquo;&nbsp;<a class="el" href="../../dir_0af2f850fd7289ee85498158f65c443d.html">guisim</a>
  </div>
</div>
<div class="contents">
<h1>GUIVehicle.cpp</h1><a href="../../de/d1f/_g_u_i_vehicle_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************/</span>
<a name="l00009"></a>00009 <span class="comment">// A MSVehicle extended by some values for usage within the gui</span>
<a name="l00010"></a>00010 <span class="comment">/****************************************************************************/</span>
<a name="l00011"></a>00011 <span class="comment">// SUMO, Simulation of Urban MObility; see http://sumo.sourceforge.net/</span>
<a name="l00012"></a>00012 <span class="comment">// Copyright (C) 2001-2012 DLR (http://www.dlr.de/) and contributors</span>
<a name="l00013"></a>00013 <span class="comment">/****************************************************************************/</span>
<a name="l00014"></a>00014 <span class="comment">//</span>
<a name="l00015"></a>00015 <span class="comment">//   This file is part of SUMO.</span>
<a name="l00016"></a>00016 <span class="comment">//   SUMO is free software: you can redistribute it and/or modify</span>
<a name="l00017"></a>00017 <span class="comment">//   it under the terms of the GNU General Public License as published by</span>
<a name="l00018"></a>00018 <span class="comment">//   the Free Software Foundation, either version 3 of the License, or</span>
<a name="l00019"></a>00019 <span class="comment">//   (at your option) any later version.</span>
<a name="l00020"></a>00020 <span class="comment">//</span>
<a name="l00021"></a>00021 <span class="comment">/****************************************************************************/</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="comment">// ===========================================================================</span>
<a name="l00025"></a>00025 <span class="comment">// included modules</span>
<a name="l00026"></a>00026 <span class="comment">// ===========================================================================</span>
<a name="l00027"></a>00027 <span class="preprocessor">#ifdef _MSC_VER</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span><span class="preprocessor">#include &lt;<a class="code" href="../../d3/d99/windows__config_8h.html">windows_config.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#else</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span><span class="preprocessor">#include &lt;<a class="code" href="../../db/d16/config_8h.html">config.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#endif</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span>
<a name="l00033"></a>00033 <span class="preprocessor">#ifdef WIN32</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span><span class="preprocessor">#include &lt;windows.h&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#endif</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &lt;GL/gl.h&gt;</span>
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="preprocessor">#include &lt;cmath&gt;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &lt;<a class="code" href="../../d6/dbe/polyfonts_8h.html">foreign/polyfonts/polyfonts.h</a>&gt;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &lt;<a class="code" href="../../de/dde/_string_utils_8h.html">utils/common/StringUtils.h</a>&gt;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &lt;<a class="code" href="../../d0/d7a/_s_u_m_o_vehicle_parameter_8h.html">utils/common/SUMOVehicleParameter.h</a>&gt;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &lt;<a class="code" href="../../d8/d3a/_g_u_i_s_u_m_o_abstract_view_8h.html">utils/gui/windows/GUISUMOAbstractView.h</a>&gt;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &lt;<a class="code" href="../../d7/d72/_g_u_i_app_enum_8h.html">utils/gui/windows/GUIAppEnum.h</a>&gt;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &lt;<a class="code" href="../../d0/d53/_g_u_i_parameter_table_window_8h.html">utils/gui/div/GUIParameterTableWindow.h</a>&gt;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &lt;<a class="code" href="../../dc/df0/_g_u_i_global_selection_8h.html">utils/gui/div/GUIGlobalSelection.h</a>&gt;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &lt;<a class="code" href="../../d9/d86/_g_l_helper_8h.html">utils/gui/div/GLHelper.h</a>&gt;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &lt;<a class="code" href="../../d9/d1d/_g_l_object_value_pass_connector_8h.html">utils/gui/div/GLObjectValuePassConnector.h</a>&gt;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &lt;<a class="code" href="../../dc/d38/_m_s_vehicle_8h.html">microsim/MSVehicle.h</a>&gt;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &lt;<a class="code" href="../../de/d1a/_casting_function_binding_8h.html">microsim/logging/CastingFunctionBinding.h</a>&gt;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &lt;<a class="code" href="../../d3/d8d/_function_binding_8h.html">microsim/logging/FunctionBinding.h</a>&gt;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &lt;<a class="code" href="../../de/d52/_m_s_vehicle_control_8h.html">microsim/MSVehicleControl.h</a>&gt;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &lt;<a class="code" href="../../df/dbe/_m_s_abstract_lane_change_model_8h.html">microsim/MSAbstractLaneChangeModel.h</a>&gt;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include &lt;<a class="code" href="../../d9/d44/_m_s_device___vehroutes_8h.html">microsim/devices/MSDevice_Vehroutes.h</a>&gt;</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &lt;<a class="code" href="../../d0/d69/_g_u_i_application_window_8h.html">gui/GUIApplicationWindow.h</a>&gt;</span>
<a name="l00058"></a>00058 <span class="preprocessor">#include &lt;<a class="code" href="../../da/dd2/_g_u_i_globals_8h.html">gui/GUIGlobals.h</a>&gt;</span>
<a name="l00059"></a>00059 <span class="preprocessor">#include &quot;<a class="code" href="../../d0/dbc/_g_u_i_vehicle_8h.html">GUIVehicle.h</a>&quot;</span>
<a name="l00060"></a>00060 <span class="preprocessor">#include &quot;<a class="code" href="../../d0/da0/_g_u_i_net_8h.html">GUINet.h</a>&quot;</span>
<a name="l00061"></a>00061 <span class="preprocessor">#include &quot;<a class="code" href="../../d4/dc0/_g_u_i_edge_8h.html">GUIEdge.h</a>&quot;</span>
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 
<a name="l00064"></a>00064 <span class="preprocessor">#ifdef CHECK_MEMORY_LEAKS</span>
<a name="l00065"></a>00065 <span class="preprocessor"></span><span class="preprocessor">#include &lt;<a class="code" href="../../d7/d8d/debug__new_8h.html">foreign/nvwa/debug_new.h</a>&gt;</span>
<a name="l00066"></a>00066 <span class="preprocessor">#endif // CHECK_MEMORY_LEAKS</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span>
<a name="l00068"></a>00068 
<a name="l00069"></a>00069 <span class="comment">// ===========================================================================</span>
<a name="l00070"></a>00070 <span class="comment">// FOX callback mapping</span>
<a name="l00071"></a>00071 <span class="comment">// ===========================================================================</span>
<a name="l00072"></a>00072 <a class="code" href="../../d7/dd2/_g_u_i_dialog___app_settings_8cpp.html#a95627874b7bd28ce00ff6ef00b8aa25e">FXDEFMAP</a>(<a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html">GUIVehicle::GUIVehiclePopupMenu</a>) GUIVehiclePopupMenuMap[] = {
<a name="l00073"></a>00073     FXMAPFUNC(SEL_COMMAND, <a class="code" href="../../d7/d72/_g_u_i_app_enum_8h.html#a0944a4353780132eeab7b06e3e42291da726f87ef2305f084e13316731a1ee30d" title="Show all vehicle&amp;#39;s routes.">MID_SHOW_ALLROUTES</a>, <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a3177b067a40a81ea429153764c9f7cd9" title="Called if all routes of the vehicle shall be shown.">GUIVehicle::GUIVehiclePopupMenu::onCmdShowAllRoutes</a>),
<a name="l00074"></a>00074     FXMAPFUNC(SEL_COMMAND, <a class="code" href="../../d7/d72/_g_u_i_app_enum_8h.html#a0944a4353780132eeab7b06e3e42291da004a1d171199f305e9e1dcdc6649fb2f" title="Hide all vehicle&amp;#39;s routes.">MID_HIDE_ALLROUTES</a>, <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a8319aa3a0ab6d86c858b54d02fa2f74f" title="Called if all routes of the vehicle shall be hidden.">GUIVehicle::GUIVehiclePopupMenu::onCmdHideAllRoutes</a>),
<a name="l00075"></a>00075     FXMAPFUNC(SEL_COMMAND, <a class="code" href="../../d7/d72/_g_u_i_app_enum_8h.html#a0944a4353780132eeab7b06e3e42291dae86a10634c530822b94752e1c3d4956c" title="Show vehicle&amp;#39;s current route.">MID_SHOW_CURRENTROUTE</a>, <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a3c3d80caa43d1bb59ebc57453e19fe71" title="Called if the current route of the vehicle shall be shown.">GUIVehicle::GUIVehiclePopupMenu::onCmdShowCurrentRoute</a>),
<a name="l00076"></a>00076     FXMAPFUNC(SEL_COMMAND, <a class="code" href="../../d7/d72/_g_u_i_app_enum_8h.html#a0944a4353780132eeab7b06e3e42291da42e40a00e70e82a60ad43fb5de0b03c3" title="Hide vehicle&amp;#39;s current route.">MID_HIDE_CURRENTROUTE</a>, <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a9ff2c75f891caa53908d6f8f9d1b5a09" title="Called if the current route of the vehicle shall be hidden.">GUIVehicle::GUIVehiclePopupMenu::onCmdHideCurrentRoute</a>),
<a name="l00077"></a>00077     FXMAPFUNC(SEL_COMMAND, <a class="code" href="../../d7/d72/_g_u_i_app_enum_8h.html#a0944a4353780132eeab7b06e3e42291da63d181cd70d258b78a72513563cba65f" title="Show vehicle&amp;#39;s best lanes.">MID_SHOW_BEST_LANES</a>, <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a8c17df1522be85eb51e561887549473a" title="Called if the vehicle&amp;#39;s best lanes shall be shown.">GUIVehicle::GUIVehiclePopupMenu::onCmdShowBestLanes</a>),
<a name="l00078"></a>00078     FXMAPFUNC(SEL_COMMAND, <a class="code" href="../../d7/d72/_g_u_i_app_enum_8h.html#a0944a4353780132eeab7b06e3e42291da2c9e708c39c4b428002217abf3c3e856" title="Hide vehicle&amp;#39;s best lanes.">MID_HIDE_BEST_LANES</a>, <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a22e96fb1eab350af224cbd01c1d3508e" title="Called if the vehicle&amp;#39;s best lanes shall be hidden.">GUIVehicle::GUIVehiclePopupMenu::onCmdHideBestLanes</a>),
<a name="l00079"></a>00079     FXMAPFUNC(SEL_COMMAND, <a class="code" href="../../d7/d72/_g_u_i_app_enum_8h.html#a0944a4353780132eeab7b06e3e42291da6ea694a54c5d1157b0edc803c8b8da25" title="Start to track a vehicle.">MID_START_TRACK</a>, <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a8339783a43238e108431fa3160693956" title="Called if the vehicle shall be tracked.">GUIVehicle::GUIVehiclePopupMenu::onCmdStartTrack</a>),
<a name="l00080"></a>00080     FXMAPFUNC(SEL_COMMAND, <a class="code" href="../../d7/d72/_g_u_i_app_enum_8h.html#a0944a4353780132eeab7b06e3e42291daf9e79983950aa32971eed92e3364d5b7" title="Stop to track a vehicle.">MID_STOP_TRACK</a>, <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#ab4e2668ac25eff359f6b8d61bb968e33" title="Called if the current shall not be tracked any longer.">GUIVehicle::GUIVehiclePopupMenu::onCmdStopTrack</a>),
<a name="l00081"></a>00081 };
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 <span class="comment">// Object implementation</span>
<a name="l00084"></a>00084 FXIMPLEMENT(<a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html">GUIVehicle::GUIVehiclePopupMenu</a>, <a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html" title="The popup menu of a globject.">GUIGLObjectPopupMenu</a>, GUIVehiclePopupMenuMap, ARRAYNUMBER(GUIVehiclePopupMenuMap))
<a name="l00085"></a>00085 
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 
<a name="l00088"></a>00088 <span class="comment">// ===========================================================================</span>
<a name="l00089"></a>00089 <span class="comment">// data definitions</span>
<a name="l00090"></a>00090 <span class="comment">// ===========================================================================</span>
<a name="l00091"></a>00091 <span class="comment">/* -------------------------------------------------------------------------</span>
<a name="l00092"></a>00092 <span class="comment"> * drawed shapes</span>
<a name="l00093"></a>00093 <span class="comment"> * ----------------------------------------------------------------------- */</span>
<a name="l00094"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a188918f71ab519c4ca213f9892a48c66">00094</a> double <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a188918f71ab519c4ca213f9892a48c66">vehiclePoly_PassengerCarBody</a>[] = { .5, 0,  0, 0,  0, .3,  0.08, .44,  0.25, .5,  0.95, .5,  1., .4,  1., -.4,  0.95, -.5,  0.25, -.5,  0.08, -.44,  0, -.3,  0, 0,  -10000 };
<a name="l00095"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a5ccd16de83289c9873462725161318a5">00095</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a5ccd16de83289c9873462725161318a5">vehiclePoly_PassengerCarBodyFront</a>[] = { 0.1, 0,  0.025, 0,  0.025, 0.25,  0.27, 0.4,  0.27, -.4,  0.025, -0.25,  0.025, 0,  -10000 };
<a name="l00096"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#aef1e99041e31a81c6eb3ea572b0a596c">00096</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#aef1e99041e31a81c6eb3ea572b0a596c">vehiclePoly_PassengerFrontGlass</a>[] = { 0.35, 0,  0.3, 0,  0.3, 0.4,  0.43, 0.3,  0.43, -0.3,  0.3, -0.4,  0.3, 0,  -10000 };
<a name="l00097"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#aa4242ab4d4c5dc194fca1f2322feecb7">00097</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#aa4242ab4d4c5dc194fca1f2322feecb7">vehiclePoly_PassengerSedanRightGlass</a>[] = { 0.36, -.43,  0.34, -.47,  0.77, -.47,  0.67, -.37,  0.45, -.37,  0.34, -.47,  -10000 };
<a name="l00098"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#ab39327b3976dc165e1cd6b392c6cbd7b">00098</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#ab39327b3976dc165e1cd6b392c6cbd7b">vehiclePoly_PassengerSedanLeftGlass</a>[] = { 0.36, .43,  0.34, .47,  0.77, .47,  0.67, .37,  0.45, .37,  0.34, .47,  -10000 };
<a name="l00099"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a4b33889b35060fd626708a770494622a">00099</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a4b33889b35060fd626708a770494622a">vehiclePoly_PassengerSedanBackGlass</a>[] = { 0.80, 0,  0.70, 0,  0.70, 0.3,  0.83, 0.4,  0.83, -.4,  0.70, -.3,  0.70, 0,  -10000 };
<a name="l00100"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#ae24a70e7d0b93fa75243ed56d6449d91">00100</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#ae24a70e7d0b93fa75243ed56d6449d91">vehiclePoly_PassengerHatchbackRightGlass</a>[] = { 0.36, -.43,  0.34, -.47,  0.94, -.47,  0.80, -.37,  0.45, -.37,  0.34, -.47,  -10000 };
<a name="l00101"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#afe8f1817a5f0520ab554aaa0f99ec964">00101</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#afe8f1817a5f0520ab554aaa0f99ec964">vehiclePoly_PassengerHatchbackLeftGlass</a>[] = { 0.36, .43,  0.34, .47,  0.94, .47,  0.80, .37,  0.45, .37,  0.34, .47,  -10000 };
<a name="l00102"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a6729ac268b0aa8fb10bbbe6dece06c63">00102</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a6729ac268b0aa8fb10bbbe6dece06c63">vehiclePoly_PassengerHatchbackBackGlass</a>[] = { 0.92, 0,  0.80, 0,  0.80, 0.3,  0.95, 0.4,  0.95, -.4,  0.80, -.3,  0.80, 0,  -10000 };
<a name="l00103"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a54b943025319372b1497484f10e7a84c">00103</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a54b943025319372b1497484f10e7a84c">vehiclePoly_PassengerWagonRightGlass</a>[] = { 0.36, -.43,  0.34, -.47,  0.94, -.47,  0.87, -.37,  0.45, -.37,  0.34, -.47,  -10000 };
<a name="l00104"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a22f3523b96ca93aad2220dc3a337ba11">00104</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a22f3523b96ca93aad2220dc3a337ba11">vehiclePoly_PassengerWagonLeftGlass</a>[] = { 0.36, .43,  0.34, .47,  0.94, .47,  0.87, .37,  0.45, .37,  0.34, .47,  -10000 };
<a name="l00105"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#ae20a4323cb66ad53b757b32335b03c56">00105</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#ae20a4323cb66ad53b757b32335b03c56">vehiclePoly_PassengerWagonBackGlass</a>[] = { 0.92, 0,  0.90, 0,  0.90, 0.3,  0.95, 0.4,  0.95, -.4,  0.90, -.3,  0.90, 0,  -10000 };
<a name="l00106"></a>00106 
<a name="l00107"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#ad509e2e73fdf5590271c0e8e6c13e5eb">00107</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#ad509e2e73fdf5590271c0e8e6c13e5eb">vehiclePoly_PassengerVanBody</a>[] = { .5, 0,  0, 0,  0, .4,  0.1, .5,  0.97, .5,  1., .47,  1., -.47,  0.97, -.5,  0.1, -.5,  0, -.4,  0, 0,  -10000 };
<a name="l00108"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a0f35d55a8d8489f49a2f021d5cf99531">00108</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a0f35d55a8d8489f49a2f021d5cf99531">vehiclePoly_PassengerVanBodyFront</a>[] = { 0.1, 0,  0.025, 0,  0.025, 0.25,  0.13, 0.4,  0.13, -.4,  0.025, -0.25,  0.025, 0,  -10000 };
<a name="l00109"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#aac0a030f39ec161192333750592f2128">00109</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#aac0a030f39ec161192333750592f2128">vehiclePoly_PassengerVanFrontGlass</a>[] = { 0.21, 0,  0.16, 0,  0.16, 0.4,  0.29, 0.3,  0.29, -0.3,  0.16, -0.4,  0.16, 0,  -10000 };
<a name="l00110"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#aedcb379ad30f76e0419d683ac25a41ce">00110</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#aedcb379ad30f76e0419d683ac25a41ce">vehiclePoly_PassengerVanRightGlass</a>[] = { 0.36, -.43,  0.20, -.47,  0.98, -.47,  0.91, -.37,  0.31, -.37,  0.20, -.47,  -10000 };
<a name="l00111"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a71f37943ebdb079ad957e7c0086b4f83">00111</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a71f37943ebdb079ad957e7c0086b4f83">vehiclePoly_PassengerVanLeftGlass</a>[] = { 0.36, .43,  0.20, .47,  0.98, .47,  0.91, .37,  0.31, .37,  0.20, .47,  -10000 };
<a name="l00112"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a0b59eecd17b2151571850cc0b7d4b37a">00112</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a0b59eecd17b2151571850cc0b7d4b37a">vehiclePoly_PassengerVanBackGlass</a>[] = { 0.95, 0,  0.94, 0,  0.94, 0.3,  0.98, 0.4,  0.98, -.4,  0.94, -.3,  0.94, 0,  -10000 };
<a name="l00113"></a>00113 
<a name="l00114"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3f59068707a807e6a0033f71cd05e1bb">00114</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3f59068707a807e6a0033f71cd05e1bb">vehiclePoly_DeliveryMediumRightGlass</a>[] = { 0.21, -.43,  0.20, -.47,  0.38, -.47,  0.38, -.37,  0.31, -.37,  0.20, -.47,  -10000 };
<a name="l00115"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a58ff1c83b7149f4031a967945d5dffac">00115</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a58ff1c83b7149f4031a967945d5dffac">vehiclePoly_DeliveryMediumLeftGlass</a>[] = { 0.21, .43,  0.20, .47,  0.38, .47,  0.38, .37,  0.31, .37,  0.20, .47,  -10000 };
<a name="l00116"></a>00116 
<a name="l00117"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a8ca2ca5eed301891e0f9443e71456b4d">00117</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a8ca2ca5eed301891e0f9443e71456b4d">vehiclePoly_TransportBody</a>[] = { .5, 0,  0, 0,  0, .45,  0.05, .5,  2.25, .5,  2.25, -.5,  0.05, -.5,  0, -.45,  0, 0,  -10000 };
<a name="l00118"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a7d23c695941c3ac34a8d4e37cb2b1a80">00118</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a7d23c695941c3ac34a8d4e37cb2b1a80">vehiclePoly_TransportFrontGlass</a>[] = { 0.1, 0,  0.05, 0,  0.05, 0.45,  0.25, 0.4,  0.25, -.4,  0.05, -0.45,  0.05, 0,  -10000 };
<a name="l00119"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#aa416a493b4ef46280e47c51ff8609ddf">00119</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#aa416a493b4ef46280e47c51ff8609ddf">vehiclePoly_TransportRightGlass</a>[] = { 0.36, -.47,  0.10, -.48,  1.25, -.48,  1.25, -.4,  0.3, -.4,  0.10, -.48,  -10000 };
<a name="l00120"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#aaea25ce8308bd283089973ca229f9acb">00120</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#aaea25ce8308bd283089973ca229f9acb">vehiclePoly_TransportLeftGlass</a>[] = { 0.36, .47,  0.10, .48,  1.25, .48,  1.25, .4,  0.3, .4,  0.10, .48,  -10000 };
<a name="l00121"></a>00121 
<a name="l00122"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a2631bcc1bdb2519a147651915074b912">00122</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a2631bcc1bdb2519a147651915074b912">vehiclePoly_EVehicleBody</a>[] = { .5, 0,  0, 0,  0, .3,  0.08, .44,  0.25, .5,  0.75, .5,  .92, .44,  1, .3,  1, -.3,  .92, -.44,  .75, -.5,  .25, -.5,  0.08, -.44,  0, -.3,  0, 0,  -1000 };
<a name="l00123"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#ad29f79d70374c95c2de655af675afcf3">00123</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#ad29f79d70374c95c2de655af675afcf3">vehiclePoly_EVehicleFrontGlass</a>[] = { .5, 0,  0.05, .05,  0.05, .25,  0.13, .39,  0.3, .45,  0.70, .45,  .87, .39,  .95, .25,  .95, -.25,  .87, -.39,  .70, -.45,  .3, -.45,  0.13, -.39,  0.05, -.25,  0.05, 0.05,  -1000 };
<a name="l00124"></a>00124 <span class="comment">//double vehiclePoly_EVehicleFrontGlass[] = { 0.35,0,  0.1,0,  0.1,0.4,  0.43,0.3,  0.43,-0.3,  0.1,-0.4,  0.1,0,  -10000 };</span>
<a name="l00125"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a09b1689afc0436ca0b54bbb8425942ac">00125</a> <span class="keywordtype">double</span> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a09b1689afc0436ca0b54bbb8425942ac">vehiclePoly_EVehicleBackGlass</a>[] =  { 0.65, 0,  0.9, 0,  0.9, 0.4,  0.57, 0.3,  0.57, -0.3,  0.9, -0.4,  0.9, 0,  -10000 };
<a name="l00126"></a>00126 
<a name="l00127"></a>00127 
<a name="l00128"></a>00128 <span class="comment">// ===========================================================================</span>
<a name="l00129"></a>00129 <span class="comment">// method definitions</span>
<a name="l00130"></a>00130 <span class="comment">// ===========================================================================</span>
<a name="l00131"></a>00131 <span class="comment">/* -------------------------------------------------------------------------</span>
<a name="l00132"></a>00132 <span class="comment"> * GUIVehicle::GUIVehiclePopupMenu - methods</span>
<a name="l00133"></a>00133 <span class="comment"> * ----------------------------------------------------------------------- */</span>
<a name="l00134"></a><a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a73018020f9f05d195dae7150d7d05f67">00134</a> <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a19c8bd91fbe5bec3058d99905ccbf3fc" title="default constructor needed by FOX">GUIVehicle::GUIVehiclePopupMenu::GUIVehiclePopupMenu</a>(
<a name="l00135"></a>00135     <a class="code" href="../../db/dba/class_g_u_i_main_window.html">GUIMainWindow</a>&amp; app, <a class="code" href="../../db/d5a/class_g_u_i_s_u_m_o_abstract_view.html">GUISUMOAbstractView</a>&amp; parent,
<a name="l00136"></a>00136     <a class="code" href="../../de/d94/class_g_u_i_gl_object.html">GUIGlObject</a>&amp; o, std::map&lt;GUISUMOAbstractView*, int&gt; &amp;additionalVisualizations)
<a name="l00137"></a>00137     : <a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html" title="The popup menu of a globject.">GUIGLObjectPopupMenu</a>(app, parent, o), myVehiclesAdditionalVisualizations(additionalVisualizations) {
<a name="l00138"></a>00138 }
<a name="l00139"></a>00139 
<a name="l00140"></a>00140 
<a name="l00141"></a><a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#adb26386f308440afa1524afdc297a855">00141</a> <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#adb26386f308440afa1524afdc297a855" title="Destructor.">GUIVehicle::GUIVehiclePopupMenu::~GUIVehiclePopupMenu</a>() {}
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 <span class="keywordtype">long</span>
<a name="l00145"></a><a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a3177b067a40a81ea429153764c9f7cd9">00145</a> <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a3177b067a40a81ea429153764c9f7cd9" title="Called if all routes of the vehicle shall be shown.">GUIVehicle::GUIVehiclePopupMenu::onCmdShowAllRoutes</a>(<a class="code" href="../../d1/d63/class_f_x_object.html">FXObject</a>*, FXSelector, <span class="keywordtype">void</span>*) {
<a name="l00146"></a>00146     assert(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>-&gt;<a class="code" href="../../de/d94/class_g_u_i_gl_object.html#a4073d06ef1e61a3ed21ddc50ba5aa78e" title="Returns the type of the object as coded in GUIGlObjectType.">getType</a>() == <a class="code" href="../../db/dcf/_g_u_i_gl_object_types_8h.html#af2b60d80f2ed12c3f597887aec83db5caae40d439832a13fb1598a451375e92ce" title="a vehicles">GLO_VEHICLE</a>);
<a name="l00147"></a>00147     <span class="keywordflow">if</span> (!static_cast&lt;GUIVehicle*&gt;(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>)-&gt;hasActiveAddVisualisation(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a32927bb7e5465b8e8c01c6f9a289528c" title="The parent window.">myParent</a>, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aa15653ed6769207675eef52b0a8aa32d0" title="show all vehicle&amp;#39;s routes">VO_SHOW_ALL_ROUTES</a>)) {
<a name="l00148"></a>00148         <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html" title="A MSVehicle extended by some values for usage within the gui.">GUIVehicle</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>)-&gt;<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a4dbe2854c048847628f60c4e9eb0b475" title="Adds the named visualisation feature to the given view.">addActiveAddVisualisation</a>(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a32927bb7e5465b8e8c01c6f9a289528c" title="The parent window.">myParent</a>, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aa15653ed6769207675eef52b0a8aa32d0" title="show all vehicle&amp;#39;s routes">VO_SHOW_ALL_ROUTES</a>);
<a name="l00149"></a>00149     }
<a name="l00150"></a>00150     <span class="keywordflow">return</span> 1;
<a name="l00151"></a>00151 }
<a name="l00152"></a>00152 
<a name="l00153"></a>00153 
<a name="l00154"></a>00154 <span class="keywordtype">long</span>
<a name="l00155"></a><a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a8319aa3a0ab6d86c858b54d02fa2f74f">00155</a> <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a8319aa3a0ab6d86c858b54d02fa2f74f" title="Called if all routes of the vehicle shall be hidden.">GUIVehicle::GUIVehiclePopupMenu::onCmdHideAllRoutes</a>(<a class="code" href="../../d1/d63/class_f_x_object.html">FXObject</a>*, FXSelector, <span class="keywordtype">void</span>*) {
<a name="l00156"></a>00156     assert(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>-&gt;<a class="code" href="../../de/d94/class_g_u_i_gl_object.html#a4073d06ef1e61a3ed21ddc50ba5aa78e" title="Returns the type of the object as coded in GUIGlObjectType.">getType</a>() == <a class="code" href="../../db/dcf/_g_u_i_gl_object_types_8h.html#af2b60d80f2ed12c3f597887aec83db5caae40d439832a13fb1598a451375e92ce" title="a vehicles">GLO_VEHICLE</a>);
<a name="l00157"></a>00157     <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html" title="A MSVehicle extended by some values for usage within the gui.">GUIVehicle</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>)-&gt;<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a5f5ca3db8787b497c9d48f23bfaa1a9f" title="Adds the named visualisation feature to the given view.">removeActiveAddVisualisation</a>(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a32927bb7e5465b8e8c01c6f9a289528c" title="The parent window.">myParent</a>, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aa15653ed6769207675eef52b0a8aa32d0" title="show all vehicle&amp;#39;s routes">VO_SHOW_ALL_ROUTES</a>);
<a name="l00158"></a>00158     <span class="keywordflow">return</span> 1;
<a name="l00159"></a>00159 }
<a name="l00160"></a>00160 
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 <span class="keywordtype">long</span>
<a name="l00163"></a><a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a3c3d80caa43d1bb59ebc57453e19fe71">00163</a> <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a3c3d80caa43d1bb59ebc57453e19fe71" title="Called if the current route of the vehicle shall be shown.">GUIVehicle::GUIVehiclePopupMenu::onCmdShowCurrentRoute</a>(<a class="code" href="../../d1/d63/class_f_x_object.html">FXObject</a>*, FXSelector, <span class="keywordtype">void</span>*) {
<a name="l00164"></a>00164     assert(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>-&gt;<a class="code" href="../../de/d94/class_g_u_i_gl_object.html#a4073d06ef1e61a3ed21ddc50ba5aa78e" title="Returns the type of the object as coded in GUIGlObjectType.">getType</a>() == <a class="code" href="../../db/dcf/_g_u_i_gl_object_types_8h.html#af2b60d80f2ed12c3f597887aec83db5caae40d439832a13fb1598a451375e92ce" title="a vehicles">GLO_VEHICLE</a>);
<a name="l00165"></a>00165     <span class="keywordflow">if</span> (!static_cast&lt;GUIVehicle*&gt;(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>)-&gt;hasActiveAddVisualisation(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a32927bb7e5465b8e8c01c6f9a289528c" title="The parent window.">myParent</a>, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aabf75a5bb852c78dd14e26abe5293cd22" title="show vehicle&amp;#39;s current route">VO_SHOW_ROUTE</a>)) {
<a name="l00166"></a>00166         <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html" title="A MSVehicle extended by some values for usage within the gui.">GUIVehicle</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>)-&gt;<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a4dbe2854c048847628f60c4e9eb0b475" title="Adds the named visualisation feature to the given view.">addActiveAddVisualisation</a>(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a32927bb7e5465b8e8c01c6f9a289528c" title="The parent window.">myParent</a>, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aabf75a5bb852c78dd14e26abe5293cd22" title="show vehicle&amp;#39;s current route">VO_SHOW_ROUTE</a>);
<a name="l00167"></a>00167     }
<a name="l00168"></a>00168     <span class="keywordflow">return</span> 1;
<a name="l00169"></a>00169 }
<a name="l00170"></a>00170 
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 <span class="keywordtype">long</span>
<a name="l00173"></a><a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a8c17df1522be85eb51e561887549473a">00173</a> <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a8c17df1522be85eb51e561887549473a" title="Called if the vehicle&amp;#39;s best lanes shall be shown.">GUIVehicle::GUIVehiclePopupMenu::onCmdShowBestLanes</a>(<a class="code" href="../../d1/d63/class_f_x_object.html">FXObject</a>*, FXSelector, <span class="keywordtype">void</span>*) {
<a name="l00174"></a>00174     assert(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>-&gt;<a class="code" href="../../de/d94/class_g_u_i_gl_object.html#a4073d06ef1e61a3ed21ddc50ba5aa78e" title="Returns the type of the object as coded in GUIGlObjectType.">getType</a>() == <a class="code" href="../../db/dcf/_g_u_i_gl_object_types_8h.html#af2b60d80f2ed12c3f597887aec83db5caae40d439832a13fb1598a451375e92ce" title="a vehicles">GLO_VEHICLE</a>);
<a name="l00175"></a>00175     <span class="keywordflow">if</span> (!static_cast&lt;GUIVehicle*&gt;(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>)-&gt;hasActiveAddVisualisation(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a32927bb7e5465b8e8c01c6f9a289528c" title="The parent window.">myParent</a>, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aad2c702bb25f33fb5c9a48a381167d562" title="show vehicle&amp;#39;s best lanes">VO_SHOW_BEST_LANES</a>)) {
<a name="l00176"></a>00176         <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html" title="A MSVehicle extended by some values for usage within the gui.">GUIVehicle</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>)-&gt;<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a4dbe2854c048847628f60c4e9eb0b475" title="Adds the named visualisation feature to the given view.">addActiveAddVisualisation</a>(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a32927bb7e5465b8e8c01c6f9a289528c" title="The parent window.">myParent</a>, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aad2c702bb25f33fb5c9a48a381167d562" title="show vehicle&amp;#39;s best lanes">VO_SHOW_BEST_LANES</a>);
<a name="l00177"></a>00177     }
<a name="l00178"></a>00178     <span class="keywordflow">return</span> 1;
<a name="l00179"></a>00179 }
<a name="l00180"></a>00180 
<a name="l00181"></a>00181 
<a name="l00182"></a>00182 <span class="keywordtype">long</span>
<a name="l00183"></a><a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a9ff2c75f891caa53908d6f8f9d1b5a09">00183</a> <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a9ff2c75f891caa53908d6f8f9d1b5a09" title="Called if the current route of the vehicle shall be hidden.">GUIVehicle::GUIVehiclePopupMenu::onCmdHideCurrentRoute</a>(<a class="code" href="../../d1/d63/class_f_x_object.html">FXObject</a>*, FXSelector, <span class="keywordtype">void</span>*) {
<a name="l00184"></a>00184     assert(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>-&gt;<a class="code" href="../../de/d94/class_g_u_i_gl_object.html#a4073d06ef1e61a3ed21ddc50ba5aa78e" title="Returns the type of the object as coded in GUIGlObjectType.">getType</a>() == <a class="code" href="../../db/dcf/_g_u_i_gl_object_types_8h.html#af2b60d80f2ed12c3f597887aec83db5caae40d439832a13fb1598a451375e92ce" title="a vehicles">GLO_VEHICLE</a>);
<a name="l00185"></a>00185     <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html" title="A MSVehicle extended by some values for usage within the gui.">GUIVehicle</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>)-&gt;<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a5f5ca3db8787b497c9d48f23bfaa1a9f" title="Adds the named visualisation feature to the given view.">removeActiveAddVisualisation</a>(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a32927bb7e5465b8e8c01c6f9a289528c" title="The parent window.">myParent</a>, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aabf75a5bb852c78dd14e26abe5293cd22" title="show vehicle&amp;#39;s current route">VO_SHOW_ROUTE</a>);
<a name="l00186"></a>00186     <span class="keywordflow">return</span> 1;
<a name="l00187"></a>00187 }
<a name="l00188"></a>00188 
<a name="l00189"></a>00189 <span class="keywordtype">long</span>
<a name="l00190"></a><a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a22e96fb1eab350af224cbd01c1d3508e">00190</a> <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a22e96fb1eab350af224cbd01c1d3508e" title="Called if the vehicle&amp;#39;s best lanes shall be hidden.">GUIVehicle::GUIVehiclePopupMenu::onCmdHideBestLanes</a>(<a class="code" href="../../d1/d63/class_f_x_object.html">FXObject</a>*, FXSelector, <span class="keywordtype">void</span>*) {
<a name="l00191"></a>00191     assert(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>-&gt;<a class="code" href="../../de/d94/class_g_u_i_gl_object.html#a4073d06ef1e61a3ed21ddc50ba5aa78e" title="Returns the type of the object as coded in GUIGlObjectType.">getType</a>() == <a class="code" href="../../db/dcf/_g_u_i_gl_object_types_8h.html#af2b60d80f2ed12c3f597887aec83db5caae40d439832a13fb1598a451375e92ce" title="a vehicles">GLO_VEHICLE</a>);
<a name="l00192"></a>00192     <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html" title="A MSVehicle extended by some values for usage within the gui.">GUIVehicle</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>)-&gt;<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a5f5ca3db8787b497c9d48f23bfaa1a9f" title="Adds the named visualisation feature to the given view.">removeActiveAddVisualisation</a>(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a32927bb7e5465b8e8c01c6f9a289528c" title="The parent window.">myParent</a>, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aad2c702bb25f33fb5c9a48a381167d562" title="show vehicle&amp;#39;s best lanes">VO_SHOW_BEST_LANES</a>);
<a name="l00193"></a>00193     <span class="keywordflow">return</span> 1;
<a name="l00194"></a>00194 }
<a name="l00195"></a>00195 
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 <span class="keywordtype">long</span>
<a name="l00198"></a><a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a8339783a43238e108431fa3160693956">00198</a> <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#a8339783a43238e108431fa3160693956" title="Called if the vehicle shall be tracked.">GUIVehicle::GUIVehiclePopupMenu::onCmdStartTrack</a>(<a class="code" href="../../d1/d63/class_f_x_object.html">FXObject</a>*, FXSelector, <span class="keywordtype">void</span>*) {
<a name="l00199"></a>00199     assert(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>-&gt;<a class="code" href="../../de/d94/class_g_u_i_gl_object.html#a4073d06ef1e61a3ed21ddc50ba5aa78e" title="Returns the type of the object as coded in GUIGlObjectType.">getType</a>() == <a class="code" href="../../db/dcf/_g_u_i_gl_object_types_8h.html#af2b60d80f2ed12c3f597887aec83db5caae40d439832a13fb1598a451375e92ce" title="a vehicles">GLO_VEHICLE</a>);
<a name="l00200"></a>00200     <span class="keywordflow">if</span> (!static_cast&lt;GUIVehicle*&gt;(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>)-&gt;hasActiveAddVisualisation(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a32927bb7e5465b8e8c01c6f9a289528c" title="The parent window.">myParent</a>, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aab75808081ba96b4691e9f3100995a68b" title="track vehicle">VO_TRACKED</a>)) {
<a name="l00201"></a>00201         <a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a32927bb7e5465b8e8c01c6f9a289528c" title="The parent window.">myParent</a>-&gt;<a class="code" href="../../db/d5a/class_g_u_i_s_u_m_o_abstract_view.html#a091361da263bfef1aaf8a5b1b2a5c9d2">startTrack</a>(static_cast&lt;GUIVehicle*&gt;(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>)-&gt;<a class="code" href="../../de/d94/class_g_u_i_gl_object.html#ac6cfa69398d352646e3d2228f7772a46" title="Returns the numerical id of the object.">getGlID</a>());
<a name="l00202"></a>00202         <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html" title="A MSVehicle extended by some values for usage within the gui.">GUIVehicle</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>)-&gt;<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a4dbe2854c048847628f60c4e9eb0b475" title="Adds the named visualisation feature to the given view.">addActiveAddVisualisation</a>(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a32927bb7e5465b8e8c01c6f9a289528c" title="The parent window.">myParent</a>, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aab75808081ba96b4691e9f3100995a68b" title="track vehicle">VO_TRACKED</a>);
<a name="l00203"></a>00203     }
<a name="l00204"></a>00204     <span class="keywordflow">return</span> 1;
<a name="l00205"></a>00205 }
<a name="l00206"></a>00206 
<a name="l00207"></a>00207 <span class="keywordtype">long</span>
<a name="l00208"></a><a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#ab4e2668ac25eff359f6b8d61bb968e33">00208</a> <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html#ab4e2668ac25eff359f6b8d61bb968e33" title="Called if the current shall not be tracked any longer.">GUIVehicle::GUIVehiclePopupMenu::onCmdStopTrack</a>(<a class="code" href="../../d1/d63/class_f_x_object.html">FXObject</a>*, FXSelector, <span class="keywordtype">void</span>*) {
<a name="l00209"></a>00209     assert(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>-&gt;<a class="code" href="../../de/d94/class_g_u_i_gl_object.html#a4073d06ef1e61a3ed21ddc50ba5aa78e" title="Returns the type of the object as coded in GUIGlObjectType.">getType</a>() == <a class="code" href="../../db/dcf/_g_u_i_gl_object_types_8h.html#af2b60d80f2ed12c3f597887aec83db5caae40d439832a13fb1598a451375e92ce" title="a vehicles">GLO_VEHICLE</a>);
<a name="l00210"></a>00210     <span class="keyword">static_cast&lt;</span><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html" title="A MSVehicle extended by some values for usage within the gui.">GUIVehicle</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a0c5104d23cce18ac2afd4b758f444516" title="The object that belongs to this popup-menu.">myObject</a>)-&gt;<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a5f5ca3db8787b497c9d48f23bfaa1a9f" title="Adds the named visualisation feature to the given view.">removeActiveAddVisualisation</a>(<a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a32927bb7e5465b8e8c01c6f9a289528c" title="The parent window.">myParent</a>, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aab75808081ba96b4691e9f3100995a68b" title="track vehicle">VO_TRACKED</a>);
<a name="l00211"></a>00211     <a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html#a32927bb7e5465b8e8c01c6f9a289528c" title="The parent window.">myParent</a>-&gt;<a class="code" href="../../db/d5a/class_g_u_i_s_u_m_o_abstract_view.html#ad00156161e3b71cfa827a8a1c415a7d2">stopTrack</a>();
<a name="l00212"></a>00212     <span class="keywordflow">return</span> 1;
<a name="l00213"></a>00213 }
<a name="l00214"></a>00214 
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 <span class="comment">/* -------------------------------------------------------------------------</span>
<a name="l00217"></a>00217 <span class="comment"> * GUIVehicle - methods</span>
<a name="l00218"></a>00218 <span class="comment"> * ----------------------------------------------------------------------- */</span>
<a name="l00219"></a><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a67fdbd1dcff075038215ee4b51e63b19">00219</a> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a67fdbd1dcff075038215ee4b51e63b19" title="Constructor.">GUIVehicle::GUIVehicle</a>(<a class="code" href="../../d8/d51/class_s_u_m_o_vehicle_parameter.html" title="Structure representing possible vehicle parameter.">SUMOVehicleParameter</a>* pars, <span class="keyword">const</span> <a class="code" href="../../de/dd8/class_m_s_route.html">MSRoute</a>* route,
<a name="l00220"></a>00220                        <span class="keyword">const</span> <a class="code" href="../../de/da2/class_m_s_vehicle_type.html" title="The car-following model and parameter.">MSVehicleType</a>* type,
<a name="l00221"></a>00221                        <span class="keywordtype">int</span> vehicleIndex)
<a name="l00222"></a>00222     : <a class="code" href="../../d7/d90/class_m_s_vehicle.html" title="Representation of a vehicle in the micro simulation.">MSVehicle</a>(pars, route, type, vehicleIndex),
<a name="l00223"></a>00223       <a class="code" href="../../de/d94/class_g_u_i_gl_object.html">GUIGlObject</a>(<a class="code" href="../../db/dcf/_g_u_i_gl_object_types_8h.html#af2b60d80f2ed12c3f597887aec83db5caae40d439832a13fb1598a451375e92ce" title="a vehicles">GLO_VEHICLE</a>, pars-&gt;id) {
<a name="l00224"></a>00224     <span class="comment">// as it is possible to show all vehicle routes, we have to store them... (bug [ 2519761 ])</span>
<a name="l00225"></a>00225     <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a61f82e8479973f6717503515cba06868">myRoutes</a> = <a class="code" href="../../d3/db0/class_m_s_device___vehroutes.html#ac8bdcc94f5c7900a8d997cff5196fb34" title="Build devices for the given vehicle, if needed.">MSDevice_Vehroutes::buildVehicleDevices</a>(*<span class="keyword">this</span>, <a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#a9cd1f3f4aba9025cab8404a95dcae6d8" title="The devices this vehicle has.">myDevices</a>, 5);
<a name="l00226"></a>00226     <a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#a2fdd6a88fbee98b18e17c61602a18638" title="Current lane&amp;#39;s move reminder.">myMoveReminders</a>.push_back(std::make_pair(<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a61f82e8479973f6717503515cba06868">myRoutes</a>, 0.));
<a name="l00227"></a>00227 }
<a name="l00228"></a>00228 
<a name="l00229"></a>00229 
<a name="l00230"></a><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#afb57ea9e1be66ba042bb1cff480f65de">00230</a> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#afb57ea9e1be66ba042bb1cff480f65de" title="destructor">GUIVehicle::~GUIVehicle</a>() {
<a name="l00231"></a>00231     <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#aa2cf7a5a6ee65657aece9d1292b8708c" title="The mutex used to avoid concurrent updates of the vehicle buffer.">myLock</a>.<a class="code" href="../../d9/d79/class_m_f_x_mutex.html#a3609793086e8009740a9a31d7751e17c" title="lock mutex">lock</a>();
<a name="l00232"></a>00232     <span class="keywordflow">for</span> (std::map&lt;GUISUMOAbstractView*, int&gt;::iterator i = <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a0b7c63c0bd674c19f8b3357f08a56208" title="Enabled visualisations, per view.">myAdditionalVisualizations</a>.begin(); i != <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a0b7c63c0bd674c19f8b3357f08a56208" title="Enabled visualisations, per view.">myAdditionalVisualizations</a>.end(); ++i) {
<a name="l00233"></a>00233         <span class="keywordflow">while</span> (i-&gt;first-&gt;removeAdditionalGLVisualisation(<span class="keyword">this</span>));
<a name="l00234"></a>00234     }
<a name="l00235"></a>00235     <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#aa2cf7a5a6ee65657aece9d1292b8708c" title="The mutex used to avoid concurrent updates of the vehicle buffer.">myLock</a>.<a class="code" href="../../d9/d79/class_m_f_x_mutex.html#aea4ed8cbb1d65e9d43119c21c4b1b93a" title="release mutex lock">unlock</a>();
<a name="l00236"></a>00236     <a class="code" href="../../d0/d95/class_g_l_object_value_pass_connector.html" title="Class passing values from a GUIGlObject to another object.">GLObjectValuePassConnector&lt;SUMOReal&gt;::removeObject</a>(*<span class="keyword">this</span>);
<a name="l00237"></a>00237     <span class="keyword">delete</span> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a61f82e8479973f6717503515cba06868">myRoutes</a>;
<a name="l00238"></a>00238 }
<a name="l00239"></a>00239 
<a name="l00240"></a>00240 
<a name="l00241"></a>00241 <a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html" title="The popup menu of a globject.">GUIGLObjectPopupMenu</a>*
<a name="l00242"></a><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#ab6c7fef408f717304fe9ba2d20c6b679">00242</a> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#ab6c7fef408f717304fe9ba2d20c6b679" title="Returns an own popup-menu.">GUIVehicle::getPopUpMenu</a>(<a class="code" href="../../db/dba/class_g_u_i_main_window.html">GUIMainWindow</a>&amp; app,
<a name="l00243"></a>00243                          <a class="code" href="../../db/d5a/class_g_u_i_s_u_m_o_abstract_view.html">GUISUMOAbstractView</a>&amp; parent) {
<a name="l00244"></a>00244     <a class="code" href="../../d3/d63/class_g_u_i_g_l_object_popup_menu.html" title="The popup menu of a globject.">GUIGLObjectPopupMenu</a>* ret = <span class="keyword">new</span> <a class="code" href="../../db/d5b/class_g_u_i_vehicle_1_1_g_u_i_vehicle_popup_menu.html">GUIVehiclePopupMenu</a>(app, parent, *<span class="keyword">this</span>, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a0b7c63c0bd674c19f8b3357f08a56208" title="Enabled visualisations, per view.">myAdditionalVisualizations</a>);
<a name="l00245"></a>00245     <a class="code" href="../../de/d94/class_g_u_i_gl_object.html#a8e0bda1c0dc62ed5a1bbe0d2ce32db2f" title="Builds the header.">buildPopupHeader</a>(ret, app);
<a name="l00246"></a>00246     <a class="code" href="../../de/d94/class_g_u_i_gl_object.html#a7f25d078b1045d0571c48a65a82f8735" title="Builds an entry which allows to center to the object.">buildCenterPopupEntry</a>(ret);
<a name="l00247"></a>00247     <a class="code" href="../../de/d94/class_g_u_i_gl_object.html#a8d6e99bc892766ddd36c9fef2f4e2458" title="Builds entries which allow to copy the name / typed name into the clipboard.">buildNameCopyPopupEntry</a>(ret);
<a name="l00248"></a>00248     <a class="code" href="../../de/d94/class_g_u_i_gl_object.html#ac8760c5d995dfe551c52cf54939dd4a9" title="Builds an entry which allows to (de)select the object.">buildSelectionPopupEntry</a>(ret);
<a name="l00249"></a>00249     <span class="comment">//</span>
<a name="l00250"></a>00250     <span class="keywordflow">if</span> (<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a6dbdb956f4b90d3f5b9b59702268097e" title="Returns whether the named feature is enabled in the given view.">hasActiveAddVisualisation</a>(&amp;parent, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aabf75a5bb852c78dd14e26abe5293cd22" title="show vehicle&amp;#39;s current route">VO_SHOW_ROUTE</a>)) {
<a name="l00251"></a>00251         <span class="keyword">new</span> <a class="code" href="../../dc/df5/class_f_x_menu_command.html">FXMenuCommand</a>(ret, <span class="stringliteral">&quot;Hide Current Route&quot;</span>, 0, ret, <a class="code" href="../../d7/d72/_g_u_i_app_enum_8h.html#a0944a4353780132eeab7b06e3e42291da42e40a00e70e82a60ad43fb5de0b03c3" title="Hide vehicle&amp;#39;s current route.">MID_HIDE_CURRENTROUTE</a>);
<a name="l00252"></a>00252     } <span class="keywordflow">else</span> {
<a name="l00253"></a>00253         <span class="keyword">new</span> <a class="code" href="../../dc/df5/class_f_x_menu_command.html">FXMenuCommand</a>(ret, <span class="stringliteral">&quot;Show Current Route&quot;</span>, 0, ret, <a class="code" href="../../d7/d72/_g_u_i_app_enum_8h.html#a0944a4353780132eeab7b06e3e42291dae86a10634c530822b94752e1c3d4956c" title="Show vehicle&amp;#39;s current route.">MID_SHOW_CURRENTROUTE</a>);
<a name="l00254"></a>00254     }
<a name="l00255"></a>00255     <span class="keywordflow">if</span> (<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a6dbdb956f4b90d3f5b9b59702268097e" title="Returns whether the named feature is enabled in the given view.">hasActiveAddVisualisation</a>(&amp;parent, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aa15653ed6769207675eef52b0a8aa32d0" title="show all vehicle&amp;#39;s routes">VO_SHOW_ALL_ROUTES</a>)) {
<a name="l00256"></a>00256         <span class="keyword">new</span> <a class="code" href="../../dc/df5/class_f_x_menu_command.html">FXMenuCommand</a>(ret, <span class="stringliteral">&quot;Hide All Routes&quot;</span>, 0, ret, <a class="code" href="../../d7/d72/_g_u_i_app_enum_8h.html#a0944a4353780132eeab7b06e3e42291da004a1d171199f305e9e1dcdc6649fb2f" title="Hide all vehicle&amp;#39;s routes.">MID_HIDE_ALLROUTES</a>);
<a name="l00257"></a>00257     } <span class="keywordflow">else</span> {
<a name="l00258"></a>00258         <span class="keyword">new</span> <a class="code" href="../../dc/df5/class_f_x_menu_command.html">FXMenuCommand</a>(ret, <span class="stringliteral">&quot;Show All Routes&quot;</span>, 0, ret, <a class="code" href="../../d7/d72/_g_u_i_app_enum_8h.html#a0944a4353780132eeab7b06e3e42291da726f87ef2305f084e13316731a1ee30d" title="Show all vehicle&amp;#39;s routes.">MID_SHOW_ALLROUTES</a>);
<a name="l00259"></a>00259     }
<a name="l00260"></a>00260     <span class="keywordflow">if</span> (<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a6dbdb956f4b90d3f5b9b59702268097e" title="Returns whether the named feature is enabled in the given view.">hasActiveAddVisualisation</a>(&amp;parent, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aad2c702bb25f33fb5c9a48a381167d562" title="show vehicle&amp;#39;s best lanes">VO_SHOW_BEST_LANES</a>)) {
<a name="l00261"></a>00261         <span class="keyword">new</span> <a class="code" href="../../dc/df5/class_f_x_menu_command.html">FXMenuCommand</a>(ret, <span class="stringliteral">&quot;Hide Best Lanes&quot;</span>, 0, ret, <a class="code" href="../../d7/d72/_g_u_i_app_enum_8h.html#a0944a4353780132eeab7b06e3e42291da2c9e708c39c4b428002217abf3c3e856" title="Hide vehicle&amp;#39;s best lanes.">MID_HIDE_BEST_LANES</a>);
<a name="l00262"></a>00262     } <span class="keywordflow">else</span> {
<a name="l00263"></a>00263         <span class="keyword">new</span> <a class="code" href="../../dc/df5/class_f_x_menu_command.html">FXMenuCommand</a>(ret, <span class="stringliteral">&quot;Show Best Lanes&quot;</span>, 0, ret, <a class="code" href="../../d7/d72/_g_u_i_app_enum_8h.html#a0944a4353780132eeab7b06e3e42291da63d181cd70d258b78a72513563cba65f" title="Show vehicle&amp;#39;s best lanes.">MID_SHOW_BEST_LANES</a>);
<a name="l00264"></a>00264     }
<a name="l00265"></a>00265     <span class="keyword">new</span> FXMenuSeparator(ret);
<a name="l00266"></a>00266     <span class="keywordtype">int</span> trackedID = parent.<a class="code" href="../../db/d5a/class_g_u_i_s_u_m_o_abstract_view.html#a0f5d56d0283da9b2e7567e1ca80d8671">getTrackedID</a>();
<a name="l00267"></a>00267     <span class="keywordflow">if</span> (trackedID &lt; 0 || (<span class="keywordtype">size_t</span>)trackedID != <a class="code" href="../../de/d94/class_g_u_i_gl_object.html#ac6cfa69398d352646e3d2228f7772a46" title="Returns the numerical id of the object.">getGlID</a>()) {
<a name="l00268"></a>00268         <span class="keyword">new</span> <a class="code" href="../../dc/df5/class_f_x_menu_command.html">FXMenuCommand</a>(ret, <span class="stringliteral">&quot;Start Tracking&quot;</span>, 0, ret, <a class="code" href="../../d7/d72/_g_u_i_app_enum_8h.html#a0944a4353780132eeab7b06e3e42291da6ea694a54c5d1157b0edc803c8b8da25" title="Start to track a vehicle.">MID_START_TRACK</a>);
<a name="l00269"></a>00269     } <span class="keywordflow">else</span> {
<a name="l00270"></a>00270         <span class="keyword">new</span> <a class="code" href="../../dc/df5/class_f_x_menu_command.html">FXMenuCommand</a>(ret, <span class="stringliteral">&quot;Stop Tracking&quot;</span>, 0, ret, <a class="code" href="../../d7/d72/_g_u_i_app_enum_8h.html#a0944a4353780132eeab7b06e3e42291daf9e79983950aa32971eed92e3364d5b7" title="Stop to track a vehicle.">MID_STOP_TRACK</a>);
<a name="l00271"></a>00271     }
<a name="l00272"></a>00272     <span class="keyword">new</span> FXMenuSeparator(ret);
<a name="l00273"></a>00273     <span class="comment">//</span>
<a name="l00274"></a>00274     <a class="code" href="../../de/d94/class_g_u_i_gl_object.html#a4925e7cf61ce8a4ec901dd6a725d3a0d" title="Builds an entry which allows to open the parameter window.">buildShowParamsPopupEntry</a>(ret);
<a name="l00275"></a>00275     <a class="code" href="../../de/d94/class_g_u_i_gl_object.html#a010bb5b11efb1e7a7778483ffe73cfda" title="Builds an entry which allows to copy the cursor position if geo projection is used...">buildPositionCopyEntry</a>(ret, <span class="keyword">false</span>);
<a name="l00276"></a>00276     <span class="keywordflow">return</span> ret;
<a name="l00277"></a>00277 }
<a name="l00278"></a>00278 
<a name="l00279"></a>00279 
<a name="l00280"></a>00280 <a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html" title="A window containing a gl-object&amp;#39;s parameter.">GUIParameterTableWindow</a>*
<a name="l00281"></a><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a5cf7323fbd650fd744f111c6d6012dce">00281</a> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a5cf7323fbd650fd744f111c6d6012dce" title="Returns an own parameter window.">GUIVehicle::getParameterWindow</a>(<a class="code" href="../../db/dba/class_g_u_i_main_window.html">GUIMainWindow</a>&amp; app,
<a name="l00282"></a>00282                                <a class="code" href="../../db/d5a/class_g_u_i_s_u_m_o_abstract_view.html">GUISUMOAbstractView</a>&amp;) {
<a name="l00283"></a>00283     <a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html" title="A window containing a gl-object&amp;#39;s parameter.">GUIParameterTableWindow</a>* ret =
<a name="l00284"></a>00284         <span class="keyword">new</span> <a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html" title="A window containing a gl-object&amp;#39;s parameter.">GUIParameterTableWindow</a>(app, *<span class="keyword">this</span>, 15);
<a name="l00285"></a>00285     <span class="comment">// add items</span>
<a name="l00286"></a>00286     ret-&gt;<a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html#a69e1dafe3837b2181446f1cacbb4a464" title="Adds a row which obtains its value from an unsigned-ValueSource.">mkItem</a>(<span class="stringliteral">&quot;type [NAME]&quot;</span>, <span class="keyword">false</span>, <a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#a5891f4fb411d990184f7f62e0fcaca52" title="This Vehicle&amp;#39;s type.">myType</a>-&gt;<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#ad6dc1278af1ab98cbbc19d924739f766" title="Returns the name of the vehicle type.">getID</a>());
<a name="l00287"></a>00287     <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#a79d93ef1833e1154d26d5f381ddb33d9" title="Returns the vehicle&amp;#39;s parameter (including departure definition).">getParameter</a>().<a class="code" href="../../d8/d51/class_s_u_m_o_vehicle_parameter.html#a1526717e606c579e5ec14b7ab798fac2" title="The number of times the vehicle shall be repeatedly inserted.">repetitionNumber</a> &gt; 0) {
<a name="l00288"></a>00288         ret-&gt;<a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html#a69e1dafe3837b2181446f1cacbb4a464" title="Adds a row which obtains its value from an unsigned-ValueSource.">mkItem</a>(<span class="stringliteral">&quot;left same route [#]&quot;</span>, <span class="keyword">false</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#a79d93ef1833e1154d26d5f381ddb33d9" title="Returns the vehicle&amp;#39;s parameter (including departure definition).">getParameter</a>().repetitionNumber);
<a name="l00289"></a>00289     }
<a name="l00290"></a>00290     <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#a79d93ef1833e1154d26d5f381ddb33d9" title="Returns the vehicle&amp;#39;s parameter (including departure definition).">getParameter</a>().repetitionOffset &gt; 0) {
<a name="l00291"></a>00291         ret-&gt;<a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html#a69e1dafe3837b2181446f1cacbb4a464" title="Adds a row which obtains its value from an unsigned-ValueSource.">mkItem</a>(<span class="stringliteral">&quot;insertion period [s]&quot;</span>, <span class="keyword">false</span>, <a class="code" href="../../d6/d1f/_s_u_m_o_time_8cpp.html#a5bd5c47639f33fda316b4eca62222a21">time2string</a>(<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#a79d93ef1833e1154d26d5f381ddb33d9" title="Returns the vehicle&amp;#39;s parameter (including departure definition).">getParameter</a>().repetitionOffset));
<a name="l00292"></a>00292     }
<a name="l00293"></a>00293     ret-&gt;<a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html#a69e1dafe3837b2181446f1cacbb4a464" title="Adds a row which obtains its value from an unsigned-ValueSource.">mkItem</a>(<span class="stringliteral">&quot;waiting time [s]&quot;</span>, <span class="keyword">true</span>,
<a name="l00294"></a>00294                 <span class="keyword">new</span> <a class="code" href="../../d4/dd6/class_function_binding.html">FunctionBinding&lt;GUIVehicle, SUMOReal&gt;</a>(<span class="keyword">this</span>, &amp;<a class="code" href="../../d7/d90/class_m_s_vehicle.html#a871757109e4fd70fbd1212786db95f82" title="Returns the number of seconds waited (speed was lesser than 0.1m/s).">MSVehicle::getWaitingSeconds</a>));
<a name="l00295"></a>00295     ret-&gt;<a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html#a69e1dafe3837b2181446f1cacbb4a464" title="Adds a row which obtains its value from an unsigned-ValueSource.">mkItem</a>(<span class="stringliteral">&quot;last lane change [s]&quot;</span>, <span class="keyword">true</span>,
<a name="l00296"></a>00296                 <span class="keyword">new</span> <a class="code" href="../../d4/dd6/class_function_binding.html">FunctionBinding&lt;GUIVehicle, SUMOReal&gt;</a>(<span class="keyword">this</span>, &amp;<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a034beca0275393879f671a2a67b46855" title="Returns the time since the last lane change in seconds.">GUIVehicle::getLastLaneChangeOffset</a>));
<a name="l00297"></a>00297     ret-&gt;<a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html#a69e1dafe3837b2181446f1cacbb4a464" title="Adds a row which obtains its value from an unsigned-ValueSource.">mkItem</a>(<span class="stringliteral">&quot;desired depart [s]&quot;</span>, <span class="keyword">false</span>, <a class="code" href="../../d6/d1f/_s_u_m_o_time_8cpp.html#a5bd5c47639f33fda316b4eca62222a21">time2string</a>(<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#a79d93ef1833e1154d26d5f381ddb33d9" title="Returns the vehicle&amp;#39;s parameter (including departure definition).">getParameter</a>().depart));
<a name="l00298"></a>00298     ret-&gt;<a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html#a69e1dafe3837b2181446f1cacbb4a464" title="Adds a row which obtains its value from an unsigned-ValueSource.">mkItem</a>(<span class="stringliteral">&quot;position [m]&quot;</span>, <span class="keyword">true</span>,
<a name="l00299"></a>00299                 <span class="keyword">new</span> <a class="code" href="../../d4/dd6/class_function_binding.html">FunctionBinding&lt;GUIVehicle, SUMOReal&gt;</a>(<span class="keyword">this</span>, &amp;<a class="code" href="../../d7/d90/class_m_s_vehicle.html#a9730b019bfc264e955b4af196619f72d" title="Get the vehicle&amp;#39;s position along the lane.">GUIVehicle::getPositionOnLane</a>));
<a name="l00300"></a>00300     ret-&gt;<a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html#a69e1dafe3837b2181446f1cacbb4a464" title="Adds a row which obtains its value from an unsigned-ValueSource.">mkItem</a>(<span class="stringliteral">&quot;speed [m/s]&quot;</span>, <span class="keyword">true</span>,
<a name="l00301"></a>00301                 <span class="keyword">new</span> <a class="code" href="../../d4/dd6/class_function_binding.html">FunctionBinding&lt;GUIVehicle, SUMOReal&gt;</a>(<span class="keyword">this</span>, &amp;<a class="code" href="../../d7/d90/class_m_s_vehicle.html#ac6847bb54de8bdf75ddb8e2fc689cb2e" title="Returns the vehicle&amp;#39;s current speed.">GUIVehicle::getSpeed</a>));
<a name="l00302"></a>00302     ret-&gt;<a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html#a69e1dafe3837b2181446f1cacbb4a464" title="Adds a row which obtains its value from an unsigned-ValueSource.">mkItem</a>(<span class="stringliteral">&quot;angle&quot;</span>, <span class="keyword">true</span>,
<a name="l00303"></a>00303                 <span class="keyword">new</span> <a class="code" href="../../d4/dd6/class_function_binding.html">FunctionBinding&lt;GUIVehicle, SUMOReal&gt;</a>(<span class="keyword">this</span>, &amp;<a class="code" href="../../d7/d90/class_m_s_vehicle.html#a58306cace8fdb949c89fefb3279220f8" title="Returns the vehicle&amp;#39;s direction in degrees.">MSVehicle::getAngle</a>));
<a name="l00304"></a>00304     ret-&gt;<a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html#a69e1dafe3837b2181446f1cacbb4a464" title="Adds a row which obtains its value from an unsigned-ValueSource.">mkItem</a>(<span class="stringliteral">&quot;CO2 (HBEFA) [g/s]&quot;</span>, <span class="keyword">true</span>,
<a name="l00305"></a>00305                 <span class="keyword">new</span> <a class="code" href="../../d4/dd6/class_function_binding.html">FunctionBinding&lt;GUIVehicle, SUMOReal&gt;</a>(<span class="keyword">this</span>, &amp;<a class="code" href="../../d7/d90/class_m_s_vehicle.html#a49915ab2e792b0897e6fdcdc04b5c555" title="Returns CO2 emission of the current state.">GUIVehicle::getHBEFA_CO2Emissions</a>));
<a name="l00306"></a>00306     ret-&gt;<a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html#a69e1dafe3837b2181446f1cacbb4a464" title="Adds a row which obtains its value from an unsigned-ValueSource.">mkItem</a>(<span class="stringliteral">&quot;CO (HBEFA) [g/s]&quot;</span>, <span class="keyword">true</span>,
<a name="l00307"></a>00307                 <span class="keyword">new</span> <a class="code" href="../../d4/dd6/class_function_binding.html">FunctionBinding&lt;GUIVehicle, SUMOReal&gt;</a>(<span class="keyword">this</span>, &amp;<a class="code" href="../../d7/d90/class_m_s_vehicle.html#abb0b355c01ca18bc7fc6631043bba4ca" title="Returns CO emission of the current state.">GUIVehicle::getHBEFA_COEmissions</a>));
<a name="l00308"></a>00308     ret-&gt;<a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html#a69e1dafe3837b2181446f1cacbb4a464" title="Adds a row which obtains its value from an unsigned-ValueSource.">mkItem</a>(<span class="stringliteral">&quot;HC (HBEFA) [g/s]&quot;</span>, <span class="keyword">true</span>,
<a name="l00309"></a>00309                 <span class="keyword">new</span> <a class="code" href="../../d4/dd6/class_function_binding.html">FunctionBinding&lt;GUIVehicle, SUMOReal&gt;</a>(<span class="keyword">this</span>, &amp;<a class="code" href="../../d7/d90/class_m_s_vehicle.html#ada4135b3dfeafaf7cca16b5cea7dc007" title="Returns HC emission of the current state.">GUIVehicle::getHBEFA_HCEmissions</a>));
<a name="l00310"></a>00310     ret-&gt;<a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html#a69e1dafe3837b2181446f1cacbb4a464" title="Adds a row which obtains its value from an unsigned-ValueSource.">mkItem</a>(<span class="stringliteral">&quot;NOx (HBEFA) [g/s]&quot;</span>, <span class="keyword">true</span>,
<a name="l00311"></a>00311                 <span class="keyword">new</span> <a class="code" href="../../d4/dd6/class_function_binding.html">FunctionBinding&lt;GUIVehicle, SUMOReal&gt;</a>(<span class="keyword">this</span>, &amp;<a class="code" href="../../d7/d90/class_m_s_vehicle.html#a244faac2fab160c829a20ec1c8b8cab2" title="Returns NOx emission of the current state.">GUIVehicle::getHBEFA_NOxEmissions</a>));
<a name="l00312"></a>00312     ret-&gt;<a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html#a69e1dafe3837b2181446f1cacbb4a464" title="Adds a row which obtains its value from an unsigned-ValueSource.">mkItem</a>(<span class="stringliteral">&quot;PMx (HBEFA) [g/s]&quot;</span>, <span class="keyword">true</span>,
<a name="l00313"></a>00313                 <span class="keyword">new</span> <a class="code" href="../../d4/dd6/class_function_binding.html">FunctionBinding&lt;GUIVehicle, SUMOReal&gt;</a>(<span class="keyword">this</span>, &amp;<a class="code" href="../../d7/d90/class_m_s_vehicle.html#a5b4bbb6211df5cb4ee47e5212b6e0605" title="Returns PMx emission of the current state.">GUIVehicle::getHBEFA_PMxEmissions</a>));
<a name="l00314"></a>00314     ret-&gt;<a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html#a69e1dafe3837b2181446f1cacbb4a464" title="Adds a row which obtains its value from an unsigned-ValueSource.">mkItem</a>(<span class="stringliteral">&quot;fuel (HBEFA) [l/s]&quot;</span>, <span class="keyword">true</span>,
<a name="l00315"></a>00315                 <span class="keyword">new</span> <a class="code" href="../../d4/dd6/class_function_binding.html">FunctionBinding&lt;GUIVehicle, SUMOReal&gt;</a>(<span class="keyword">this</span>, &amp;<a class="code" href="../../d7/d90/class_m_s_vehicle.html#a8cd36309da768a01619257e0e3a2e2e7" title="Returns fuel consumption of the current state.">GUIVehicle::getHBEFA_FuelConsumption</a>));
<a name="l00316"></a>00316     ret-&gt;<a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html#a69e1dafe3837b2181446f1cacbb4a464" title="Adds a row which obtains its value from an unsigned-ValueSource.">mkItem</a>(<span class="stringliteral">&quot;noise (Harmonoise) [dB]&quot;</span>, <span class="keyword">true</span>,
<a name="l00317"></a>00317                 <span class="keyword">new</span> <a class="code" href="../../d4/dd6/class_function_binding.html">FunctionBinding&lt;GUIVehicle, SUMOReal&gt;</a>(<span class="keyword">this</span>, &amp;<a class="code" href="../../d7/d90/class_m_s_vehicle.html#a0102e0a91fc18c7a96c10fba46c4bc63" title="Returns noise emissions of the current state.">GUIVehicle::getHarmonoise_NoiseEmissions</a>));
<a name="l00318"></a>00318     <span class="comment">// close building</span>
<a name="l00319"></a>00319     ret-&gt;<a class="code" href="../../d7/def/class_g_u_i_parameter_table_window.html#a3c02585964cf4b3af561d8a868be0126" title="Closes the building of the table.">closeBuilding</a>();
<a name="l00320"></a>00320     <span class="keywordflow">return</span> ret;
<a name="l00321"></a>00321 }
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 
<a name="l00324"></a>00324 <a class="code" href="../../d5/dda/class_boundary.html" title="A class that stores a 2D geometrical boundary.">Boundary</a>
<a name="l00325"></a><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a6e9935ad2807230df4780c60a79ccc18">00325</a> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a6e9935ad2807230df4780c60a79ccc18" title="Returns the boundary to which the view shall be centered in order to show the object...">GUIVehicle::getCenteringBoundary</a>()<span class="keyword"> const </span>{
<a name="l00326"></a>00326     <a class="code" href="../../d5/dda/class_boundary.html" title="A class that stores a 2D geometrical boundary.">Boundary</a> b;
<a name="l00327"></a>00327     b.<a class="code" href="../../d5/dda/class_boundary.html#a5645385e483e8b7c9a04762c79ab7ae6" title="Makes the boundary include the given coordinate.">add</a>(<a class="code" href="../../d7/d90/class_m_s_vehicle.html#a0e464e17d48501f4515b5ede67306a73" title="Return current position (x/y, cartesian).">getPosition</a>());
<a name="l00328"></a>00328     b.<a class="code" href="../../d5/dda/class_boundary.html#ab4977ce85671488934e8a91c392518d3" title="extends the boundary by the given amount">grow</a>(20);
<a name="l00329"></a>00329     <span class="keywordflow">return</span> b;
<a name="l00330"></a>00330 }
<a name="l00331"></a>00331 
<a name="l00332"></a>00332 
<a name="l00333"></a>00333 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00334"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a6a40ab8897d1ad479b8f0b1fd6e8f3e6">00334</a> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a6a40ab8897d1ad479b8f0b1fd6e8f3e6">drawAction_drawVehicleAsBoxPlus</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html" title="A MSVehicle extended by some values for usage within the gui.">GUIVehicle</a>&amp; veh) {
<a name="l00335"></a>00335     glPushMatrix();
<a name="l00336"></a>00336     glTranslated(0., veh.<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#a76ee5709b769cdc9cea890d845a9cbdd" title="Get the free space in front of vehicles of this class.">getMinGap</a>(), 0.);
<a name="l00337"></a>00337     glScaled(veh.<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#a9cdbf598f45533cb21a99ed26a2b21b6" title="Get the width which vehicles of this class shall have when being drawn.">getGuiWidth</a>(), veh.<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#ab764114b52d49b9d428fbb92940e478b" title="Get vehicle&amp;#39;s length [m].">getLength</a>(), 1.);
<a name="l00338"></a>00338     glBegin(GL_TRIANGLE_STRIP);
<a name="l00339"></a>00339     glVertex2d(0., 0.);
<a name="l00340"></a>00340     glVertex2d(-.5, .15);
<a name="l00341"></a>00341     glVertex2d( .5, .15);
<a name="l00342"></a>00342     glVertex2d(-.5, 1.);
<a name="l00343"></a>00343     glVertex2d( .5, 1.);
<a name="l00344"></a>00344     glEnd();
<a name="l00345"></a>00345     glPopMatrix();
<a name="l00346"></a>00346 }
<a name="l00347"></a>00347 
<a name="l00348"></a>00348 
<a name="l00349"></a>00349 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00350"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a62a62aa64bc250d9964ce46aff49e6c4">00350</a> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a62a62aa64bc250d9964ce46aff49e6c4">drawAction_drawVehicleAsTrianglePlus</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html" title="A MSVehicle extended by some values for usage within the gui.">GUIVehicle</a>&amp; veh) {
<a name="l00351"></a>00351     <span class="keyword">const</span> <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> length = veh.<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#ab764114b52d49b9d428fbb92940e478b" title="Get vehicle&amp;#39;s length [m].">getLength</a>();
<a name="l00352"></a>00352     <span class="keywordflow">if</span> (length &gt;= 8.) {
<a name="l00353"></a>00353         <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a6a40ab8897d1ad479b8f0b1fd6e8f3e6">drawAction_drawVehicleAsBoxPlus</a>(veh);
<a name="l00354"></a>00354         <span class="keywordflow">return</span>;
<a name="l00355"></a>00355     }
<a name="l00356"></a>00356     glPushMatrix();
<a name="l00357"></a>00357     glTranslated(0., veh.<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#a76ee5709b769cdc9cea890d845a9cbdd" title="Get the free space in front of vehicles of this class.">getMinGap</a>(), 0.);
<a name="l00358"></a>00358     glScaled(veh.<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#a9cdbf598f45533cb21a99ed26a2b21b6" title="Get the width which vehicles of this class shall have when being drawn.">getGuiWidth</a>(), length, 1.);
<a name="l00359"></a>00359     glBegin(GL_TRIANGLES);
<a name="l00360"></a>00360     glVertex2d(0., 0.);
<a name="l00361"></a>00361     glVertex2d(-.5, 1.);
<a name="l00362"></a>00362     glVertex2d( .5, 1.);
<a name="l00363"></a>00363     glEnd();
<a name="l00364"></a>00364     glPopMatrix();
<a name="l00365"></a>00365 }
<a name="l00366"></a>00366 
<a name="l00367"></a>00367 
<a name="l00368"></a>00368 <span class="keywordtype">void</span>
<a name="l00369"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">00369</a> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(<span class="keywordtype">double</span>* poses, <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> offset) {
<a name="l00370"></a>00370     glPushMatrix();
<a name="l00371"></a>00371     glTranslated(0, 0, offset * .1);
<a name="l00372"></a>00372     glPolygonOffset(0, offset * -1);
<a name="l00373"></a>00373     glBegin(GL_TRIANGLE_FAN);
<a name="l00374"></a>00374     <span class="keywordtype">int</span> i = 0;
<a name="l00375"></a>00375     <span class="keywordflow">while</span> (poses[i] &gt; -999) {
<a name="l00376"></a>00376         glVertex2d(poses[i], poses[i + 1]);
<a name="l00377"></a>00377         i = i + 2;
<a name="l00378"></a>00378     }
<a name="l00379"></a>00379     glEnd();
<a name="l00380"></a>00380     glPopMatrix();
<a name="l00381"></a>00381 }
<a name="l00382"></a>00382 
<a name="l00383"></a>00383 
<a name="l00384"></a>00384 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00385"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#af638fad6809cf63fc479a16decd25aac">00385</a> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#af638fad6809cf63fc479a16decd25aac">drawAction_drawVehicleAsPoly</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html" title="A MSVehicle extended by some values for usage within the gui.">GUIVehicle</a>&amp; veh) {
<a name="l00386"></a>00386     <a class="code" href="../../da/da9/class_r_g_b_color.html">RGBColor</a> current = <a class="code" href="../../d3/d96/class_g_l_helper.html#a7baf45c84b201e3ce0c25d5d6dd2da2e" title="gets the gl-color">GLHelper::getColor</a>();
<a name="l00387"></a>00387     <a class="code" href="../../da/da9/class_r_g_b_color.html">RGBColor</a> lighter = current.<a class="code" href="../../da/da9/class_r_g_b_color.html#ad2f0f7b7cc8d2de3bf765aec2ecd4481" title="Returns a new color with altered brightness.">changedBrightness</a>(.2);
<a name="l00388"></a>00388     <a class="code" href="../../da/da9/class_r_g_b_color.html">RGBColor</a> darker = current.<a class="code" href="../../da/da9/class_r_g_b_color.html#ad2f0f7b7cc8d2de3bf765aec2ecd4481" title="Returns a new color with altered brightness.">changedBrightness</a>(-.2);
<a name="l00389"></a>00389 
<a name="l00390"></a>00390     <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> length = veh.<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#ab764114b52d49b9d428fbb92940e478b" title="Get vehicle&amp;#39;s length [m].">getLength</a>();
<a name="l00391"></a>00391     glPushMatrix();
<a name="l00392"></a>00392     glRotated(90, 0, 0, 1);
<a name="l00393"></a>00393     glTranslated(veh.<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#a76ee5709b769cdc9cea890d845a9cbdd" title="Get the free space in front of vehicles of this class.">getMinGap</a>(), 0, 0);
<a name="l00394"></a>00394     glScaled(length, veh.<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#a9cdbf598f45533cb21a99ed26a2b21b6" title="Get the width which vehicles of this class shall have when being drawn.">getGuiWidth</a>(), 1.);
<a name="l00395"></a>00395     <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24" title="Definition of vehicle classes to differ between different appearences.">SUMOVehicleShape</a> shape = veh.<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#a7fe29f93abdef83c2f224354b29d4e9c" title="Get this vehicle type&amp;#39;s shape.">getGuiShape</a>();
<a name="l00396"></a>00396 
<a name="l00397"></a>00397     <span class="comment">// draw main body</span>
<a name="l00398"></a>00398     <span class="keywordflow">switch</span> (shape) {
<a name="l00399"></a>00399         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a596973e9a7841c35b068d55de419b05a" title="not defined">SVS_UNKNOWN</a>:
<a name="l00400"></a>00400             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(<a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a188918f71ab519c4ca213f9892a48c66">vehiclePoly_PassengerCarBody</a>, 4);
<a name="l00401"></a>00401             <a class="code" href="../../d3/d96/class_g_l_helper.html#a2d9cfe1332a88705ef56310b4753c302" title="Sets the gl-color to this value.">GLHelper::setColor</a>(lighter);
<a name="l00402"></a>00402             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerCarBodyFront, 4.5);
<a name="l00403"></a>00403             glColor3d(0, 0, 0);
<a name="l00404"></a>00404             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerFrontGlass, 4.5);
<a name="l00405"></a>00405             <span class="keywordflow">break</span>;
<a name="l00406"></a>00406         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24adb92d4d8d0d6e5939144911d5df982d3" title="render as a pedestrian">SVS_PEDESTRIAN</a>:
<a name="l00407"></a>00407             <span class="comment">//glScaled(1./(lenght)), 1, 1.);</span>
<a name="l00408"></a>00408             glTranslated(0, 0, .045);
<a name="l00409"></a>00409             <a class="code" href="../../d3/d96/class_g_l_helper.html#aa0e2854c12a1547af7a728749475e586" title="Draws a filled circle around (0,0).">GLHelper::drawFilledCircle</a>(1);
<a name="l00410"></a>00410             glTranslated(0, 0, -.045);
<a name="l00411"></a>00411             glScaled(.7, 2, 1);
<a name="l00412"></a>00412             glTranslated(0, 0, .04);
<a name="l00413"></a>00413             <a class="code" href="../../d3/d96/class_g_l_helper.html#a2d9cfe1332a88705ef56310b4753c302" title="Sets the gl-color to this value.">GLHelper::setColor</a>(lighter);
<a name="l00414"></a>00414             <a class="code" href="../../d3/d96/class_g_l_helper.html#aa0e2854c12a1547af7a728749475e586" title="Draws a filled circle around (0,0).">GLHelper::drawFilledCircle</a>(1);
<a name="l00415"></a>00415             glTranslated(0, 0, -.04);
<a name="l00416"></a>00416             <span class="keywordflow">break</span>;
<a name="l00417"></a>00417         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a107bfff35c11db286f16d2420dff579f" title="render as a bicycle">SVS_BICYCLE</a>:
<a name="l00418"></a>00418         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a4c6873ff728af070473f85e0bef7cb63" title="render as a motorcycle">SVS_MOTORCYCLE</a>: {
<a name="l00419"></a>00419             glPushMatrix();
<a name="l00420"></a>00420             glTranslated(.5, 0, 0);
<a name="l00421"></a>00421             glScaled(.25 / (length), 1, 1.);
<a name="l00422"></a>00422             glTranslated(0, 0, .045);
<a name="l00423"></a>00423             <a class="code" href="../../d3/d96/class_g_l_helper.html#aa0e2854c12a1547af7a728749475e586" title="Draws a filled circle around (0,0).">GLHelper::drawFilledCircle</a>(1);
<a name="l00424"></a>00424             glScaled(.7, 2, 1);
<a name="l00425"></a>00425             glTranslated(0, 0, -.045);
<a name="l00426"></a>00426             glTranslated(0, 0, .04);
<a name="l00427"></a>00427             <a class="code" href="../../d3/d96/class_g_l_helper.html#a2d9cfe1332a88705ef56310b4753c302" title="Sets the gl-color to this value.">GLHelper::setColor</a>(lighter);
<a name="l00428"></a>00428             <a class="code" href="../../d3/d96/class_g_l_helper.html#aa0e2854c12a1547af7a728749475e586" title="Draws a filled circle around (0,0).">GLHelper::drawFilledCircle</a>(1);
<a name="l00429"></a>00429             glTranslated(0, 0, -.04);
<a name="l00430"></a>00430             glPopMatrix();
<a name="l00431"></a>00431         }
<a name="l00432"></a>00432         <span class="keywordflow">break</span>;
<a name="l00433"></a>00433         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a64b26392930e082848fc24ca07a26481" title="render as a passenger vehicle">SVS_PASSENGER</a>:
<a name="l00434"></a>00434         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a6fcd50e0b34ba23878d90cc0b56dfae0" title="render as a sedan passenger vehicle (&amp;quot;Stufenheck&amp;quot;)">SVS_PASSENGER_SEDAN</a>:
<a name="l00435"></a>00435         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a18b3cd8699c425217955769f2daf1a8a" title="render as a hatchback passenger vehicle (&amp;quot;Fliessheck&amp;quot;)">SVS_PASSENGER_HATCHBACK</a>:
<a name="l00436"></a>00436         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24acd13fb6805b8a386c3605cf34aff3d1a" title="render as a wagon passenger vehicle (&amp;quot;Combi&amp;quot;)">SVS_PASSENGER_WAGON</a>:
<a name="l00437"></a>00437             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(<a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a188918f71ab519c4ca213f9892a48c66">vehiclePoly_PassengerCarBody</a>, 4);
<a name="l00438"></a>00438             <a class="code" href="../../d3/d96/class_g_l_helper.html#a2d9cfe1332a88705ef56310b4753c302" title="Sets the gl-color to this value.">GLHelper::setColor</a>(lighter);
<a name="l00439"></a>00439             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerCarBodyFront, 4.5);
<a name="l00440"></a>00440             glColor3d(0, 0, 0);
<a name="l00441"></a>00441             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerFrontGlass, 4.5);
<a name="l00442"></a>00442             <span class="keywordflow">break</span>;
<a name="l00443"></a>00443         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24ad96614793489eb4be751d921307556a9" title="render as a van">SVS_PASSENGER_VAN</a>:
<a name="l00444"></a>00444             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerVanBody, 4);
<a name="l00445"></a>00445             <a class="code" href="../../d3/d96/class_g_l_helper.html#a2d9cfe1332a88705ef56310b4753c302" title="Sets the gl-color to this value.">GLHelper::setColor</a>(lighter);
<a name="l00446"></a>00446             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerVanBodyFront, 4.5);
<a name="l00447"></a>00447             glColor3d(0, 0, 0);
<a name="l00448"></a>00448             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerVanFrontGlass, 4.5);
<a name="l00449"></a>00449             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerVanRightGlass, 4.5);
<a name="l00450"></a>00450             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerVanLeftGlass, 4.5);
<a name="l00451"></a>00451             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerVanBackGlass, 4.5);
<a name="l00452"></a>00452             <span class="keywordflow">break</span>;
<a name="l00453"></a>00453         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a459bdd943f44c4a78c7568f23510292b" title="render as a delivery vehicle">SVS_DELIVERY</a>:
<a name="l00454"></a>00454             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerVanBody, 4);
<a name="l00455"></a>00455             <a class="code" href="../../d3/d96/class_g_l_helper.html#a2d9cfe1332a88705ef56310b4753c302" title="Sets the gl-color to this value.">GLHelper::setColor</a>(lighter);
<a name="l00456"></a>00456             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerVanBodyFront, 4.5);
<a name="l00457"></a>00457             glColor3d(0, 0, 0);
<a name="l00458"></a>00458             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerVanFrontGlass, 4.5);
<a name="l00459"></a>00459             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_DeliveryMediumRightGlass, 4.5);
<a name="l00460"></a>00460             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_DeliveryMediumLeftGlass, 4.5);
<a name="l00461"></a>00461             <span class="keywordflow">break</span>;
<a name="l00462"></a>00462         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a81ceacc205618e24a15dfa82acc28eba" title="render as a transport vehicle">SVS_TRANSPORT</a>:
<a name="l00463"></a>00463         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a3c7e2dfd6c68177ff7b758e2b6afb961" title="render as a semi-trailer transport vehicle (&amp;quot;Sattelschlepper&amp;quot;)">SVS_TRANSPORT_SEMITRAILER</a>:
<a name="l00464"></a>00464         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a9ba1d16bd4d1262e56dce65597f20620" title="render as a transport vehicle with one trailer">SVS_TRANSPORT_1TRAILER</a>:
<a name="l00465"></a>00465             glScaled(1. / (length), 1, 1.);
<a name="l00466"></a>00466             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_TransportBody, 4);
<a name="l00467"></a>00467             glColor3d(0, 0, 0);
<a name="l00468"></a>00468             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_TransportFrontGlass, 4.5);
<a name="l00469"></a>00469             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_TransportRightGlass, 4.5);
<a name="l00470"></a>00470             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_TransportLeftGlass, 4.5);
<a name="l00471"></a>00471             <span class="keywordflow">break</span>;
<a name="l00472"></a>00472         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a7ae0e5dcc31ad689057d510fc40181f5" title="render as a bus">SVS_BUS</a>:
<a name="l00473"></a>00473         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a86f0aa343fb74d2a55837b9c3b454ee2" title="render as a trolley bus">SVS_BUS_TROLLEY</a>:
<a name="l00474"></a>00474         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a8ca0f501f98091d0e4cf8341f74de6c9" title="render as a flexible city bus">SVS_BUS_CITY_FLEXIBLE</a>:
<a name="l00475"></a>00475         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a3116d1195e2497013c74493b88e8c1b7" title="render as a city bus">SVS_BUS_CITY</a>: {
<a name="l00476"></a>00476             <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> ml = length;
<a name="l00477"></a>00477             glScaled(1. / (length), 1, 1.);
<a name="l00478"></a>00478             glTranslated(0, 0, .04);
<a name="l00479"></a>00479             glBegin(GL_TRIANGLE_FAN);
<a name="l00480"></a>00480             glVertex2d(ml / 2., 0);
<a name="l00481"></a>00481             glVertex2d(0, 0);
<a name="l00482"></a>00482             glVertex2d(0, -.45);
<a name="l00483"></a>00483             glVertex2d(0 + .05, -.5);
<a name="l00484"></a>00484             glVertex2d(ml - .05, -.5);
<a name="l00485"></a>00485             glVertex2d(ml, -.45);
<a name="l00486"></a>00486             glVertex2d(ml, .45);
<a name="l00487"></a>00487             glVertex2d(ml - .05, .5);
<a name="l00488"></a>00488             glVertex2d(0 + .05, .5);
<a name="l00489"></a>00489             glVertex2d(0, .45);
<a name="l00490"></a>00490             glVertex2d(0, 0);
<a name="l00491"></a>00491             glEnd();
<a name="l00492"></a>00492             glTranslated(0, 0, -.04);
<a name="l00493"></a>00493 
<a name="l00494"></a>00494             glTranslated(0, 0, .045);
<a name="l00495"></a>00495             glColor3d(0, 0, 0);
<a name="l00496"></a>00496             glBegin(GL_QUADS);
<a name="l00497"></a>00497             glVertex2d(0 + .05, .48);
<a name="l00498"></a>00498             glVertex2d(0 + .05, -.48);
<a name="l00499"></a>00499             glVertex2d(0 + .15, -.48);
<a name="l00500"></a>00500             glVertex2d(0 + .15, .48);
<a name="l00501"></a>00501 
<a name="l00502"></a>00502             glVertex2d(ml - .1, .45);
<a name="l00503"></a>00503             glVertex2d(ml - .1, -.45);
<a name="l00504"></a>00504             glVertex2d(ml - .05, -.45);
<a name="l00505"></a>00505             glVertex2d(ml - .05, .45);
<a name="l00506"></a>00506 
<a name="l00507"></a>00507             glVertex2d(0 + .20, .49);
<a name="l00508"></a>00508             glVertex2d(0 + .20, .45);
<a name="l00509"></a>00509             glVertex2d(ml - .20, .45);
<a name="l00510"></a>00510             glVertex2d(ml - .20, .49);
<a name="l00511"></a>00511 
<a name="l00512"></a>00512             glVertex2d(0 + .20, -.49);
<a name="l00513"></a>00513             glVertex2d(0 + .20, -.45);
<a name="l00514"></a>00514             glVertex2d(ml - .20, -.45);
<a name="l00515"></a>00515             glVertex2d(ml - .20, -.49);
<a name="l00516"></a>00516 
<a name="l00517"></a>00517             glEnd();
<a name="l00518"></a>00518             glTranslated(0, 0, -.045);
<a name="l00519"></a>00519         }
<a name="l00520"></a>00520         <span class="keywordflow">break</span>;
<a name="l00521"></a>00521         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24aaa5abed0b9113410a8767bfb743d401f" title="render as a overland bus">SVS_BUS_OVERLAND</a>:
<a name="l00522"></a>00522         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a376a811269977c8e6e3632fc9b5089f9" title="render as a rail">SVS_RAIL</a>:
<a name="l00523"></a>00523         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a1b6f6a5c176df21b8459bd5f6dcda1f1" title="render as a light rail">SVS_RAIL_LIGHT</a>:
<a name="l00524"></a>00524         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a09c5f7702ecef08c8a0d1be819b1a2aa" title="render as a city rail">SVS_RAIL_CITY</a>:
<a name="l00525"></a>00525         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a8c5f1f4177209e44bf4a8c5a1254d716" title="render as a slow (passenger) train">SVS_RAIL_SLOW</a>:
<a name="l00526"></a>00526         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a4db9d989c1f78481c654ff3d74448b8e" title="render as a fast (passenger) train">SVS_RAIL_FAST</a>:
<a name="l00527"></a>00527         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a88373dfd9073161a4357b41e9f71d481" title="render as a cargo train">SVS_RAIL_CARGO</a>:
<a name="l00528"></a>00528             glScaled(1. / (length), 1, 1.);
<a name="l00529"></a>00529             glTranslated(0, 0, .04);
<a name="l00530"></a>00530             glBegin(GL_TRIANGLE_FAN);
<a name="l00531"></a>00531             glVertex2d(length/ 2., 0);
<a name="l00532"></a>00532             glVertex2d(0, 0);
<a name="l00533"></a>00533             glVertex2d(0, -.45);
<a name="l00534"></a>00534             glVertex2d(.05, -.5);
<a name="l00535"></a>00535             glVertex2d(length - .05, -.5);
<a name="l00536"></a>00536             glVertex2d(length, -.45);
<a name="l00537"></a>00537             glVertex2d(length, .45);
<a name="l00538"></a>00538             glVertex2d(length - .05, .5);
<a name="l00539"></a>00539             glVertex2d(.05, .5);
<a name="l00540"></a>00540             glVertex2d(0, .45);
<a name="l00541"></a>00541             glVertex2d(0, 0);
<a name="l00542"></a>00542             glEnd();
<a name="l00543"></a>00543             glTranslated(0, 0, -.04);
<a name="l00544"></a>00544             <span class="keywordflow">break</span>;
<a name="l00545"></a>00545         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a8325be973abbacfa58f5d61cb2400be7" title="render as a (futuristic) e-vehicle">SVS_E_VEHICLE</a>:
<a name="l00546"></a>00546             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_EVehicleBody, 4);
<a name="l00547"></a>00547             glColor3d(0, 0, 0);
<a name="l00548"></a>00548             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_EVehicleFrontGlass, 4.5);
<a name="l00549"></a>00549             glTranslated(0, 0, .048);
<a name="l00550"></a>00550             <a class="code" href="../../d3/d96/class_g_l_helper.html#a2d9cfe1332a88705ef56310b4753c302" title="Sets the gl-color to this value.">GLHelper::setColor</a>(current);
<a name="l00551"></a>00551             glBegin(GL_QUADS);
<a name="l00552"></a>00552             glVertex2d(.3, .5);
<a name="l00553"></a>00553             glVertex2d(.35, .5);
<a name="l00554"></a>00554             glVertex2d(.35, -.5);
<a name="l00555"></a>00555             glVertex2d(.3, -.5);
<a name="l00556"></a>00556 
<a name="l00557"></a>00557             glVertex2d(.3, -.05);
<a name="l00558"></a>00558             glVertex2d(.7, -.05);
<a name="l00559"></a>00559             glVertex2d(.7, .05);
<a name="l00560"></a>00560             glVertex2d(.3, .05);
<a name="l00561"></a>00561 
<a name="l00562"></a>00562             glVertex2d(.7, .5);
<a name="l00563"></a>00563             glVertex2d(.65, .5);
<a name="l00564"></a>00564             glVertex2d(.65, -.5);
<a name="l00565"></a>00565             glVertex2d(.7, -.5);
<a name="l00566"></a>00566             glEnd();
<a name="l00567"></a>00567             glTranslated(0, 0, -.048);
<a name="l00568"></a>00568             <span class="comment">//drawPoly(vehiclePoly_EVehicleBackGlass, 4.5);</span>
<a name="l00569"></a>00569             <span class="keywordflow">break</span>;
<a name="l00570"></a>00570         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a18846a8631b3b17aaf131b4c1ab04bee" title="render as a giant ant">SVS_ANT</a>:
<a name="l00571"></a>00571             glPushMatrix();
<a name="l00572"></a>00572             <span class="comment">// ant is stretched via vehicle length</span>
<a name="l00573"></a>00573             <a class="code" href="../../d3/d96/class_g_l_helper.html#a2d9cfe1332a88705ef56310b4753c302" title="Sets the gl-color to this value.">GLHelper::setColor</a>(darker);
<a name="l00574"></a>00574             <span class="comment">// draw left side</span>
<a name="l00575"></a>00575             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(-0.2, -.10), 350, 0.5, .02);
<a name="l00576"></a>00576             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(-0.3, -.50), 240, 0.4, .03);
<a name="l00577"></a>00577             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(0.3, -.10), 340, 0.8, .03);
<a name="l00578"></a>00578             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(0.05, -.80), 290, 0.6, .04);
<a name="l00579"></a>00579             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(0.4, -.10),  20, 0.8, .03);
<a name="l00580"></a>00580             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(0.65, -.80),  75, 0.6, .04);
<a name="l00581"></a>00581             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(0.5, -.10),  55, 0.8, .04);
<a name="l00582"></a>00582             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(1.1, -.55),  90, 0.6, .04);
<a name="l00583"></a>00583             <span class="comment">// draw right side</span>
<a name="l00584"></a>00584             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(-0.2,  .10), 190, 0.5, .02);
<a name="l00585"></a>00585             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(-0.3,  .50), 300, 0.4, .03);
<a name="l00586"></a>00586             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(0.3,  .10), 200, 0.8, .03);
<a name="l00587"></a>00587             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(0.05, .80), 250, 0.6, .04);
<a name="l00588"></a>00588             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(0.4,  .10), 160, 0.8, .03);
<a name="l00589"></a>00589             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(0.65, .80), 105, 0.6, .04);
<a name="l00590"></a>00590             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(0.5,  .10), 125, 0.8, .04);
<a name="l00591"></a>00591             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(1.1,  .55),  90, 0.6, .04);
<a name="l00592"></a>00592             <span class="comment">// draw body</span>
<a name="l00593"></a>00593             <a class="code" href="../../d3/d96/class_g_l_helper.html#a2d9cfe1332a88705ef56310b4753c302" title="Sets the gl-color to this value.">GLHelper::setColor</a>(current);
<a name="l00594"></a>00594             glTranslated(0, 0, 0.1);
<a name="l00595"></a>00595             <a class="code" href="../../d3/d96/class_g_l_helper.html#aa0e2854c12a1547af7a728749475e586" title="Draws a filled circle around (0,0).">GLHelper::drawFilledCircle</a>(.25, 16);
<a name="l00596"></a>00596             glTranslated(.4, 0, 0);
<a name="l00597"></a>00597             <a class="code" href="../../d3/d96/class_g_l_helper.html#aa0e2854c12a1547af7a728749475e586" title="Draws a filled circle around (0,0).">GLHelper::drawFilledCircle</a>(.2, 16);
<a name="l00598"></a>00598             glTranslated(.4, 0, 0);
<a name="l00599"></a>00599             <a class="code" href="../../d3/d96/class_g_l_helper.html#aa0e2854c12a1547af7a728749475e586" title="Draws a filled circle around (0,0).">GLHelper::drawFilledCircle</a>(.3, 16);
<a name="l00600"></a>00600             glPopMatrix();
<a name="l00601"></a>00601             <span class="keywordflow">break</span>;
<a name="l00602"></a>00602         <span class="keywordflow">default</span>: <span class="comment">// same as passenger</span>
<a name="l00603"></a>00603             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(<a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a188918f71ab519c4ca213f9892a48c66">vehiclePoly_PassengerCarBody</a>, 4);
<a name="l00604"></a>00604             glColor3d(1, 1, 1);
<a name="l00605"></a>00605             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerCarBodyFront, 4.5);
<a name="l00606"></a>00606             glColor3d(0, 0, 0);
<a name="l00607"></a>00607             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerFrontGlass, 4.5);
<a name="l00608"></a>00608             <span class="keywordflow">break</span>;
<a name="l00609"></a>00609     }
<a name="l00610"></a>00610 
<a name="l00611"></a>00611     <span class="comment">// draw decorations</span>
<a name="l00612"></a>00612     <span class="keywordflow">switch</span> (shape) {
<a name="l00613"></a>00613         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24adb92d4d8d0d6e5939144911d5df982d3" title="render as a pedestrian">SVS_PEDESTRIAN</a>:
<a name="l00614"></a>00614             <span class="keywordflow">break</span>;
<a name="l00615"></a>00615         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a107bfff35c11db286f16d2420dff579f" title="render as a bicycle">SVS_BICYCLE</a>:
<a name="l00616"></a>00616             <span class="comment">//glScaled(length, 1, 1.);</span>
<a name="l00617"></a>00617             glBegin(GL_TRIANGLE_FAN);
<a name="l00618"></a>00618             glVertex2d(1 / 2., 0);
<a name="l00619"></a>00619             glVertex2d(0, 0);
<a name="l00620"></a>00620             glVertex2d(0, -.03);
<a name="l00621"></a>00621             glVertex2d(0 + .05, -.05);
<a name="l00622"></a>00622             glVertex2d(1 - .05, -.05);
<a name="l00623"></a>00623             glVertex2d(1, -.03);
<a name="l00624"></a>00624             glVertex2d(1, .03);
<a name="l00625"></a>00625             glVertex2d(1 - .05, .05);
<a name="l00626"></a>00626             glVertex2d(0 + .05, .05);
<a name="l00627"></a>00627             glVertex2d(0, .03);
<a name="l00628"></a>00628             glVertex2d(0, 0);
<a name="l00629"></a>00629             glEnd();
<a name="l00630"></a>00630             <span class="keywordflow">break</span>;
<a name="l00631"></a>00631         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a4c6873ff728af070473f85e0bef7cb63" title="render as a motorcycle">SVS_MOTORCYCLE</a>:
<a name="l00632"></a>00632             <span class="comment">//glScaled(length, 1, 1.);</span>
<a name="l00633"></a>00633             glBegin(GL_TRIANGLE_FAN);
<a name="l00634"></a>00634             glVertex2d(1 / 2., 0);
<a name="l00635"></a>00635             glVertex2d(0, 0);
<a name="l00636"></a>00636             glVertex2d(0, -.03);
<a name="l00637"></a>00637             glVertex2d(0 + .05, -.2);
<a name="l00638"></a>00638             glVertex2d(1 - .05, -.2);
<a name="l00639"></a>00639             glVertex2d(1, -.03);
<a name="l00640"></a>00640             glVertex2d(1, .03);
<a name="l00641"></a>00641             glVertex2d(1 - .05, .2);
<a name="l00642"></a>00642             glVertex2d(0 + .05, .2);
<a name="l00643"></a>00643             glVertex2d(0, .03);
<a name="l00644"></a>00644             glVertex2d(0, 0);
<a name="l00645"></a>00645             glEnd();
<a name="l00646"></a>00646             <span class="keywordflow">break</span>;
<a name="l00647"></a>00647         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a64b26392930e082848fc24ca07a26481" title="render as a passenger vehicle">SVS_PASSENGER</a>:
<a name="l00648"></a>00648         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a6fcd50e0b34ba23878d90cc0b56dfae0" title="render as a sedan passenger vehicle (&amp;quot;Stufenheck&amp;quot;)">SVS_PASSENGER_SEDAN</a>:
<a name="l00649"></a>00649             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerSedanRightGlass, 4.5);
<a name="l00650"></a>00650             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerSedanLeftGlass, 4.5);
<a name="l00651"></a>00651             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerSedanBackGlass, 4.5);
<a name="l00652"></a>00652             <span class="keywordflow">break</span>;
<a name="l00653"></a>00653         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a18b3cd8699c425217955769f2daf1a8a" title="render as a hatchback passenger vehicle (&amp;quot;Fliessheck&amp;quot;)">SVS_PASSENGER_HATCHBACK</a>:
<a name="l00654"></a>00654             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerHatchbackRightGlass, 4.5);
<a name="l00655"></a>00655             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerHatchbackLeftGlass, 4.5);
<a name="l00656"></a>00656             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerHatchbackBackGlass, 4.5);
<a name="l00657"></a>00657             <span class="keywordflow">break</span>;
<a name="l00658"></a>00658         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24acd13fb6805b8a386c3605cf34aff3d1a" title="render as a wagon passenger vehicle (&amp;quot;Combi&amp;quot;)">SVS_PASSENGER_WAGON</a>:
<a name="l00659"></a>00659             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerWagonRightGlass, 4.5);
<a name="l00660"></a>00660             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerWagonLeftGlass, 4.5);
<a name="l00661"></a>00661             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerWagonBackGlass, 4.5);
<a name="l00662"></a>00662             <span class="keywordflow">break</span>;
<a name="l00663"></a>00663         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24ad96614793489eb4be751d921307556a9" title="render as a van">SVS_PASSENGER_VAN</a>:
<a name="l00664"></a>00664         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a459bdd943f44c4a78c7568f23510292b" title="render as a delivery vehicle">SVS_DELIVERY</a>:
<a name="l00665"></a>00665             <span class="keywordflow">break</span>;
<a name="l00666"></a>00666         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a81ceacc205618e24a15dfa82acc28eba" title="render as a transport vehicle">SVS_TRANSPORT</a>:
<a name="l00667"></a>00667             <a class="code" href="../../d3/d96/class_g_l_helper.html#a2d9cfe1332a88705ef56310b4753c302" title="Sets the gl-color to this value.">GLHelper::setColor</a>(current);
<a name="l00668"></a>00668             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(2.3, 0), 90., length - 2.3, .5);
<a name="l00669"></a>00669             <span class="keywordflow">break</span>;
<a name="l00670"></a>00670         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a3c7e2dfd6c68177ff7b758e2b6afb961" title="render as a semi-trailer transport vehicle (&amp;quot;Sattelschlepper&amp;quot;)">SVS_TRANSPORT_SEMITRAILER</a>:
<a name="l00671"></a>00671             <a class="code" href="../../d3/d96/class_g_l_helper.html#a2d9cfe1332a88705ef56310b4753c302" title="Sets the gl-color to this value.">GLHelper::setColor</a>(current);
<a name="l00672"></a>00672             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(2.8, 0), 90., length - 2.8, .5);
<a name="l00673"></a>00673             <span class="keywordflow">break</span>;
<a name="l00674"></a>00674         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a9ba1d16bd4d1262e56dce65597f20620" title="render as a transport vehicle with one trailer">SVS_TRANSPORT_1TRAILER</a>: {
<a name="l00675"></a>00675             <a class="code" href="../../d3/d96/class_g_l_helper.html#a2d9cfe1332a88705ef56310b4753c302" title="Sets the gl-color to this value.">GLHelper::setColor</a>(current);
<a name="l00676"></a>00676             <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> l = length - 2.3;
<a name="l00677"></a>00677             l = l / 2.;
<a name="l00678"></a>00678             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(2.3, 0), 90., l, .5);
<a name="l00679"></a>00679             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(2.3 + l + .5, 0), 90., l - .5, .5);
<a name="l00680"></a>00680             <span class="keywordflow">break</span>;
<a name="l00681"></a>00681         }
<a name="l00682"></a>00682         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a86f0aa343fb74d2a55837b9c3b454ee2" title="render as a trolley bus">SVS_BUS_TROLLEY</a>:
<a name="l00683"></a>00683             glPushMatrix();
<a name="l00684"></a>00684             glTranslated(0, 0, .1);
<a name="l00685"></a>00685             <a class="code" href="../../d3/d96/class_g_l_helper.html#a2d9cfe1332a88705ef56310b4753c302" title="Sets the gl-color to this value.">GLHelper::setColor</a>(darker);
<a name="l00686"></a>00686             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(3.8, 0), 90., 1, .3);
<a name="l00687"></a>00687             glTranslated(0, 0, .1);
<a name="l00688"></a>00688             glColor3d(0, 0, 0);
<a name="l00689"></a>00689             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(4.3, .2), 90., 1, .06);
<a name="l00690"></a>00690             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(4.3, -.2), 90., 1, .06);
<a name="l00691"></a>00691             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(5.3, .2), 90., 3, .03);
<a name="l00692"></a>00692             <a class="code" href="../../d3/d96/class_g_l_helper.html#a96c3ee9b16d0243113f25ac826f19ab2" title="Draws a thick line.">GLHelper::drawBoxLine</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(5.3, -.2), 90., 3, .03);
<a name="l00693"></a>00693             glPopMatrix();
<a name="l00694"></a>00694             <span class="keywordflow">break</span>;
<a name="l00695"></a>00695         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a7ae0e5dcc31ad689057d510fc40181f5" title="render as a bus">SVS_BUS</a>:
<a name="l00696"></a>00696         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a3116d1195e2497013c74493b88e8c1b7" title="render as a city bus">SVS_BUS_CITY</a>:
<a name="l00697"></a>00697         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a8ca0f501f98091d0e4cf8341f74de6c9" title="render as a flexible city bus">SVS_BUS_CITY_FLEXIBLE</a>:
<a name="l00698"></a>00698         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24aaa5abed0b9113410a8767bfb743d401f" title="render as a overland bus">SVS_BUS_OVERLAND</a>:
<a name="l00699"></a>00699         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a376a811269977c8e6e3632fc9b5089f9" title="render as a rail">SVS_RAIL</a>:
<a name="l00700"></a>00700         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a1b6f6a5c176df21b8459bd5f6dcda1f1" title="render as a light rail">SVS_RAIL_LIGHT</a>:
<a name="l00701"></a>00701         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a09c5f7702ecef08c8a0d1be819b1a2aa" title="render as a city rail">SVS_RAIL_CITY</a>:
<a name="l00702"></a>00702         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a8c5f1f4177209e44bf4a8c5a1254d716" title="render as a slow (passenger) train">SVS_RAIL_SLOW</a>:
<a name="l00703"></a>00703         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a4db9d989c1f78481c654ff3d74448b8e" title="render as a fast (passenger) train">SVS_RAIL_FAST</a>:
<a name="l00704"></a>00704         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a88373dfd9073161a4357b41e9f71d481" title="render as a cargo train">SVS_RAIL_CARGO</a>:
<a name="l00705"></a>00705         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a8325be973abbacfa58f5d61cb2400be7" title="render as a (futuristic) e-vehicle">SVS_E_VEHICLE</a>:
<a name="l00706"></a>00706         <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a18846a8631b3b17aaf131b4c1ab04bee" title="render as a giant ant">SVS_ANT</a>:
<a name="l00707"></a>00707             <span class="keywordflow">break</span>;
<a name="l00708"></a>00708         <span class="keywordflow">default</span>: <span class="comment">// same as passenger/sedan</span>
<a name="l00709"></a>00709             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerSedanRightGlass, 4.5);
<a name="l00710"></a>00710             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerSedanLeftGlass, 4.5);
<a name="l00711"></a>00711             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a3d931b1d3557eceb70bb6780c271a4f6">drawPoly</a>(vehiclePoly_PassengerSedanBackGlass, 4.5);
<a name="l00712"></a>00712             <span class="keywordflow">break</span>;
<a name="l00713"></a>00713     }
<a name="l00714"></a>00714     <span class="comment">/*</span>
<a name="l00715"></a>00715 <span class="comment">    glBegin(GL_TRIANGLE_FAN);</span>
<a name="l00716"></a>00716 <span class="comment">    glVertex2d(.5,.5); // center - strip begin</span>
<a name="l00717"></a>00717 <span class="comment">    glVertex2d(0,    .5); // center, front</span>
<a name="l00718"></a>00718 <span class="comment">    glVertex2d(0,    .8); // ... clockwise ... (vehicle right side)</span>
<a name="l00719"></a>00719 <span class="comment">    glVertex2d(0.08, .94);</span>
<a name="l00720"></a>00720 <span class="comment">    glVertex2d(0.25, 1.);</span>
<a name="l00721"></a>00721 <span class="comment">    glVertex2d(0.95, 1.);</span>
<a name="l00722"></a>00722 <span class="comment">    glVertex2d(1.,   .9);</span>
<a name="l00723"></a>00723 <span class="comment">    glVertex2d(1.,   .1); // (vehicle left side)</span>
<a name="l00724"></a>00724 <span class="comment">    glVertex2d(0.95, 0.);</span>
<a name="l00725"></a>00725 <span class="comment">    glVertex2d(0.25, 0.);</span>
<a name="l00726"></a>00726 <span class="comment">    glVertex2d(0.08, .06);</span>
<a name="l00727"></a>00727 <span class="comment">    glVertex2d(0,    .2); //</span>
<a name="l00728"></a>00728 <span class="comment">    glVertex2d(0,    .5); // center, front (close)</span>
<a name="l00729"></a>00729 <span class="comment">    glEnd();</span>
<a name="l00730"></a>00730 <span class="comment"></span>
<a name="l00731"></a>00731 <span class="comment">    glPolygonOffset(0, -4.5);</span>
<a name="l00732"></a>00732 <span class="comment">    glColor3d(1, 1, 1); // front</span>
<a name="l00733"></a>00733 <span class="comment">    glBegin(GL_TRIANGLE_FAN);</span>
<a name="l00734"></a>00734 <span class="comment">    glVertex2d(0.1,0.5);</span>
<a name="l00735"></a>00735 <span class="comment">    glVertex2d(0.025,0.5);</span>
<a name="l00736"></a>00736 <span class="comment">    glVertex2d(0.025,0.75);</span>
<a name="l00737"></a>00737 <span class="comment">    glVertex2d(0.27,0.9);</span>
<a name="l00738"></a>00738 <span class="comment">    glVertex2d(0.27,0.1);</span>
<a name="l00739"></a>00739 <span class="comment">    glVertex2d(0.025,0.25);</span>
<a name="l00740"></a>00740 <span class="comment">    glVertex2d(0.025,0.5);</span>
<a name="l00741"></a>00741 <span class="comment">    glEnd();</span>
<a name="l00742"></a>00742 <span class="comment"></span>
<a name="l00743"></a>00743 <span class="comment">    glColor3d(0, 0, 0); // front glass</span>
<a name="l00744"></a>00744 <span class="comment">    glBegin(GL_TRIANGLE_FAN);</span>
<a name="l00745"></a>00745 <span class="comment">    glVertex2d(0.35,0.5);</span>
<a name="l00746"></a>00746 <span class="comment">    glVertex2d(0.3,0.5);</span>
<a name="l00747"></a>00747 <span class="comment">    glVertex2d(0.3,0.9);</span>
<a name="l00748"></a>00748 <span class="comment">    glVertex2d(0.43,0.8);</span>
<a name="l00749"></a>00749 <span class="comment">    glVertex2d(0.43,0.2);</span>
<a name="l00750"></a>00750 <span class="comment">    glVertex2d(0.3,0.1);</span>
<a name="l00751"></a>00751 <span class="comment">    glVertex2d(0.3,0.5);</span>
<a name="l00752"></a>00752 <span class="comment">    glEnd();</span>
<a name="l00753"></a>00753 <span class="comment"></span>
<a name="l00754"></a>00754 <span class="comment">    glBegin(GL_TRIANGLE_FAN); // back glass</span>
<a name="l00755"></a>00755 <span class="comment">    glVertex2d(0.92,0.5);</span>
<a name="l00756"></a>00756 <span class="comment">    glVertex2d(0.90,0.5);</span>
<a name="l00757"></a>00757 <span class="comment">    glVertex2d(0.90,0.8);</span>
<a name="l00758"></a>00758 <span class="comment">    glVertex2d(0.95,0.9);</span>
<a name="l00759"></a>00759 <span class="comment">    glVertex2d(0.95,0.1);</span>
<a name="l00760"></a>00760 <span class="comment">    glVertex2d(0.90,0.2);</span>
<a name="l00761"></a>00761 <span class="comment">    glVertex2d(0.90,0.5);</span>
<a name="l00762"></a>00762 <span class="comment">    glEnd();</span>
<a name="l00763"></a>00763 <span class="comment"></span>
<a name="l00764"></a>00764 <span class="comment">    glBegin(GL_TRIANGLE_FAN); // right glass</span>
<a name="l00765"></a>00765 <span class="comment">    glVertex2d(0.36,0.07);</span>
<a name="l00766"></a>00766 <span class="comment">    glVertex2d(0.34,0.03);</span>
<a name="l00767"></a>00767 <span class="comment">    glVertex2d(0.94,0.03);</span>
<a name="l00768"></a>00768 <span class="comment">    glVertex2d(0.87,0.13);</span>
<a name="l00769"></a>00769 <span class="comment">    glVertex2d(0.45,0.13);</span>
<a name="l00770"></a>00770 <span class="comment">    glVertex2d(0.34,0.03);</span>
<a name="l00771"></a>00771 <span class="comment">    glEnd();</span>
<a name="l00772"></a>00772 <span class="comment"></span>
<a name="l00773"></a>00773 <span class="comment">    glBegin(GL_TRIANGLE_FAN); // left glass</span>
<a name="l00774"></a>00774 <span class="comment">    glVertex2d(0.36,1.-0.07);</span>
<a name="l00775"></a>00775 <span class="comment">    glVertex2d(0.34,1.-0.03);</span>
<a name="l00776"></a>00776 <span class="comment">    glVertex2d(0.94,1.-0.03);</span>
<a name="l00777"></a>00777 <span class="comment">    glVertex2d(0.87,1.-0.13);</span>
<a name="l00778"></a>00778 <span class="comment">    glVertex2d(0.45,1.-0.13);</span>
<a name="l00779"></a>00779 <span class="comment">    glVertex2d(0.34,1.-0.03);</span>
<a name="l00780"></a>00780 <span class="comment">    glEnd();</span>
<a name="l00781"></a>00781 <span class="comment">    */</span>
<a name="l00782"></a>00782 
<a name="l00783"></a>00783     glPopMatrix();
<a name="l00784"></a>00784 }
<a name="l00785"></a>00785 
<a name="l00786"></a>00786 
<a name="l00787"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a04d171278b368645da781a749caa253f">00787</a> <span class="preprocessor">#define BLINKER_POS_FRONT .5</span>
<a name="l00788"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#ab6dd2e86c63a0816a49b1d95fd32e32c">00788</a> <span class="preprocessor"></span><span class="preprocessor">#define BLINKER_POS_BACK .5</span>
<a name="l00789"></a>00789 <span class="preprocessor"></span>
<a name="l00790"></a>00790 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00791"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a85136b3a9052e80a9365b8aa8de5315a">00791</a> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a85136b3a9052e80a9365b8aa8de5315a">drawAction_drawBlinker</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html" title="A MSVehicle extended by some values for usage within the gui.">GUIVehicle</a>&amp; veh, <span class="keywordtype">double</span> dir) {
<a name="l00792"></a>00792     glColor3d(1.f, .8f, 0);
<a name="l00793"></a>00793     glPushMatrix();
<a name="l00794"></a>00794     glTranslated(dir, <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a04d171278b368645da781a749caa253f">BLINKER_POS_FRONT</a> + veh.<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#a76ee5709b769cdc9cea890d845a9cbdd" title="Get the free space in front of vehicles of this class.">getMinGap</a>(), -0.1);
<a name="l00795"></a>00795     <a class="code" href="../../d3/d96/class_g_l_helper.html#aa0e2854c12a1547af7a728749475e586" title="Draws a filled circle around (0,0).">GLHelper::drawFilledCircle</a>(.5, 6);
<a name="l00796"></a>00796     glPopMatrix();
<a name="l00797"></a>00797     glPushMatrix();
<a name="l00798"></a>00798     glTranslated(dir, veh.<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#affc5e63e8f8ff67003b8e3109f05ce5c" title="Get vehicle&amp;#39;s length including the minimum gap [m].">getLengthWithGap</a>() - <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#ab6dd2e86c63a0816a49b1d95fd32e32c">BLINKER_POS_BACK</a>, -0.1);
<a name="l00799"></a>00799     <a class="code" href="../../d3/d96/class_g_l_helper.html#aa0e2854c12a1547af7a728749475e586" title="Draws a filled circle around (0,0).">GLHelper::drawFilledCircle</a>(.5, 6);
<a name="l00800"></a>00800     glPopMatrix();
<a name="l00801"></a>00801 }
<a name="l00802"></a>00802 
<a name="l00803"></a>00803 
<a name="l00804"></a>00804 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00805"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#aaf98af0e97f61b11dfd9a1a4b20fd035">00805</a> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#aaf98af0e97f61b11dfd9a1a4b20fd035">drawAction_drawVehicleBlinker</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html" title="A MSVehicle extended by some values for usage within the gui.">GUIVehicle</a>&amp; veh) {
<a name="l00806"></a>00806     <span class="keywordflow">if</span> (!veh.<a class="code" href="../../d7/d90/class_m_s_vehicle.html#ab8e1b144e71eac38850a0fe5af802363" title="Returns whether the given signal is on.">signalSet</a>(<a class="code" href="../../d7/d90/class_m_s_vehicle.html#a9a8782410216db415677bf89f9d93ba0a66887f4a5df3afacf1015d05fffbf605" title="Right blinker lights are switched on.">MSVehicle::VEH_SIGNAL_BLINKER_RIGHT</a> | <a class="code" href="../../d7/d90/class_m_s_vehicle.html#a9a8782410216db415677bf89f9d93ba0a7694a85f4bebe20a3706d7245bbc7716" title="Left blinker lights are switched on.">MSVehicle::VEH_SIGNAL_BLINKER_LEFT</a> | <a class="code" href="../../d7/d90/class_m_s_vehicle.html#a9a8782410216db415677bf89f9d93ba0aa940dbdb6b39190097baacc56dd401e2" title="Blinker lights on both sides are switched on.">MSVehicle::VEH_SIGNAL_BLINKER_EMERGENCY</a>)) {
<a name="l00807"></a>00807         <span class="keywordflow">return</span>;
<a name="l00808"></a>00808     }
<a name="l00809"></a>00809     <span class="keyword">const</span> <span class="keywordtype">double</span> offset = <a class="code" href="../../da/dbd/_std_defs_8h.html#a3c4556662cf5cb93067cdc7365aecbcd">MAX2</a>(.5 * veh.<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#a9cdbf598f45533cb21a99ed26a2b21b6" title="Get the width which vehicles of this class shall have when being drawn.">getGuiWidth</a>(), .4);
<a name="l00810"></a>00810     <span class="keywordflow">if</span> (veh.<a class="code" href="../../d7/d90/class_m_s_vehicle.html#ab8e1b144e71eac38850a0fe5af802363" title="Returns whether the given signal is on.">signalSet</a>(<a class="code" href="../../d7/d90/class_m_s_vehicle.html#a9a8782410216db415677bf89f9d93ba0a66887f4a5df3afacf1015d05fffbf605" title="Right blinker lights are switched on.">MSVehicle::VEH_SIGNAL_BLINKER_RIGHT</a>)) {
<a name="l00811"></a>00811         <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a85136b3a9052e80a9365b8aa8de5315a">drawAction_drawBlinker</a>(veh, -offset);
<a name="l00812"></a>00812     }
<a name="l00813"></a>00813     <span class="keywordflow">if</span> (veh.<a class="code" href="../../d7/d90/class_m_s_vehicle.html#ab8e1b144e71eac38850a0fe5af802363" title="Returns whether the given signal is on.">signalSet</a>(<a class="code" href="../../d7/d90/class_m_s_vehicle.html#a9a8782410216db415677bf89f9d93ba0a7694a85f4bebe20a3706d7245bbc7716" title="Left blinker lights are switched on.">MSVehicle::VEH_SIGNAL_BLINKER_LEFT</a>)) {
<a name="l00814"></a>00814         <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a85136b3a9052e80a9365b8aa8de5315a">drawAction_drawBlinker</a>(veh, offset);;
<a name="l00815"></a>00815     }
<a name="l00816"></a>00816     <span class="keywordflow">if</span> (veh.<a class="code" href="../../d7/d90/class_m_s_vehicle.html#ab8e1b144e71eac38850a0fe5af802363" title="Returns whether the given signal is on.">signalSet</a>(<a class="code" href="../../d7/d90/class_m_s_vehicle.html#a9a8782410216db415677bf89f9d93ba0aa940dbdb6b39190097baacc56dd401e2" title="Blinker lights on both sides are switched on.">MSVehicle::VEH_SIGNAL_BLINKER_EMERGENCY</a>)) {
<a name="l00817"></a>00817         <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a85136b3a9052e80a9365b8aa8de5315a">drawAction_drawBlinker</a>(veh, -offset);
<a name="l00818"></a>00818         <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a85136b3a9052e80a9365b8aa8de5315a">drawAction_drawBlinker</a>(veh, offset);
<a name="l00819"></a>00819     }
<a name="l00820"></a>00820 }
<a name="l00821"></a>00821 
<a name="l00822"></a>00822 
<a name="l00823"></a>00823 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00824"></a><a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#ae46c4076838da058def266aebe156bed">00824</a> <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#ae46c4076838da058def266aebe156bed">drawAction_drawVehicleBrakeLight</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html" title="A MSVehicle extended by some values for usage within the gui.">GUIVehicle</a>&amp; veh) {
<a name="l00825"></a>00825     <span class="keywordflow">if</span> (!veh.<a class="code" href="../../d7/d90/class_m_s_vehicle.html#ab8e1b144e71eac38850a0fe5af802363" title="Returns whether the given signal is on.">signalSet</a>(<a class="code" href="../../d7/d90/class_m_s_vehicle.html#a9a8782410216db415677bf89f9d93ba0a6d11e2d5d480e643accf2267a99b4fb5" title="The brake lights are on.">MSVehicle::VEH_SIGNAL_BRAKELIGHT</a>)) {
<a name="l00826"></a>00826         <span class="keywordflow">return</span>;
<a name="l00827"></a>00827     }
<a name="l00828"></a>00828     glColor3f(1.f, .2f, 0);
<a name="l00829"></a>00829     glPushMatrix();
<a name="l00830"></a>00830     glTranslated(-veh.<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#a9cdbf598f45533cb21a99ed26a2b21b6" title="Get the width which vehicles of this class shall have when being drawn.">getGuiWidth</a>() * 0.5, veh.<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#affc5e63e8f8ff67003b8e3109f05ce5c" title="Get vehicle&amp;#39;s length including the minimum gap [m].">getLengthWithGap</a>(), -0.1);
<a name="l00831"></a>00831     <a class="code" href="../../d3/d96/class_g_l_helper.html#aa0e2854c12a1547af7a728749475e586" title="Draws a filled circle around (0,0).">GLHelper::drawFilledCircle</a>(.5, 6);
<a name="l00832"></a>00832     glPopMatrix();
<a name="l00833"></a>00833     glPushMatrix();
<a name="l00834"></a>00834     glTranslated(veh.<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#a9cdbf598f45533cb21a99ed26a2b21b6" title="Get the width which vehicles of this class shall have when being drawn.">getGuiWidth</a>() * 0.5, veh.<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#affc5e63e8f8ff67003b8e3109f05ce5c" title="Get vehicle&amp;#39;s length including the minimum gap [m].">getLengthWithGap</a>(), -0.1);
<a name="l00835"></a>00835     <a class="code" href="../../d3/d96/class_g_l_helper.html#aa0e2854c12a1547af7a728749475e586" title="Draws a filled circle around (0,0).">GLHelper::drawFilledCircle</a>(.5, 6);
<a name="l00836"></a>00836     glPopMatrix();
<a name="l00837"></a>00837 }
<a name="l00838"></a>00838 
<a name="l00839"></a>00839 
<a name="l00840"></a>00840 <span class="keywordtype">void</span>
<a name="l00841"></a><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#add16b5d53dd16d2e13bae5b51c4be560">00841</a> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#add16b5d53dd16d2e13bae5b51c4be560" title="Draws the object.">GUIVehicle::drawGL</a>(<span class="keyword">const</span> <a class="code" href="../../db/d21/class_g_u_i_visualization_settings.html" title="Stores the information about how to visualize structures.">GUIVisualizationSettings</a>&amp; s)<span class="keyword"> const </span>{
<a name="l00842"></a>00842     glPushName(<a class="code" href="../../de/d94/class_g_u_i_gl_object.html#ac6cfa69398d352646e3d2228f7772a46" title="Returns the numerical id of the object.">getGlID</a>());
<a name="l00843"></a>00843     glPushMatrix();
<a name="l00844"></a>00844     <a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a> p1 = <a class="code" href="../../d7/d90/class_m_s_vehicle.html#adf4eba103a9ea46dd4858e565e22e957" title="The lane the vehicle is on.">myLane</a>-&gt;<a class="code" href="../../d9/d16/class_m_s_lane.html#a8b6eba4f01577ab96e7e606d5028bf44" title="Returns this lane&amp;#39;s shape.">getShape</a>().<a class="code" href="../../da/d56/class_position_vector.html#a716318d3b0fe4298f5384d8d38688b6c" title="Returns the position at the given length.">positionAtLengthPosition</a>(<a class="code" href="../../d7/d90/class_m_s_vehicle.html#aed69452bdabae1c54763d0844d159e40" title="This Vehicles driving state (pos and speed).">myState</a>.<a class="code" href="../../df/dd1/class_m_s_vehicle_1_1_state.html#a298b3fc8aa583719c334375961994950" title="Position of this state.">pos</a>());
<a name="l00845"></a>00845     glTranslated(p1.<a class="code" href="../../d7/d3b/class_position.html#a51c33a67d08730631a34482850b2203b" title="Returns the x-position.">x</a>(), p1.<a class="code" href="../../d7/d3b/class_position.html#a4a65556f1de2548b23ce662f81c7ab1a" title="Returns the y-position.">y</a>(), <a class="code" href="../../de/d94/class_g_u_i_gl_object.html#a4073d06ef1e61a3ed21ddc50ba5aa78e" title="Returns the type of the object as coded in GUIGlObjectType.">getType</a>());
<a name="l00846"></a>00846     glRotated(<a class="code" href="../../d7/d90/class_m_s_vehicle.html#a58306cace8fdb949c89fefb3279220f8" title="Returns the vehicle&amp;#39;s direction in degrees.">getAngle</a>(), 0, 0, 1);
<a name="l00847"></a>00847     <span class="comment">// set lane color</span>
<a name="l00848"></a>00848     <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a1b57f8e5f7215eab395ee9b5871adbe1" title="sets the color according to the currente settings">setColor</a>(s);
<a name="l00849"></a>00849     <span class="comment">// scale</span>
<a name="l00850"></a>00850     <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> upscale = s.<a class="code" href="../../db/d21/class_g_u_i_visualization_settings.html#ae2a18f0f66fe66ed5f172f5b8093ee08" title="The vehicle exaggeration (upscale).">vehicleExaggeration</a>;
<a name="l00851"></a>00851     glScaled(upscale, upscale, 1);
<a name="l00852"></a>00852     <span class="comment">/*</span>
<a name="l00853"></a>00853 <span class="comment">        MSLCM_DK2004 &amp;m2 = static_cast&lt;MSLCM_DK2004&amp;&gt;(veh-&gt;getLaneChangeModel());</span>
<a name="l00854"></a>00854 <span class="comment">        if((m2.getState()&amp;LCA_URGENT)!=0) {</span>
<a name="l00855"></a>00855 <span class="comment">            glColor3d(1, .4, .4);</span>
<a name="l00856"></a>00856 <span class="comment">        } else if((m2.getState()&amp;LCA_SPEEDGAIN)!=0) {</span>
<a name="l00857"></a>00857 <span class="comment">            glColor3d(.4, .4, 1);</span>
<a name="l00858"></a>00858 <span class="comment">        } else {</span>
<a name="l00859"></a>00859 <span class="comment">            glColor3d(.4, 1, .4);</span>
<a name="l00860"></a>00860 <span class="comment">        }</span>
<a name="l00861"></a>00861 <span class="comment">        */</span>
<a name="l00862"></a>00862     <span class="comment">// draw the vehicle</span>
<a name="l00863"></a>00863     <span class="keywordflow">switch</span> (s.<a class="code" href="../../db/d21/class_g_u_i_visualization_settings.html#a52128a43e9d259e054b00a24a27db207" title="The quality of vehicle drawing.">vehicleQuality</a>) {
<a name="l00864"></a>00864         <span class="keywordflow">case</span> 0:
<a name="l00865"></a>00865             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a62a62aa64bc250d9964ce46aff49e6c4">drawAction_drawVehicleAsTrianglePlus</a>(*<span class="keyword">this</span>);
<a name="l00866"></a>00866             <span class="keywordflow">break</span>;
<a name="l00867"></a>00867         <span class="keywordflow">case</span> 1:
<a name="l00868"></a>00868             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#a6a40ab8897d1ad479b8f0b1fd6e8f3e6">drawAction_drawVehicleAsBoxPlus</a>(*<span class="keyword">this</span>);
<a name="l00869"></a>00869             <span class="keywordflow">break</span>;
<a name="l00870"></a>00870         <span class="keywordflow">case</span> 2:
<a name="l00871"></a>00871         <span class="keywordflow">default</span>:
<a name="l00872"></a>00872             <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#af638fad6809cf63fc479a16decd25aac">drawAction_drawVehicleAsPoly</a>(*<span class="keyword">this</span>);
<a name="l00873"></a>00873             <span class="keywordflow">break</span>;
<a name="l00874"></a>00874     }
<a name="l00875"></a>00875     <span class="keywordflow">if</span> (s.<a class="code" href="../../db/d21/class_g_u_i_visualization_settings.html#aacfb6f044c6fec57bd33c94d1f21cde5" title="Information whether the minimum gap shall be drawn.">drawMinGap</a>) {
<a name="l00876"></a>00876         glColor3d(0., 1., 0.);
<a name="l00877"></a>00877         glBegin(GL_LINES);
<a name="l00878"></a>00878         glVertex2d(0., 0);
<a name="l00879"></a>00879         glVertex2d(0., <a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().getMinGap());
<a name="l00880"></a>00880         glVertex2d(-.5, 0);
<a name="l00881"></a>00881         glVertex2d(.5, 0);
<a name="l00882"></a>00882         glEnd();
<a name="l00883"></a>00883     }
<a name="l00884"></a>00884     <span class="comment">// draw the blinker and brakelights if wished</span>
<a name="l00885"></a>00885     <span class="keywordflow">if</span> (s.<a class="code" href="../../db/d21/class_g_u_i_visualization_settings.html#a141e0e55e68bfdd1810f547b3745170c" title="Information whether vehicle blinkers shall be drawn.">showBlinker</a>) {
<a name="l00886"></a>00886         glTranslated(0, 0, .1);
<a name="l00887"></a>00887         <span class="keywordflow">switch</span> (<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().getGuiShape()) {
<a name="l00888"></a>00888             <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24adb92d4d8d0d6e5939144911d5df982d3" title="render as a pedestrian">SVS_PEDESTRIAN</a>:
<a name="l00889"></a>00889             <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a107bfff35c11db286f16d2420dff579f" title="render as a bicycle">SVS_BICYCLE</a>:
<a name="l00890"></a>00890             <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a18846a8631b3b17aaf131b4c1ab04bee" title="render as a giant ant">SVS_ANT</a>:
<a name="l00891"></a>00891             <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a376a811269977c8e6e3632fc9b5089f9" title="render as a rail">SVS_RAIL</a>:
<a name="l00892"></a>00892             <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a1b6f6a5c176df21b8459bd5f6dcda1f1" title="render as a light rail">SVS_RAIL_LIGHT</a>:
<a name="l00893"></a>00893             <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a8c5f1f4177209e44bf4a8c5a1254d716" title="render as a slow (passenger) train">SVS_RAIL_SLOW</a>:
<a name="l00894"></a>00894             <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a4db9d989c1f78481c654ff3d74448b8e" title="render as a fast (passenger) train">SVS_RAIL_FAST</a>:
<a name="l00895"></a>00895             <span class="keywordflow">case</span> <a class="code" href="../../d2/d6d/_s_u_m_o_vehicle_class_8h.html#ab46854c321c179e94921b8fbd7124d24a88373dfd9073161a4357b41e9f71d481" title="render as a cargo train">SVS_RAIL_CARGO</a>:
<a name="l00896"></a>00896             <span class="comment">// only SVS_RAIL_CITY has blinkers and brake lights</span>
<a name="l00897"></a>00897                 <span class="keywordflow">break</span>;
<a name="l00898"></a>00898             <span class="keywordflow">default</span>:
<a name="l00899"></a>00899                 <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#aaf98af0e97f61b11dfd9a1a4b20fd035">drawAction_drawVehicleBlinker</a>(*<span class="keyword">this</span>);
<a name="l00900"></a>00900                 <a class="code" href="../../de/d1f/_g_u_i_vehicle_8cpp.html#ae46c4076838da058def266aebe156bed">drawAction_drawVehicleBrakeLight</a>(*<span class="keyword">this</span>);
<a name="l00901"></a>00901                 <span class="keywordflow">break</span>;
<a name="l00902"></a>00902         }
<a name="l00903"></a>00903     }
<a name="l00904"></a>00904     <span class="comment">// draw the wish to change the lane</span>
<a name="l00905"></a>00905     <span class="keywordflow">if</span> (s.<a class="code" href="../../db/d21/class_g_u_i_visualization_settings.html#af289ac4e4f659cd87f01ce517aafa8f5" title="Information whether the lane change preference shall be drawn.">drawLaneChangePreference</a>) {
<a name="l00906"></a>00906         <span class="comment">/*</span>
<a name="l00907"></a>00907 <span class="comment">                if(gSelected.isSelected(GLO_VEHICLE, veh-&gt;getGlID())) {</span>
<a name="l00908"></a>00908 <span class="comment">                MSLCM_DK2004 &amp;m = static_cast&lt;MSLCM_DK2004&amp;&gt;(veh-&gt;getLaneChangeModel());</span>
<a name="l00909"></a>00909 <span class="comment">                glColor3d(.5, .5, 1);</span>
<a name="l00910"></a>00910 <span class="comment">                glBegin(GL_LINES);</span>
<a name="l00911"></a>00911 <span class="comment">                glVertex2f(0, 0);</span>
<a name="l00912"></a>00912 <span class="comment">                glVertex2f(m.getChangeProbability(), .5);</span>
<a name="l00913"></a>00913 <span class="comment">                glEnd();</span>
<a name="l00914"></a>00914 <span class="comment"></span>
<a name="l00915"></a>00915 <span class="comment">                glColor3d(1, 0, 0);</span>
<a name="l00916"></a>00916 <span class="comment">                glBegin(GL_LINES);</span>
<a name="l00917"></a>00917 <span class="comment">                glVertex2f(0.1, 0);</span>
<a name="l00918"></a>00918 <span class="comment">                glVertex2f(0.1, m.myMaxJam1);</span>
<a name="l00919"></a>00919 <span class="comment">                glEnd();</span>
<a name="l00920"></a>00920 <span class="comment"></span>
<a name="l00921"></a>00921 <span class="comment">                glColor3d(0, 1, 0);</span>
<a name="l00922"></a>00922 <span class="comment">                glBegin(GL_LINES);</span>
<a name="l00923"></a>00923 <span class="comment">                glVertex2f(-0.1, 0);</span>
<a name="l00924"></a>00924 <span class="comment">                glVertex2f(-0.1, m.myTDist);</span>
<a name="l00925"></a>00925 <span class="comment">                glEnd();</span>
<a name="l00926"></a>00926 <span class="comment">                }</span>
<a name="l00927"></a>00927 <span class="comment">                */</span>
<a name="l00928"></a>00928     }
<a name="l00929"></a>00929     <span class="comment">// draw best lanes</span>
<a name="l00930"></a>00930     <span class="keywordflow">if</span> (<span class="keyword">true</span>) {
<a name="l00931"></a>00931         <span class="comment">/*</span>
<a name="l00932"></a>00932 <span class="comment">        const MSLane &amp;l = veh-&gt;getLane();</span>
<a name="l00933"></a>00933 <span class="comment">        SUMOReal r1 = veh-&gt;allowedContinuationsLength(&amp;l, 0);</span>
<a name="l00934"></a>00934 <span class="comment">        SUMOReal r2 = l.getLeftLane()!=0 ? veh-&gt;allowedContinuationsLength(l.getLeftLane(), 0) : 0;</span>
<a name="l00935"></a>00935 <span class="comment">        SUMOReal r3 = l.getRightLane()!=0 ? veh-&gt;allowedContinuationsLength(l.getRightLane(), 0) : 0;</span>
<a name="l00936"></a>00936 <span class="comment">        SUMOReal mmax = MAX3(r1, r2, r3);</span>
<a name="l00937"></a>00937 <span class="comment">        glBegin(GL_LINES);</span>
<a name="l00938"></a>00938 <span class="comment">        glVertex2f(0, 0);</span>
<a name="l00939"></a>00939 <span class="comment">        glVertex2f(0, r1/mmax/2.);</span>
<a name="l00940"></a>00940 <span class="comment">        glEnd();</span>
<a name="l00941"></a>00941 <span class="comment">        glBegin(GL_LINES);</span>
<a name="l00942"></a>00942 <span class="comment">        glVertex2f(.4, 0);</span>
<a name="l00943"></a>00943 <span class="comment">        glVertex2f(.4, r2/mmax/2.);</span>
<a name="l00944"></a>00944 <span class="comment">        glEnd();</span>
<a name="l00945"></a>00945 <span class="comment">        glBegin(GL_LINES);</span>
<a name="l00946"></a>00946 <span class="comment">        glVertex2f(-.4, 0);</span>
<a name="l00947"></a>00947 <span class="comment">        glVertex2f(-.4, r3/mmax/2.);</span>
<a name="l00948"></a>00948 <span class="comment">        glEnd();</span>
<a name="l00949"></a>00949 <span class="comment">        */</span>
<a name="l00950"></a>00950     }
<a name="l00951"></a>00951     glPopMatrix();
<a name="l00952"></a>00952     <a class="code" href="../../de/d94/class_g_u_i_gl_object.html#a78d69e14da4e7bb2676fea6a46979e95">drawName</a>(<a class="code" href="../../d7/d90/class_m_s_vehicle.html#adf4eba103a9ea46dd4858e565e22e957" title="The lane the vehicle is on.">myLane</a>-&gt;<a class="code" href="../../d9/d16/class_m_s_lane.html#a8b6eba4f01577ab96e7e606d5028bf44" title="Returns this lane&amp;#39;s shape.">getShape</a>().<a class="code" href="../../da/d56/class_position_vector.html#a716318d3b0fe4298f5384d8d38688b6c" title="Returns the position at the given length.">positionAtLengthPosition</a>(<a class="code" href="../../d7/d90/class_m_s_vehicle.html#aed69452bdabae1c54763d0844d159e40" title="This Vehicles driving state (pos and speed).">myState</a>.<a class="code" href="../../df/dd1/class_m_s_vehicle_1_1_state.html#a298b3fc8aa583719c334375961994950" title="Position of this state.">pos</a>() - <a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().<a class="code" href="../../de/da2/class_m_s_vehicle_type.html#affc5e63e8f8ff67003b8e3109f05ce5c" title="Get vehicle&amp;#39;s length including the minimum gap [m].">getLengthWithGap</a>() / 2),
<a name="l00953"></a>00953              s.<a class="code" href="../../db/d21/class_g_u_i_visualization_settings.html#ae4d98fb95967f494f54cd2c2c8042609" title="information about a lane&amp;#39;s width (temporary, used for a single view)">scale</a>, s.<a class="code" href="../../db/d21/class_g_u_i_visualization_settings.html#a02aeff16c6614388d849937b224b59d4">vehicleName</a>);
<a name="l00954"></a>00954     glPopName();
<a name="l00955"></a>00955 }
<a name="l00956"></a>00956 
<a name="l00957"></a>00957 
<a name="l00958"></a>00958 <span class="keywordtype">void</span>
<a name="l00959"></a><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a1ab5427b94c462c08096ee889ce1694e">00959</a> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a1ab5427b94c462c08096ee889ce1694e" title="Draws additionally triggered visualisations.">GUIVehicle::drawGLAdditional</a>(<a class="code" href="../../db/d5a/class_g_u_i_s_u_m_o_abstract_view.html">GUISUMOAbstractView</a>* <span class="keyword">const</span> parent, <span class="keyword">const</span> <a class="code" href="../../db/d21/class_g_u_i_visualization_settings.html" title="Stores the information about how to visualize structures.">GUIVisualizationSettings</a>&amp; s)<span class="keyword"> const </span>{
<a name="l00960"></a>00960     glPushName(<a class="code" href="../../de/d94/class_g_u_i_gl_object.html#ac6cfa69398d352646e3d2228f7772a46" title="Returns the numerical id of the object.">getGlID</a>());
<a name="l00961"></a>00961     glPushMatrix();
<a name="l00962"></a>00962     glTranslated(0, 0, <a class="code" href="../../de/d94/class_g_u_i_gl_object.html#a4073d06ef1e61a3ed21ddc50ba5aa78e" title="Returns the type of the object as coded in GUIGlObjectType.">getType</a>() - .1); <span class="comment">// don&#39;t draw on top of other cars</span>
<a name="l00963"></a>00963     <span class="keywordflow">if</span> (<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a6dbdb956f4b90d3f5b9b59702268097e" title="Returns whether the named feature is enabled in the given view.">hasActiveAddVisualisation</a>(parent, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aad2c702bb25f33fb5c9a48a381167d562" title="show vehicle&amp;#39;s best lanes">VO_SHOW_BEST_LANES</a>)) {
<a name="l00964"></a>00964         <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#aae63f845db7db0bc342ce68ad039e5b3" title="Draws the vehicle&amp;#39;s best lanes.">drawBestLanes</a>();
<a name="l00965"></a>00965     }
<a name="l00966"></a>00966     <span class="keywordflow">if</span> (<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a6dbdb956f4b90d3f5b9b59702268097e" title="Returns whether the named feature is enabled in the given view.">hasActiveAddVisualisation</a>(parent, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aabf75a5bb852c78dd14e26abe5293cd22" title="show vehicle&amp;#39;s current route">VO_SHOW_ROUTE</a>)) {
<a name="l00967"></a>00967         <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a57eb20fdad8cd9f41daf1f5a4da4fdb8" title="Chooses the route to draw and draws it, darkening it as given.">drawRoute</a>(s, 0, 0.25);
<a name="l00968"></a>00968     }
<a name="l00969"></a>00969     <span class="keywordflow">if</span> (<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a6dbdb956f4b90d3f5b9b59702268097e" title="Returns whether the named feature is enabled in the given view.">hasActiveAddVisualisation</a>(parent, <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a88f30009a2189c6f2bd6f0c8536df98aa15653ed6769207675eef52b0a8aa32d0" title="show all vehicle&amp;#39;s routes">VO_SHOW_ALL_ROUTES</a>)) {
<a name="l00970"></a>00970         <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#aeb8674e4fe981591f541e4b1d8875e3b" title="Returns the number of new routes this vehicle got.">getNumberReroutes</a>() &gt; 0) {
<a name="l00971"></a>00971             <span class="keyword">const</span> <span class="keywordtype">int</span> noReroutePlus1 = <a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#aeb8674e4fe981591f541e4b1d8875e3b" title="Returns the number of new routes this vehicle got.">getNumberReroutes</a>() + 1;
<a name="l00972"></a>00972             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = noReroutePlus1 - 1; i &gt;= 0; i--) {
<a name="l00973"></a>00973                 <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> darken = <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a>(0.4) / <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a>(noReroutePlus1) * <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a>(i);
<a name="l00974"></a>00974                 <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a57eb20fdad8cd9f41daf1f5a4da4fdb8" title="Chooses the route to draw and draws it, darkening it as given.">drawRoute</a>(s, i, darken);
<a name="l00975"></a>00975             }
<a name="l00976"></a>00976         } <span class="keywordflow">else</span> {
<a name="l00977"></a>00977             <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a57eb20fdad8cd9f41daf1f5a4da4fdb8" title="Chooses the route to draw and draws it, darkening it as given.">drawRoute</a>(s, 0, 0.25);
<a name="l00978"></a>00978         }
<a name="l00979"></a>00979     }
<a name="l00980"></a>00980     glPopMatrix();
<a name="l00981"></a>00981     glPopName();
<a name="l00982"></a>00982 }
<a name="l00983"></a>00983 
<a name="l00984"></a>00984 
<a name="l00985"></a>00985 <span class="keyword">const</span> std::vector&lt;MSVehicle::LaneQ&gt; &amp;
<a name="l00986"></a><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a5452a31aae83f9cd56ad9354fb27a103">00986</a> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a5452a31aae83f9cd56ad9354fb27a103" title="Returns the description of best lanes to use in order to continue the route.">GUIVehicle::getBestLanes</a>()<span class="keyword"> const </span>{
<a name="l00987"></a>00987     <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#aa2cf7a5a6ee65657aece9d1292b8708c" title="The mutex used to avoid concurrent updates of the vehicle buffer.">myLock</a>.<a class="code" href="../../d9/d79/class_m_f_x_mutex.html#a3609793086e8009740a9a31d7751e17c" title="lock mutex">lock</a>();
<a name="l00988"></a>00988     <span class="keyword">const</span> std::vector&lt;MSVehicle::LaneQ&gt; &amp;ret = <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a5452a31aae83f9cd56ad9354fb27a103" title="Returns the description of best lanes to use in order to continue the route.">MSVehicle::getBestLanes</a>();
<a name="l00989"></a>00989     <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#aa2cf7a5a6ee65657aece9d1292b8708c" title="The mutex used to avoid concurrent updates of the vehicle buffer.">myLock</a>.<a class="code" href="../../d9/d79/class_m_f_x_mutex.html#aea4ed8cbb1d65e9d43119c21c4b1b93a" title="release mutex lock">unlock</a>();
<a name="l00990"></a>00990     <span class="keywordflow">return</span> ret;
<a name="l00991"></a>00991 }
<a name="l00992"></a>00992 
<a name="l00993"></a>00993 
<a name="l00994"></a>00994 <span class="keywordtype">void</span>
<a name="l00995"></a><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a1b57f8e5f7215eab395ee9b5871adbe1">00995</a> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a1b57f8e5f7215eab395ee9b5871adbe1" title="sets the color according to the currente settings">GUIVehicle::setColor</a>(<span class="keyword">const</span> <a class="code" href="../../db/d21/class_g_u_i_visualization_settings.html" title="Stores the information about how to visualize structures.">GUIVisualizationSettings</a>&amp; s)<span class="keyword"> const </span>{
<a name="l00996"></a>00996     <span class="keyword">const</span> <a class="code" href="../../d4/d51/class_g_u_i_colorer.html" title="Base class for coloring. Allows changing the used colors and sets the used color...">GUIColorer</a>&amp; c = s.<a class="code" href="../../db/d21/class_g_u_i_visualization_settings.html#a209a7855fea02ccaacc9c34ee900ef54" title="The vehicle colorer.">vehicleColorer</a>;
<a name="l00997"></a>00997     <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#aae30623ec08522d9dd24c42ac4df674c" title="sets the color according to the current scheme index and some vehicle function">setFunctionalColor</a>(c.<a class="code" href="../../d4/d51/class_g_u_i_colorer.html#aa696eaae272fb563f980f46004b2bd34">getActive</a>())) {
<a name="l00998"></a>00998         <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a1b57f8e5f7215eab395ee9b5871adbe1" title="sets the color according to the currente settings">GLHelper::setColor</a>(c.<a class="code" href="../../d4/d51/class_g_u_i_colorer.html#a2c74dc9a506590d74d9ec68918d3aa31">getScheme</a>().<a class="code" href="../../d7/d6f/class_g_u_i_color_scheme.html#ab4a4f6cc05bbaffb87ae55b5cc41fb17">getColor</a>(<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a33a1c7d7995b2a8e66df0ac978addc62" title="gets the color value according to the current scheme index">getColorValue</a>(c.<a class="code" href="../../d4/d51/class_g_u_i_colorer.html#aa696eaae272fb563f980f46004b2bd34">getActive</a>())));
<a name="l00999"></a>00999     }
<a name="l01000"></a>01000 }
<a name="l01001"></a>01001 
<a name="l01002"></a>01002 
<a name="l01003"></a>01003 <span class="keywordtype">bool</span>
<a name="l01004"></a><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#aae30623ec08522d9dd24c42ac4df674c">01004</a> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#aae30623ec08522d9dd24c42ac4df674c" title="sets the color according to the current scheme index and some vehicle function">GUIVehicle::setFunctionalColor</a>(<span class="keywordtype">size_t</span> activeScheme)<span class="keyword"> const </span>{
<a name="l01005"></a>01005     <span class="keywordflow">switch</span> (activeScheme) {
<a name="l01006"></a>01006         <span class="keywordflow">case</span> 1: {
<a name="l01007"></a>01007             <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a1b57f8e5f7215eab395ee9b5871adbe1" title="sets the color according to the currente settings">GLHelper::setColor</a>(<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#a79d93ef1833e1154d26d5f381ddb33d9" title="Returns the vehicle&amp;#39;s parameter (including departure definition).">getParameter</a>().color);
<a name="l01008"></a>01008             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01009"></a>01009         }
<a name="l01010"></a>01010         <span class="keywordflow">case</span> 2: {
<a name="l01011"></a>01011             <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a1b57f8e5f7215eab395ee9b5871adbe1" title="sets the color according to the currente settings">GLHelper::setColor</a>(<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#af0509244821c3c7c85e64344ca66929c" title="Returns the vehicle&amp;#39;s type definition.">getVehicleType</a>().getColor());
<a name="l01012"></a>01012             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01013"></a>01013         }
<a name="l01014"></a>01014         <span class="keywordflow">case</span> 3: {
<a name="l01015"></a>01015             <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a1b57f8e5f7215eab395ee9b5871adbe1" title="sets the color according to the currente settings">GLHelper::setColor</a>(<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#ad54c9a2eeea444f4538ac5c405844d46" title="Returns the current route.">getRoute</a>().getColor());
<a name="l01016"></a>01016             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01017"></a>01017         }
<a name="l01018"></a>01018         <span class="keywordflow">case</span> 4: {
<a name="l01019"></a>01019             <a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a> p = <a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#ad54c9a2eeea444f4538ac5c405844d46" title="Returns the current route.">getRoute</a>().<a class="code" href="../../de/dd8/class_m_s_route.html#a50d81ec26eb67c4e0016b462e560e9c3">getEdges</a>()[0]-&gt;getLanes()[0]-&gt;getShape()[0];
<a name="l01020"></a>01020             <span class="keyword">const</span> <a class="code" href="../../d5/dda/class_boundary.html" title="A class that stores a 2D geometrical boundary.">Boundary</a>&amp; b = ((<a class="code" href="../../da/d8c/class_g_u_i_net.html" title="A MSNet extended by some values for usage within the gui.">GUINet</a>*) <a class="code" href="../../dc/d5d/class_m_s_net.html#a2024ec4396b66fd698bb581fc5cc3408" title="Returns the pointer to the unique instance of MSNet (singleton).">MSNet::getInstance</a>())-&gt;getBoundary();
<a name="l01021"></a>01021             <a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a> center = b.<a class="code" href="../../d5/dda/class_boundary.html#a9bccb479e81d92dc55cc98e2ae655ad4" title="Returns the center of the boundary.">getCenter</a>();
<a name="l01022"></a>01022             <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> hue = 180. + atan2(center.<a class="code" href="../../d7/d3b/class_position.html#a51c33a67d08730631a34482850b2203b" title="Returns the x-position.">x</a>() - p.<a class="code" href="../../d7/d3b/class_position.html#a51c33a67d08730631a34482850b2203b" title="Returns the x-position.">x</a>(), center.<a class="code" href="../../d7/d3b/class_position.html#a4a65556f1de2548b23ce662f81c7ab1a" title="Returns the y-position.">y</a>() - p.<a class="code" href="../../d7/d3b/class_position.html#a4a65556f1de2548b23ce662f81c7ab1a" title="Returns the y-position.">y</a>()) * 180. / <a class="code" href="../../d1/dc9/polyfonts_8c.html#a598a3330b3c21701223ee0ca14316eca">PI</a>;
<a name="l01023"></a>01023             <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> sat = p.<a class="code" href="../../d7/d3b/class_position.html#aaa1d5d9e58bc203fceee0002563c3bc2" title="returns the euclidean distance in 3 dimension">distanceTo</a>(center) / center.<a class="code" href="../../d7/d3b/class_position.html#aaa1d5d9e58bc203fceee0002563c3bc2" title="returns the euclidean distance in 3 dimension">distanceTo</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(b.<a class="code" href="../../d5/dda/class_boundary.html#a68c581ea01becd3954fcc808ac476040" title="Returns minimum x-coordinate.">xmin</a>(), b.<a class="code" href="../../d5/dda/class_boundary.html#a23f3304d1d057aec6a5255f519cc567d" title="Returns minimum y-coordinate.">ymin</a>()));
<a name="l01024"></a>01024             <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a1b57f8e5f7215eab395ee9b5871adbe1" title="sets the color according to the currente settings">GLHelper::setColor</a>(<a class="code" href="../../da/da9/class_r_g_b_color.html#a17e403cf56d40239af3068bce68dd23c" title="Converts the given hsv-triplet to rgb.">RGBColor::fromHSV</a>(hue, sat, 1.));
<a name="l01025"></a>01025             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01026"></a>01026         }
<a name="l01027"></a>01027         <span class="keywordflow">case</span> 5: {
<a name="l01028"></a>01028             <a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a> p = <a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#ad54c9a2eeea444f4538ac5c405844d46" title="Returns the current route.">getRoute</a>().<a class="code" href="../../de/dd8/class_m_s_route.html#a50d81ec26eb67c4e0016b462e560e9c3">getEdges</a>().back()-&gt;getLanes()[0]-&gt;getShape()[-1];
<a name="l01029"></a>01029             <span class="keyword">const</span> <a class="code" href="../../d5/dda/class_boundary.html" title="A class that stores a 2D geometrical boundary.">Boundary</a>&amp; b = ((<a class="code" href="../../da/d8c/class_g_u_i_net.html" title="A MSNet extended by some values for usage within the gui.">GUINet</a>*) <a class="code" href="../../dc/d5d/class_m_s_net.html#a2024ec4396b66fd698bb581fc5cc3408" title="Returns the pointer to the unique instance of MSNet (singleton).">MSNet::getInstance</a>())-&gt;getBoundary();
<a name="l01030"></a>01030             <a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a> center = b.<a class="code" href="../../d5/dda/class_boundary.html#a9bccb479e81d92dc55cc98e2ae655ad4" title="Returns the center of the boundary.">getCenter</a>();
<a name="l01031"></a>01031             <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> hue = 180. + atan2(center.<a class="code" href="../../d7/d3b/class_position.html#a51c33a67d08730631a34482850b2203b" title="Returns the x-position.">x</a>() - p.<a class="code" href="../../d7/d3b/class_position.html#a51c33a67d08730631a34482850b2203b" title="Returns the x-position.">x</a>(), center.<a class="code" href="../../d7/d3b/class_position.html#a4a65556f1de2548b23ce662f81c7ab1a" title="Returns the y-position.">y</a>() - p.<a class="code" href="../../d7/d3b/class_position.html#a4a65556f1de2548b23ce662f81c7ab1a" title="Returns the y-position.">y</a>()) * 180. / <a class="code" href="../../d1/dc9/polyfonts_8c.html#a598a3330b3c21701223ee0ca14316eca">PI</a>;
<a name="l01032"></a>01032             <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> sat = p.<a class="code" href="../../d7/d3b/class_position.html#aaa1d5d9e58bc203fceee0002563c3bc2" title="returns the euclidean distance in 3 dimension">distanceTo</a>(center) / center.<a class="code" href="../../d7/d3b/class_position.html#aaa1d5d9e58bc203fceee0002563c3bc2" title="returns the euclidean distance in 3 dimension">distanceTo</a>(<a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a>(b.<a class="code" href="../../d5/dda/class_boundary.html#a68c581ea01becd3954fcc808ac476040" title="Returns minimum x-coordinate.">xmin</a>(), b.<a class="code" href="../../d5/dda/class_boundary.html#a23f3304d1d057aec6a5255f519cc567d" title="Returns minimum y-coordinate.">ymin</a>()));
<a name="l01033"></a>01033             <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a1b57f8e5f7215eab395ee9b5871adbe1" title="sets the color according to the currente settings">GLHelper::setColor</a>(<a class="code" href="../../da/da9/class_r_g_b_color.html#a17e403cf56d40239af3068bce68dd23c" title="Converts the given hsv-triplet to rgb.">RGBColor::fromHSV</a>(hue, sat, 1.));
<a name="l01034"></a>01034             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01035"></a>01035         }
<a name="l01036"></a>01036         <span class="keywordflow">case</span> 6: {
<a name="l01037"></a>01037             <a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a> pb = <a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#ad54c9a2eeea444f4538ac5c405844d46" title="Returns the current route.">getRoute</a>().<a class="code" href="../../de/dd8/class_m_s_route.html#a50d81ec26eb67c4e0016b462e560e9c3">getEdges</a>()[0]-&gt;getLanes()[0]-&gt;getShape()[0];
<a name="l01038"></a>01038             <a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a> pe = <a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#ad54c9a2eeea444f4538ac5c405844d46" title="Returns the current route.">getRoute</a>().<a class="code" href="../../de/dd8/class_m_s_route.html#a50d81ec26eb67c4e0016b462e560e9c3">getEdges</a>().back()-&gt;getLanes()[0]-&gt;getShape()[-1];
<a name="l01039"></a>01039             <span class="keyword">const</span> <a class="code" href="../../d5/dda/class_boundary.html" title="A class that stores a 2D geometrical boundary.">Boundary</a>&amp; b = ((<a class="code" href="../../da/d8c/class_g_u_i_net.html" title="A MSNet extended by some values for usage within the gui.">GUINet</a>*) <a class="code" href="../../dc/d5d/class_m_s_net.html#a2024ec4396b66fd698bb581fc5cc3408" title="Returns the pointer to the unique instance of MSNet (singleton).">MSNet::getInstance</a>())-&gt;getBoundary();
<a name="l01040"></a>01040             <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> hue = 180. + atan2(pb.<a class="code" href="../../d7/d3b/class_position.html#a51c33a67d08730631a34482850b2203b" title="Returns the x-position.">x</a>() - pe.<a class="code" href="../../d7/d3b/class_position.html#a51c33a67d08730631a34482850b2203b" title="Returns the x-position.">x</a>(), pb.<a class="code" href="../../d7/d3b/class_position.html#a4a65556f1de2548b23ce662f81c7ab1a" title="Returns the y-position.">y</a>() - pe.<a class="code" href="../../d7/d3b/class_position.html#a4a65556f1de2548b23ce662f81c7ab1a" title="Returns the y-position.">y</a>()) * 180. / <a class="code" href="../../d1/dc9/polyfonts_8c.html#a598a3330b3c21701223ee0ca14316eca">PI</a>;
<a name="l01041"></a>01041             <a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a> minp(b.<a class="code" href="../../d5/dda/class_boundary.html#a68c581ea01becd3954fcc808ac476040" title="Returns minimum x-coordinate.">xmin</a>(), b.<a class="code" href="../../d5/dda/class_boundary.html#a23f3304d1d057aec6a5255f519cc567d" title="Returns minimum y-coordinate.">ymin</a>());
<a name="l01042"></a>01042             <a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a> maxp(b.<a class="code" href="../../d5/dda/class_boundary.html#ace0f25069b6d972da95a747136261fcd" title="Returns maximum x-coordinate.">xmax</a>(), b.<a class="code" href="../../d5/dda/class_boundary.html#ab908d8e6c0fc8abdee797e789176a43e" title="Returns maximum y-coordinate.">ymax</a>());
<a name="l01043"></a>01043             <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> sat = pb.<a class="code" href="../../d7/d3b/class_position.html#aaa1d5d9e58bc203fceee0002563c3bc2" title="returns the euclidean distance in 3 dimension">distanceTo</a>(pe) / minp.distanceTo(maxp);
<a name="l01044"></a>01044             <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a1b57f8e5f7215eab395ee9b5871adbe1" title="sets the color according to the currente settings">GLHelper::setColor</a>(<a class="code" href="../../da/da9/class_r_g_b_color.html#a17e403cf56d40239af3068bce68dd23c" title="Converts the given hsv-triplet to rgb.">RGBColor::fromHSV</a>(hue, sat, 1.));
<a name="l01045"></a>01045             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01046"></a>01046         }
<a name="l01047"></a>01047     }
<a name="l01048"></a>01048     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01049"></a>01049 }
<a name="l01050"></a>01050 
<a name="l01051"></a>01051 
<a name="l01052"></a>01052 <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a>
<a name="l01053"></a><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a33a1c7d7995b2a8e66df0ac978addc62">01053</a> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a33a1c7d7995b2a8e66df0ac978addc62" title="gets the color value according to the current scheme index">GUIVehicle::getColorValue</a>(<span class="keywordtype">size_t</span> activeScheme)<span class="keyword"> const </span>{
<a name="l01054"></a>01054     <span class="keywordflow">switch</span> (activeScheme) {
<a name="l01055"></a>01055         <span class="keywordflow">case</span> 7:
<a name="l01056"></a>01056             <span class="keywordflow">return</span> <a class="code" href="../../d7/d90/class_m_s_vehicle.html#ac6847bb54de8bdf75ddb8e2fc689cb2e" title="Returns the vehicle&amp;#39;s current speed.">getSpeed</a>();
<a name="l01057"></a>01057         <span class="keywordflow">case</span> 8:
<a name="l01058"></a>01058             <span class="keywordflow">return</span> <a class="code" href="../../d7/d90/class_m_s_vehicle.html#a871757109e4fd70fbd1212786db95f82" title="Returns the number of seconds waited (speed was lesser than 0.1m/s).">getWaitingSeconds</a>();
<a name="l01059"></a>01059         <span class="keywordflow">case</span> 9:
<a name="l01060"></a>01060             <span class="keywordflow">return</span> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a034beca0275393879f671a2a67b46855" title="Returns the time since the last lane change in seconds.">getLastLaneChangeOffset</a>();
<a name="l01061"></a>01061         <span class="keywordflow">case</span> 10:
<a name="l01062"></a>01062             <span class="keywordflow">return</span> <a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#a52dce019121d18dc5680d36f2c645512" title="Returns the current maximum speed.">getMaxSpeed</a>();
<a name="l01063"></a>01063         <span class="keywordflow">case</span> 11:
<a name="l01064"></a>01064             <span class="keywordflow">return</span> <a class="code" href="../../d7/d90/class_m_s_vehicle.html#a49915ab2e792b0897e6fdcdc04b5c555" title="Returns CO2 emission of the current state.">getHBEFA_CO2Emissions</a>();
<a name="l01065"></a>01065         <span class="keywordflow">case</span> 12:
<a name="l01066"></a>01066             <span class="keywordflow">return</span> <a class="code" href="../../d7/d90/class_m_s_vehicle.html#abb0b355c01ca18bc7fc6631043bba4ca" title="Returns CO emission of the current state.">getHBEFA_COEmissions</a>();
<a name="l01067"></a>01067         <span class="keywordflow">case</span> 13:
<a name="l01068"></a>01068             <span class="keywordflow">return</span> <a class="code" href="../../d7/d90/class_m_s_vehicle.html#a5b4bbb6211df5cb4ee47e5212b6e0605" title="Returns PMx emission of the current state.">getHBEFA_PMxEmissions</a>();
<a name="l01069"></a>01069         <span class="keywordflow">case</span> 14:
<a name="l01070"></a>01070             <span class="keywordflow">return</span> <a class="code" href="../../d7/d90/class_m_s_vehicle.html#a244faac2fab160c829a20ec1c8b8cab2" title="Returns NOx emission of the current state.">getHBEFA_NOxEmissions</a>();
<a name="l01071"></a>01071         <span class="keywordflow">case</span> 15:
<a name="l01072"></a>01072             <span class="keywordflow">return</span> <a class="code" href="../../d7/d90/class_m_s_vehicle.html#ada4135b3dfeafaf7cca16b5cea7dc007" title="Returns HC emission of the current state.">getHBEFA_HCEmissions</a>();
<a name="l01073"></a>01073         <span class="keywordflow">case</span> 16:
<a name="l01074"></a>01074             <span class="keywordflow">return</span> <a class="code" href="../../d7/d90/class_m_s_vehicle.html#a8cd36309da768a01619257e0e3a2e2e7" title="Returns fuel consumption of the current state.">getHBEFA_FuelConsumption</a>();
<a name="l01075"></a>01075         <span class="keywordflow">case</span> 17:
<a name="l01076"></a>01076             <span class="keywordflow">return</span> <a class="code" href="../../d7/d90/class_m_s_vehicle.html#a0102e0a91fc18c7a96c10fba46c4bc63" title="Returns noise emissions of the current state.">getHarmonoise_NoiseEmissions</a>();
<a name="l01077"></a>01077         <span class="keywordflow">case</span> 18:
<a name="l01078"></a>01078             <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#aeb8674e4fe981591f541e4b1d8875e3b" title="Returns the number of new routes this vehicle got.">getNumberReroutes</a>() == 0) {
<a name="l01079"></a>01079                 <span class="keywordflow">return</span> -1;
<a name="l01080"></a>01080             }
<a name="l01081"></a>01081             <span class="keywordflow">return</span> <a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#aeb8674e4fe981591f541e4b1d8875e3b" title="Returns the number of new routes this vehicle got.">getNumberReroutes</a>();
<a name="l01082"></a>01082     }
<a name="l01083"></a>01083     <span class="keywordflow">return</span> 0;
<a name="l01084"></a>01084 }
<a name="l01085"></a>01085 
<a name="l01086"></a>01086 
<a name="l01087"></a>01087 <span class="comment">// ------------ Additional visualisations</span>
<a name="l01088"></a>01088 <span class="keywordtype">bool</span>
<a name="l01089"></a><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a6dbdb956f4b90d3f5b9b59702268097e">01089</a> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a6dbdb956f4b90d3f5b9b59702268097e" title="Returns whether the named feature is enabled in the given view.">GUIVehicle::hasActiveAddVisualisation</a>(<a class="code" href="../../db/d5a/class_g_u_i_s_u_m_o_abstract_view.html">GUISUMOAbstractView</a>* <span class="keyword">const</span> parent, <span class="keywordtype">int</span> which)<span class="keyword"> const </span>{
<a name="l01090"></a>01090     <span class="keywordflow">return</span> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a0b7c63c0bd674c19f8b3357f08a56208" title="Enabled visualisations, per view.">myAdditionalVisualizations</a>.find(parent) != <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a0b7c63c0bd674c19f8b3357f08a56208" title="Enabled visualisations, per view.">myAdditionalVisualizations</a>.end() &amp;&amp; (<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a0b7c63c0bd674c19f8b3357f08a56208" title="Enabled visualisations, per view.">myAdditionalVisualizations</a>.find(parent)-&gt;second &amp; which) != 0;
<a name="l01091"></a>01091 }
<a name="l01092"></a>01092 
<a name="l01093"></a>01093 
<a name="l01094"></a>01094 <span class="keywordtype">bool</span>
<a name="l01095"></a><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a4dbe2854c048847628f60c4e9eb0b475">01095</a> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a4dbe2854c048847628f60c4e9eb0b475" title="Adds the named visualisation feature to the given view.">GUIVehicle::addActiveAddVisualisation</a>(<a class="code" href="../../db/d5a/class_g_u_i_s_u_m_o_abstract_view.html">GUISUMOAbstractView</a>* <span class="keyword">const</span> parent, <span class="keywordtype">int</span> which) {
<a name="l01096"></a>01096     <span class="keywordflow">if</span> (<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a0b7c63c0bd674c19f8b3357f08a56208" title="Enabled visualisations, per view.">myAdditionalVisualizations</a>.find(parent) == <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a0b7c63c0bd674c19f8b3357f08a56208" title="Enabled visualisations, per view.">myAdditionalVisualizations</a>.end()) {
<a name="l01097"></a>01097         <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a0b7c63c0bd674c19f8b3357f08a56208" title="Enabled visualisations, per view.">myAdditionalVisualizations</a>[parent] = 0;
<a name="l01098"></a>01098     }
<a name="l01099"></a>01099     <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a0b7c63c0bd674c19f8b3357f08a56208" title="Enabled visualisations, per view.">myAdditionalVisualizations</a>[parent] |= which;
<a name="l01100"></a>01100     <span class="keywordflow">return</span> parent-&gt;<a class="code" href="../../db/d5a/class_g_u_i_s_u_m_o_abstract_view.html#ad5e62babe5217ea8f7bea638bb74e008" title="Adds an object to call its additional visualisation method.">addAdditionalGLVisualisation</a>(<span class="keyword">this</span>);
<a name="l01101"></a>01101 }
<a name="l01102"></a>01102 
<a name="l01103"></a>01103 
<a name="l01104"></a>01104 <span class="keywordtype">bool</span>
<a name="l01105"></a><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a5f5ca3db8787b497c9d48f23bfaa1a9f">01105</a> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a5f5ca3db8787b497c9d48f23bfaa1a9f" title="Adds the named visualisation feature to the given view.">GUIVehicle::removeActiveAddVisualisation</a>(<a class="code" href="../../db/d5a/class_g_u_i_s_u_m_o_abstract_view.html">GUISUMOAbstractView</a>* <span class="keyword">const</span> parent, <span class="keywordtype">int</span> which) {
<a name="l01106"></a>01106     <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a0b7c63c0bd674c19f8b3357f08a56208" title="Enabled visualisations, per view.">myAdditionalVisualizations</a>[parent] &amp;= ~which;
<a name="l01107"></a>01107     <span class="keywordflow">return</span> parent-&gt;<a class="code" href="../../db/d5a/class_g_u_i_s_u_m_o_abstract_view.html#a6cf345df5e7d83156bb08fb0969ec2ec" title="Removes an object from the list of objects that show additional things.">removeAdditionalGLVisualisation</a>(<span class="keyword">this</span>);
<a name="l01108"></a>01108 }
<a name="l01109"></a>01109 
<a name="l01110"></a>01110 
<a name="l01111"></a>01111 <span class="keywordtype">void</span>
<a name="l01112"></a><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a57eb20fdad8cd9f41daf1f5a4da4fdb8">01112</a> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a57eb20fdad8cd9f41daf1f5a4da4fdb8" title="Chooses the route to draw and draws it, darkening it as given.">GUIVehicle::drawRoute</a>(<span class="keyword">const</span> <a class="code" href="../../db/d21/class_g_u_i_visualization_settings.html" title="Stores the information about how to visualize structures.">GUIVisualizationSettings</a>&amp; s, <span class="keywordtype">int</span> routeNo, <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> darken)<span class="keyword"> const </span>{
<a name="l01113"></a>01113     <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a1b57f8e5f7215eab395ee9b5871adbe1" title="sets the color according to the currente settings">setColor</a>(s);
<a name="l01114"></a>01114     GLdouble colors[4];
<a name="l01115"></a>01115     glGetDoublev(GL_CURRENT_COLOR, colors);
<a name="l01116"></a>01116     colors[0] -= darken;
<a name="l01117"></a>01117     <span class="keywordflow">if</span> (colors[0] &lt; 0) {
<a name="l01118"></a>01118         colors[0] = 0;
<a name="l01119"></a>01119     }
<a name="l01120"></a>01120     colors[1] -= darken;
<a name="l01121"></a>01121     <span class="keywordflow">if</span> (colors[1] &lt; 0) {
<a name="l01122"></a>01122         colors[1] = 0;
<a name="l01123"></a>01123     }
<a name="l01124"></a>01124     colors[2] -= darken;
<a name="l01125"></a>01125     <span class="keywordflow">if</span> (colors[2] &lt; 0) {
<a name="l01126"></a>01126         colors[2] = 0;
<a name="l01127"></a>01127     }
<a name="l01128"></a>01128     colors[3] -= darken;
<a name="l01129"></a>01129     <span class="keywordflow">if</span> (colors[3] &lt; 0) {
<a name="l01130"></a>01130         colors[3] = 0;
<a name="l01131"></a>01131     }
<a name="l01132"></a>01132     glColor3dv(colors);
<a name="l01133"></a>01133     <span class="keywordflow">if</span> (routeNo == 0) {
<a name="l01134"></a>01134         <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#ae6a5c49f6dafc5b699312c2e4297ef10" title="Draws the route.">draw</a>(*<a class="code" href="../../d9/dd6/class_m_s_base_vehicle.html#a9d734b6c4adc76c81e0b5be3fdd96a48" title="This Vehicle&amp;#39;s route.">myRoute</a>);
<a name="l01135"></a>01135         <span class="keywordflow">return</span>;
<a name="l01136"></a>01136     }
<a name="l01137"></a>01137     --routeNo; <span class="comment">// only prior routes are stored</span>
<a name="l01138"></a>01138     <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#ae6a5c49f6dafc5b699312c2e4297ef10" title="Draws the route.">draw</a>(*<a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#a61f82e8479973f6717503515cba06868">myRoutes</a>-&gt;<a class="code" href="../../d3/db0/class_m_s_device___vehroutes.html#a2943e38010a3d5784249a083717eeea6" title="Called on route retrieval.">getRoute</a>(routeNo));
<a name="l01139"></a>01139 }
<a name="l01140"></a>01140 
<a name="l01141"></a>01141 
<a name="l01142"></a>01142 <span class="keywordtype">void</span>
<a name="l01143"></a><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#aae63f845db7db0bc342ce68ad039e5b3">01143</a> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#aae63f845db7db0bc342ce68ad039e5b3" title="Draws the vehicle&amp;#39;s best lanes.">GUIVehicle::drawBestLanes</a>()<span class="keyword"> const </span>{
<a name="l01144"></a>01144     <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#aa2cf7a5a6ee65657aece9d1292b8708c" title="The mutex used to avoid concurrent updates of the vehicle buffer.">myLock</a>.<a class="code" href="../../d9/d79/class_m_f_x_mutex.html#a3609793086e8009740a9a31d7751e17c" title="lock mutex">lock</a>();
<a name="l01145"></a>01145     std::vector&lt;std::vector&lt;MSVehicle::LaneQ&gt; &gt; bestLanes = <a class="code" href="../../d7/d90/class_m_s_vehicle.html#ab2eb93c27c8a0ac31008c502552d89f7">myBestLanes</a>;
<a name="l01146"></a>01146     <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#aa2cf7a5a6ee65657aece9d1292b8708c" title="The mutex used to avoid concurrent updates of the vehicle buffer.">myLock</a>.<a class="code" href="../../d9/d79/class_m_f_x_mutex.html#aea4ed8cbb1d65e9d43119c21c4b1b93a" title="release mutex lock">unlock</a>();
<a name="l01147"></a>01147     <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> width = 0.5;
<a name="l01148"></a>01148     <span class="keywordflow">for</span> (std::vector&lt;std::vector&lt;MSVehicle::LaneQ&gt; &gt;::iterator j = bestLanes.begin(); j != bestLanes.end(); ++j) {
<a name="l01149"></a>01149         std::vector&lt;MSVehicle::LaneQ&gt; &amp;lanes = *j;
<a name="l01150"></a>01150         <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> gmax = -1;
<a name="l01151"></a>01151         <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> rmax = -1;
<a name="l01152"></a>01152         <span class="keywordflow">for</span> (std::vector&lt;MSVehicle::LaneQ&gt;::const_iterator i = lanes.begin(); i != lanes.end(); ++i) {
<a name="l01153"></a>01153             gmax = <a class="code" href="../../da/dbd/_std_defs_8h.html#a3c4556662cf5cb93067cdc7365aecbcd">MAX2</a>((*i).length, gmax);
<a name="l01154"></a>01154             rmax = <a class="code" href="../../da/dbd/_std_defs_8h.html#a3c4556662cf5cb93067cdc7365aecbcd">MAX2</a>((*i).occupation, rmax);
<a name="l01155"></a>01155         }
<a name="l01156"></a>01156         <span class="keywordflow">for</span> (std::vector&lt;MSVehicle::LaneQ&gt;::const_iterator i = lanes.begin(); i != lanes.end(); ++i) {
<a name="l01157"></a>01157             <span class="keyword">const</span> <a class="code" href="../../da/d56/class_position_vector.html" title="A list of 2D-positions.">PositionVector</a>&amp; shape = (*i).lane-&gt;getShape();
<a name="l01158"></a>01158             <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> g = (*i).length / gmax;
<a name="l01159"></a>01159             <a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a> r = (*i).occupation / rmax;
<a name="l01160"></a>01160             glColor3d(r, g, 0);
<a name="l01161"></a>01161             <a class="code" href="../../d3/d96/class_g_l_helper.html#af1d2a359974b692a1947e8b90da01257" title="Draws thick lines.">GLHelper::drawBoxLines</a>(shape, width);
<a name="l01162"></a>01162 
<a name="l01163"></a>01163             <a class="code" href="../../da/d56/class_position_vector.html" title="A list of 2D-positions.">PositionVector</a> s1 = shape;
<a name="l01164"></a>01164             s1.<a class="code" href="../../da/d56/class_position_vector.html#ac7063f8efc9107e29531d0dac99c56cb">move2side</a>((<a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a>) .1);
<a name="l01165"></a>01165             glColor3d(r, 0, 0);
<a name="l01166"></a>01166             <a class="code" href="../../d3/d96/class_g_l_helper.html#a2fead3b2126a4c4c70f9bb266decda11" title="Draws a thin line.">GLHelper::drawLine</a>(s1);
<a name="l01167"></a>01167             s1.<a class="code" href="../../da/d56/class_position_vector.html#ac7063f8efc9107e29531d0dac99c56cb">move2side</a>((<a class="code" href="../../db/d16/config_8h.html#a2481f526aef497857d2b407bc09129fd">SUMOReal</a>) - .2);
<a name="l01168"></a>01168             glColor3d(0, g, 0);
<a name="l01169"></a>01169             <a class="code" href="../../d3/d96/class_g_l_helper.html#a2fead3b2126a4c4c70f9bb266decda11" title="Draws a thin line.">GLHelper::drawLine</a>(s1);
<a name="l01170"></a>01170 
<a name="l01171"></a>01171             glColor3d(r, g, 0);
<a name="l01172"></a>01172             <a class="code" href="../../d7/d3b/class_position.html" title="A point in 2D or 3D with translation and scaling methods.">Position</a> lastPos = shape[-1];
<a name="l01173"></a>01173         }
<a name="l01174"></a>01174         width = .2;
<a name="l01175"></a>01175     }
<a name="l01176"></a>01176 }
<a name="l01177"></a>01177 
<a name="l01178"></a>01178 
<a name="l01179"></a>01179 <span class="keywordtype">void</span>
<a name="l01180"></a><a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#ae6a5c49f6dafc5b699312c2e4297ef10">01180</a> <a class="code" href="../../d6/d17/class_g_u_i_vehicle.html#ae6a5c49f6dafc5b699312c2e4297ef10" title="Draws the route.">GUIVehicle::draw</a>(<span class="keyword">const</span> <a class="code" href="../../de/dd8/class_m_s_route.html">MSRoute</a>&amp; r)<span class="keyword"> const </span>{
<a name="l01181"></a>01181     <a class="code" href="../../d0/d24/_m_s_route_8h.html#a7253220e09ff4670521e6da98a9fc3f6">MSRouteIterator</a> i = r.<a class="code" href="../../de/dd8/class_m_s_route.html#a19df3c97135029c574956a7c0f88b9eb" title="Returns the begin of the list of edges to pass.">begin</a>();
<a name="l01182"></a>01182     <span class="keywordflow">for</span> (; i != r.<a class="code" href="../../de/dd8/class_m_s_route.html#a46a50e341d78ea7ac195dbfaf9fa7367" title="Returns the end of the list of edges to pass.">end</a>(); ++i) {
<a name="l01183"></a>01183         <span class="keyword">const</span> <a class="code" href="../../d7/d27/class_m_s_edge.html" title="A road/street connecting two junctions.">MSEdge</a>* e = *i;
<a name="l01184"></a>01184         <span class="keyword">const</span> <a class="code" href="../../d4/d64/class_g_u_i_edge.html" title="A road/street connecting two junctions (gui-version).">GUIEdge</a>* ge = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d4/d64/class_g_u_i_edge.html" title="A road/street connecting two junctions (gui-version).">GUIEdge</a>*<span class="keyword">&gt;</span>(e);
<a name="l01185"></a>01185         <span class="keyword">const</span> <a class="code" href="../../d4/da3/class_g_u_i_lane_wrapper.html" title="A MSLane extended for visualisation purposes.">GUILaneWrapper</a>&amp; lane = ge-&gt;<a class="code" href="../../d4/d64/class_g_u_i_edge.html#a5d0e9940baf4ca6c95285f3f408fca50" title="returns the enumerated lane&amp;#39;s geometry (!!! why not private with a friend?)">getLaneGeometry</a>((<span class="keywordtype">size_t</span>) 0);
<a name="l01186"></a>01186         <a class="code" href="../../d3/d96/class_g_l_helper.html#af1d2a359974b692a1947e8b90da01257" title="Draws thick lines.">GLHelper::drawBoxLines</a>(lane.<a class="code" href="../../d4/da3/class_g_u_i_lane_wrapper.html#a440893abe7b379a5ab984efa66d03949">getShape</a>(), lane.<a class="code" href="../../d4/da3/class_g_u_i_lane_wrapper.html#a3a543b8e502658a6f76c65d7fdea0159">getShapeRotations</a>(), lane.<a class="code" href="../../d4/da3/class_g_u_i_lane_wrapper.html#a4096450404a85704d794836306c3eef7">getShapeLengths</a>(), 1.0);
<a name="l01187"></a>01187     }
<a name="l01188"></a>01188 }
<a name="l01189"></a>01189 
<a name="l01190"></a>01190 
<a name="l01191"></a>01191 <span class="comment">/****************************************************************************/</span>
<a name="l01192"></a>01192 
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Tue Jul 17 12:15:59 2012 for SUMO - Simulation of Urban MObility by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
